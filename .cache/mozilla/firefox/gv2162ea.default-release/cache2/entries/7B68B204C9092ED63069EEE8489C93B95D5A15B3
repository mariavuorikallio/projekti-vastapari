var $main_layout_attributes = $("#main_layout_attributes");

function getFormConfigFromDOM($dom) {
    if ($.trim($dom.text()) != "") {
        return $.parseJSON($dom.text());
    }
}

function getFormConfigFromAPI(url, data, callback) {
    $.ajax({
        type: 'POST',
        dataType: 'json',
        data: data,
        url: url
    }).done(function (data) {
        callback(data)
    });
}

function alpacaForm() {
    this.init = function ($formDiv, $render) {
        this.$form = $formDiv;
        this.$formJson = this.$form ? this.$form.find('.form_json') : null;
        this.$renderDiv = $render ? $render : this.$form;
        this.itis = [];
        this.textEditors = [];
    }

    this.setLanguage = function (lang) {
        this.language = lang
    }

    this.setValidator = function (formConf, i18n) {
        Object.keys(formConf["schema"]["properties"]).forEach(function (key) {
            var pattern = formConf["schema"]["properties"][key]["pattern"];
            if (pattern) {
                formConf["schema"]["properties"][key]["pattern"] = new RegExp(pattern);
            }
            var validation = formConf["options"]["fields"][key]["validator"],
                validationFunction, failed_message;
            switch (validation) {
                case "finnish_id_validator":
                    validationFunction = finnishIdValidation;
                    failed_message = i18n_terms("invalid_social_id", i18n);
                    break;
                case "swedish_id_validator":
                    validationFunction = null;  // Checksum to be implemented
                    failed_message = i18n_terms("invalid_social_id", i18n);
                    break;
                case "iban_validator":
                    validationFunction = IBANValidation;
                    failed_message = i18n_terms("invalid_iban", i18n);
            }
            if (validationFunction) {
                formConf["options"]["fields"][key]["validator"] = function (callback) {
                    callback(validationFunction(this.getValue(), failed_message, formConf["schema"]["properties"][key]))
                }
            }
        });
        return formConf
    }

    this.defaultPostRender = function (control, updateFormJsonCb) {
        var $form = this.$form ? this.$form : control.domEl.closest('form'),
            $formJson = this.$formJson ? this.$formJson : $form.find('.form_json'),
            language = this.language,
            itis = this.itis,
            textEditors = this.textEditors;
        moveElements();
        initSelect2InAlpaca(control, language);
        initSpectrumInAlpaca(control);
        $(".date_widget_class input").prop('readonly', true);

        $(".alpaca-control.checkbox").each(function () {
            $(this).find('input').attr('name', $(this).attr('name'));
            $(this).find('input').attr('value', $(this).find('input').attr('data-checkbox-value'));
        });

        $('.alpaca-field-checkbox div:empty').remove();
        initAlpacaTogglers();

        $("#disclaimer").html("");
        initSubmitButtonValidation(control);
        $form.find('.checkbox_widget_class.alpaca-required').each(function (i, container) {
            var $label = $(container).find('label');

            if (!$label.find('.alpaca-required-indicator').length) {
                $label.append('<span class="alpaca-icon-required glyphicon glyphicon-star alpaca-required-indicator"></span>');
            }
        });

        function validateControl() {
            if (this.field.hasClass('alpaca-invalid')) {
                this.refreshValidationState();
            }
        }

        function updateFormJson(e) {
            if (!e) {
                return;
            }
            if ($formJson.length) {
                if (e.type === 'submit') {
                    itis.forEach(function (iti) {
                        $(iti.a).val(iti.getNumber());
                    });
                }
                var value = control.getValue();
                textEditors.forEach(function (editor) {
                    value[editor.name] = CKEDITOR.instances[editor.id].getData();
                });
                $formJson.val(JSON.stringify(value));

                if (e !== "init" && typeof updateFormJsonCb === 'function') {
                    updateFormJsonCb();
                }
            }
        }

        function moveElements() {
            var $applicantImage = $('#applicant-image'),
                $videoQuestions = $('#video-questions'),
                schemaProperties = control.schema.properties,
                hasProfileImage = _.has(schemaProperties, 'applicant_image') || _.has(schemaProperties, 'talent_image');

            // Applicant image
            if (hasProfileImage && $applicantImage.length) {
                var $wrapElements = $form.find('.alpaca-container-item[data-alpaca-container-item-name="first_name"],\
                                                .alpaca-container-item[data-alpaca-container-item-name="last_name"],\
                                                .alpaca-container-item[data-alpaca-container-item-name="email"],\
                                                .alpaca-container-item[data-alpaca-container-item-name="telephone"]');

                $wrapElements.wrapAll('<div class="alpaca-container-item"><div class="row"><div class="col-xs-12 col-sm-7" id="basic-information-col"></div></div></div>');

                var $applicantImageTarget = $form.find('#basic-information-col');
                $applicantImage.insertBefore($applicantImageTarget).show();
            }

            // Video questions
            if ($videoQuestions.length) {
                var $videoQuestionsTarget = $form.find('.alpaca-container-item[data-alpaca-container-item-name="applicant_attachment3"]');

                if (!$videoQuestionsTarget.length) {
                    $videoQuestionsTarget = $form.find('.alpaca-container-item').last();
                }

                $videoQuestions.insertAfter($videoQuestionsTarget).show();
            }

            $form.find('.alpaca-container-item').each(function () {
                var $item = $(this),
                    $itemCol = $item.find('.col-sm-9'),
                    $itemLabel = $item.find('label.control-label');

                if (!$itemLabel.length) {
                    $itemCol.addClass('col-sm-offset-3');
                }
            });
        }
        control.on('change', updateFormJson);
        $form.on('submit', updateFormJson);
        updateFormJson('init');

        $form.find("input[type='file']").on('change', function () {
            var val = $(this).val(),
                child = control.childrenById[$(this).attr("id")];

            if (child) {
                child.setValue(val);
            }
        })

        control.children.forEach(function (child) {
            // if Select all option in checkbox list
            if (child.options.select_all) {
                const { select_all_label } = child.options;
                child.field.find('.checkbox').wrapAll('<div class="checkboxes-inline"></div');
                $(`.alpaca-container-item[data-alpaca-container-item-name="${child.name}"] .alpaca-control-label`).after(`
                    <div class="alpaca-control checkbox checkbox-select-all" name="select_all_fields_to_share">
                        <label>
                            <input type="checkbox" data-checkbox-index="100" id="${child.name}_select_all" data-checkbox-value="select_all" class="" name="fields_to_share" value="select_all">
                            ${select_all_label}
                        </label>
                    </div>
                    <hr class="spacing-vertical-s">
                `);
                addListenerOnSelectAllCheckboxChanged($("#"+child.name+"_select_all"), child.name);
            }
            if (child.options.type == "ckeditor") {
                if (CKEDITOR.instances[child.id]) {
                    CKEDITOR.instances[child.id].destroy()
                }
                replaceWithCKEditor(child.id);
                textEditors.push(child);
            }
            if (child.type === 'phone' && control.view.type !== 'display') {
                var options = {
                    utilsScript: 'https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.12/js/utils.min.js',
                    autoPlaceholder: 'aggressive',
                    initialCountry: 'fi',
                    preferredCountries: ['fi'],
                    customContainer: 'responsive-block'
                };
                var iti = window.intlTelInput(child.control[0], _.merge(options, child.options.international_phone_options));
                itis.push(iti);
            }
            checkMaxItem(child);
            initDurationWidget(child);
            initTotalDurationWidget(child);
            control.on("ready", initSelect2InAlpaca);
            child.on("keyup", _.debounce(validateControl, 300, {'maxWait': 1000}));
            child.on("add", function (c) {
                initSelect2InAlpaca(c, language);
                initDurationWidget(c);
                initTotalDurationWidget(c);
                checkMaxItem(child);

                c.children.forEach((cField) => {
                    initDurationWidget(cField);
                    initTotalDurationWidget(cField);
                });
            });
            child.on("remove", function () {
                checkMaxItem(child)
            });
            if (child.field.hasClass("date_widget_class")) {
                var dt = child.data;
                if (dt) {
                    var localized = localizedDate(dt);
                    if (localized !== "Invalid date") {
                        child.control.text(localized);
                    }
                }
            }
            if (child.type === 'geocoord') {
                onGoogleMapsReady(function() {
                    geoLocationWidgetListener(child);
                });
            }
            if (child.children) {
                child.children.forEach(function (nested) {
                    initSelect2InAlpaca(nested, language);
                    initDurationWidget(nested);
                    initTotalDurationWidget(nested);
                });
            }
            showDisclaimer(child, $form);
        });

        var attachmentOverlaysCount = $('.attachment-overlay').length;
        if (attachmentOverlaysCount > 1) {
            $('.attachment-overlay').each(function (i, overlay) {
                var $overlay = $(overlay);
                var prevButton = '<a class="spacing-horizontal overlay-navigation-link" data-navigation_direction="-1">\
                                <span class="icon-svg-arrow-narrow-left"></span>\
                                Previous\
                            </a>';
                var nextButton = '<a class="spacing-horizontal overlay-navigation-link" data-navigation_direction="1">\
                                Next\
                                <span class="icon-svg-arrow-narrow-right"></span>\
                            </a>';

                $overlay.attr('data-overlay_index', i);

                if (i === 0) {
                    $overlay.find('.overlay-navigation').html(nextButton);
                } else if (i + 1 === attachmentOverlaysCount) {
                    $overlay.find('.overlay-navigation').html(prevButton);
                } else {
                    $overlay.find('.overlay-navigation').html(prevButton + nextButton);
                }
            });
        }
    }

    this.postRender = function () {
        var self = this;
        return function (control) {
            self.defaultPostRender(control);
        }
    }

    this.render = function () {
        this.$renderDiv.alpaca('destroy');
        if (this.formConf) {
            this.formConf["postRender"] = this.postRender();
            if (this.$renderDiv.closest('.alpaca-template-cv').length) {
                const formData = this.formConf.data;
                let alpacaHtml = '';

                function getEmploymentSectionHtml({ heading, headingInfo, data, startDateKey, endDateKey, titleHtml, subtitleHtml, descriptionHtml, hideDuration }) {
                    return `
                        <div class="alpaca-template-cv-section">
                            ${heading ? `
                                <h4>
                                    ${sanitizeTheHtml(heading)}
                                </h4>
                            ` : ''}
                            ${data.map((d) => {
                                const startDate = d[startDateKey] ? moment(d[startDateKey]) : '';
                                const endDate = d[endDateKey] ? moment(d[endDateKey]) : moment();
                                return `
                                    <div class="employment-info-container">
                                        <div class="col">
                                            <div class="employment-years">
                                                ${startDate ? `
                                                    ${startDate.year()} - ${d[endDateKey] ? endDate.year() : global_i18n('present')}
                                                ` : ''}
                                            </div>
                                            ${!hideDuration ?
                                                `<div class="employment-duration">
                                                    ${startDate ? `(${startDate.from(endDate, true)})` : ''}
                                                </div>`
                                            : ''}
                                        </div>
                                        <div class="col">
                                            ${titleHtml ? `<div class="employment-title">${titleHtml(d)}</div>` : ''}
                                            ${subtitleHtml ? `<div class="employment-subtitle">${subtitleHtml(d)}</div>` : ''}
                                            ${descriptionHtml ? `<div class="employment-description">${descriptionHtml(d)}</div>` : ''}
                                        </div>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    `;
                }

                for (const key in formData) {
                    const data = formData[key];
                    const props = this.formConf.schema.properties[key];

                    if (key === 'summary') {
                        alpacaHtml += `
                            <div class="alpaca-template-cv-section">
                                <p>${sanitizeTheHtml(data)}</p>
                            </div>
                        `;
                    } else if (key === 'employments' || key === 'draft_employments') {
                        let totalYears = 0;
                        data.forEach((d) => {
                            const startDate = d.dates_start ? moment(d.dates_start) : '';
                            const endDate = d.dates_end ? moment(d.dates_end) : moment();
                            totalYears += endDate.diff(startDate, 'years');
                        });
                        alpacaHtml += getEmploymentSectionHtml({
                            heading: props.title,
                            headingInfo: global_i18n('x_years').replace('{}', totalYears),
                            data,
                            startDateKey: 'dates_start',
                            endDateKey: 'dates_end',
                            titleHtml: (d) => sanitizeTheHtml(d.title),
                            subtitleHtml: (d) => {
                                return `
                                    ${sanitizeTheHtml(d.company_name)}
                                    ${d.location ? `(${sanitizeTheHtml(d.location)})` : ''}
                                `;
                            },
                            descriptionHtml: (d) => sanitizeTheHtml(d.description),
                        });
                    } else if (key === 'education' || key === 'draft_education') {
                        alpacaHtml += getEmploymentSectionHtml({
                            heading: props.title,
                            headingInfo: sanitizeTheHtml(data[0].degree_name),
                            data,
                            startDateKey: 'dates_start',
                            endDateKey: 'dates_end',
                            titleHtml: (d) => `${sanitizeTheHtml(d.degree_name)} ${sanitizeTheHtml(d.field_of_study)}`,
                            subtitleHtml: (d) => {
                                return `
                                    ${sanitizeTheHtml(d.grade)}
                                    ${d.school_name ? `(${sanitizeTheHtml(d.school_name)})` : ''}
                                `;
                            },
                            hideDuration: true,
                        });
                    } else if (key === 'highlights') {
                        alpacaHtml += `
                            <div class="alpaca-template-cv-section">
                                <h4>${sanitizeTheHtml(props.title)}</h4>
                                <ul>
                                    ${data.map((d) => `<li>${sanitizeTheHtml(d)}</li>`).join('')}
                                </ul>
                            </div>
                        `;
                    }
                }
                this.$renderDiv.html(`<div class="alpaca-template-cv-container">${alpacaHtml}</div>`);
                return;
            }
            this.$renderDiv.alpaca(this.formConf);
        }
    }

    this.updateJsonConfiguration = function (config) {
        if (config) {
            for (var key in config["schema"]["properties"]) {
                if (key === "address" && Object.keys(config["schema"]["properties"]).includes("geocoord")) {
                    config["options"]["fields"][key]["type"] = "geocoord";
                }
            }
            this.formConf = this.setValidator(config, global_i18n_object)
        }
        this.render();
    }
    
    this.reset = function () {
        const form = $(this.$renderDiv).alpaca('get');
        if (form) {
            form.schema.data = {};
            form.setValue({});
            form.refresh();
        }
    };
}

function showDisclaimer(control) {
    const options = control["options"] && control["options"]["smallprint"],
        $disclaimer = $("#disclaimer");
    if (options && $disclaimer) {
        let current_html = $disclaimer.html();
        current_html += "<p>" + options["description"] + "</p>";
        $disclaimer.html(current_html);
    }
}

function checkMaxItem(control) {
    var $button = control.domEl.find(".alpaca-array-toolbar[data-alpaca-array-toolbar-field-id='" + control.id + "']")
    if (control.children && control.schema.maxItems) {
        $button.toggle(control.children.length < control.schema.maxItems)
    }
}

$.alpaca.Fields.DateTimeWidget = $.alpaca.Fields.TextField.extend({
    getFieldType: function () {
        return "jquery-datetime-picker";
    },
    afterRenderControl: function (model, callback) {
        var self = this;
        callback();
        if (!self.isDisplayOnly()) {
            var datetimepickerOptions = {
                dateFormat: "yy-mm-dd",
                timeFormat: "HH:mm",
                controlType: 'select',
                oneLine: true
            }
            $(self.control).datetimepicker(_.merge(datetimepickerOptions, self.options.datetimepickerOptions));
        }
    }

})
Alpaca.registerFieldClass("jquery-datetime-picker", Alpaca.Fields.DateTimeWidget);


$.alpaca.Fields.NPSWidget = $.alpaca.Fields.TextField.extend({
        getFieldType: function () {
            return "nps-score-widget";
        },
        afterRenderControl: function (model, callback) {
            var self = this;
            callback();
            let container = self.field.find(".vote-container");
            let voteNum = self.options["nps_range"] || 10;
            for (var i = 0; i < voteNum + 1; i++) {
                let voteBox = '<div class="vote-box ' + self.id + '-vote-box" data-index=' + i + '>' +
                    '<span>' + i + '</span>' +
                    '</div>';
                container.append(voteBox);
            }
            $('.' + self.id + '-vote-box').on("click", function () {
                let clicked = this.dataset.index;
                $('.' + self.id + '-vote-box').each(function () {
                    if (clicked != this.dataset.index) $(this).removeClass("active")
                });
                if ($(this).toggleClass("active").hasClass("active")) {
                    self.control.val(this.dataset.index);
                } else self.control.val(null);
            });
        }
    }
)
Alpaca.registerFieldClass("nps-score-widget", Alpaca.Fields.NPSWidget);


$.alpaca.Fields.GeoCoordField = $.alpaca.Fields.TextField;
Alpaca.registerFieldClass("geocoord", Alpaca.Fields.GeoCoordField);


$.alpaca.Fields.SelectWithDynamicEnums = $.alpaca.Fields.SelectField.extend({
    getFieldType: function () {
        return "select-with-dynamic-enums";
    },
    afterRenderControl: function (model, callback) {
        var self = this;
        callback();
        if (self.data && self.data.length > 0 && self.isDisplayOnly()) {
            var data = [];
            self.data.forEach(function (item) {
                data.push(item["value"])
            });
            $.get(self.options["select2Options"]["ajax"]["url"], {"values[]": data}, function (result) {
                var result_labels = [];
                if (result["results"]) {
                    result["results"].forEach(function (item) {
                        result_labels.push(item.text);
                    });
                }
                self.control.text(result_labels.join(", "));
            });

        }
        $(self.control).change(function (e) {
            var val = $(self.control).val();
            // set value silently
            self.setValue(val, true);
            self.refreshValidationState();
            self.triggerWithPropagation("change");
        });
    }
});
Alpaca.registerFieldClass("select-with-dynamic-enums", Alpaca.Fields.SelectWithDynamicEnums);
Alpaca.regexps.phone = /^\+[1-9]\d{3,14}$/; // RegEx Matching for E.164 https://www.twilio.com/docs/glossary/what-e164#regex-matching-for-e164

function initSelect2InAlpaca(control, lang) {
    function doInitSelect2() {
        control.children.forEach(function (child, index) {
            if ($(child.field[0]).hasClass("alpaca_select2_widget")) {
                var $select = $(child.field[0]).find("select"),
                    options = child.options && child.options.select2Options || {},
                    data = [];
                $select.select2(options);
                child.data.forEach(function (item) {
                    data.push(item["value"])
                });
                getLabelsForSelect2Values(options.ajax && options.ajax.url, data, $select)
            }
        })
    }

    if (control.children) {
        var $i18nSelectJs = $('#select2-i18n-js');
        if (lang && $i18nSelectJs.length) {
            $.getScript($i18nSelectJs.data('src').replace('{}', lang), doInitSelect2)
        } else {
            doInitSelect2()
        }
    }
}

function initDurationWidget(self) {
    if (self.getFieldType() !== "duration-widget") {
        return;
    }

    const parentField = self.getParent();
    const startField = parentField.childrenByPropertyId[self.startFieldName];
    const dateFormatCStyle = startField.schema?.date_config?.format;
    if (dateFormatCStyle) {
        self.dateFormat = convertCStyleToMomentFormat(dateFormatCStyle);
    }
    const endField = parentField.childrenByPropertyId[self.endFieldName];

    if (startField && endField) {
        // Listen for changes on start_date and end_date
        startField.control.on("change", function () {
            self.calculateDuration(startField.getValue(), endField.getValue());
        });

        endField.control.on("change", function () {
            self.calculateDuration(startField.getValue(), endField.getValue());
        });
    }
}

function initTotalDurationWidget(self) {
    if (self.getFieldType() !== "total-duration-widget") {
        return;
    }
    
    const parentField = self.getParent();
    const targetField = parentField.childrenByPropertyId[self.dataCollectionField];

    if (targetField) {
        targetField.on("add", function () {
            self.attachListenersToCollectionRows(targetField);
        });

        targetField.on("remove", function () {
            self.calculateTotal();
        });

        self.attachListenersToCollectionRows(targetField);
    }
}

// GeoLocation Places
function geoLocationWidgetListener(control) {
    const options = control["options"]["geoOptions"],
        id = control["id"];
    const $lat = $("input[name=geocoord_latitude]") && $("input[name=geocoord_latitude]")[0],
        $lon = $("input[name=geocoord_longitude]") && $("input[name=geocoord_longitude]")[0];
    if (id == "address" && $lat) {
        const address_input = $(control.field[0]).find("input");
        addListenerForGeoLocation(address_input[0], options, function (place) {
            $lat.value = place.geometry.location.lat();
            $lon.value = place.geometry.location.lng();
            var $hometown = $("input[name=hometown]") && $("input[name=hometown]")[0],
                $postoffice = $("input[name=post_office]") && $("input[name=post_office]")[0],
                $country = $("input[name=country]") && $("input[name=country]")[0];
            if ($hometown) {
                $hometown.value = place.locality;
            }
            if ($postoffice) {
                $postoffice.value = place.postal_code;
            }
            if ($country) {
                $country.value = getCountryISO3(place.country.toUpperCase());
            }
        });
    }
}

function addListenerForGeoLocation(element, options, callback) {
    const types = {
        "all": [],
        "address": ["address"],
        "establishment": ["establishment"],
        "geocode": ["geocode"]
    };
    const autocomplete = new google.maps.places.Autocomplete(element);
    autocomplete.setTypes(types['all']);
    autocomplete.setFields(["address_components", "geometry", "icon", "name"]);
    if (options) {
        autocomplete.setComponentRestrictions(options["restrictions"]);
    }
    autocomplete.addListener("place_changed", function () {
        const place = autocomplete.getPlace();
        if (!place.geometry) {
            window.alert("No details available for input: '" + place.name + "'");
            return;
        }

        let address = "";
        if (place.address_components) {
            const postal_code = place.address_components.find(function (item) {
                return (item.types && item.types.indexOf('postal_code') !== -1)
            });
            const locality = place.address_components.find(function (item) {
                return (item.types && item.types.indexOf('locality') !== -1)
            });
            const country = place.address_components.find(function (item) {
                return (item.types && item.types.indexOf('country') !== -1)
            });
            if (postal_code || locality) {
                place.postal_code = postal_code ? postal_code.short_name : "";
                place.locality = locality ? locality.short_name : "";
                place.country = country ? country.short_name : "";
            }
            address = [
                (place.address_components[0] &&
                    place.address_components[0].short_name) ||
                "",
                (place.address_components[1] &&
                    place.address_components[1].short_name) ||
                "",
                (place.address_components[2] &&
                    place.address_components[2].short_name) ||
                "",
            ].join(" ");
        }

        place.value = element.value;
        place.address = address;
        callback(place);
    });
}

function initSpectrumInAlpaca(control) {
    function hexIsLight(color) {
        const hex = color.replace('#', '');
        const cR = parseInt(hex.substring(0, 0 + 2), 16);
        const cG = parseInt(hex.substring(2, 2 + 2), 16);
        const cB = parseInt(hex.substring(4, 4 + 2), 16);
        const brightness = ((cR * 299) + (cG * 587) + (cB * 114)) / 1000;
        return brightness > 155;
    }

    function updateHexPreview($spPreviewInner, hexColor) {
        $spPreviewInner.css('color', (hexIsLight(hexColor) ? 'inherit' : '#fff'));
        $spPreviewInner.text(hexColor.toUpperCase());
    }

    const $container = control.domEl || control;
    const isHtmlForm = !!$container.closest('form').length,
        $form = isHtmlForm ? $container.closest('form') : $container.closest('.ta-form');
    const $color = $form.find('input[type="color"]')

    $.each($color, function (index, value) {
        const $input = $(value)
        const inputValue = $input.attr("name")
        $('label[for="' + inputValue + '"]').attr('for', '');
        $input.wrap('<div class="colorpicker-container"></div>').spectrum({
            preferredFormat: "hex",
            showInput: true,
            showPalette: true,
            palette: [["black"], ["white"], ["red"], ["rgb(0, 255, 0)"], ["rgb(0, 0, 255)"]],
            showAlpha: true,
            change: function (color) {
                const hexColor = color.toHexString();
                const $container = $input.closest('.colorpicker-container');
                $input.val(hexColor);
                updateHexPreview($container.find('.sp-preview-inner'), hexColor);
            }
        });
        const $container = $input.closest('.colorpicker-container');
        $container.find('.sp-preview').after(`
            <div class="ta-sp-preview-label">${global_i18n('select_color', global_i18n_object)}</div>
        `);
        updateHexPreview($container.find('.sp-preview-inner'), $input.spectrum('get').toHexString());
    })
}

function addListenerOnSelectAllCheckboxChanged(ele, name) {
    const checkboxSelector = `input[type="checkbox"][name="${name}"]:not([value="select_all"])`;

    function checkSelectAllCheckboxState() {
        const checkboxesArray = [...document.querySelectorAll(checkboxSelector)];
        const allChecked = checkboxesArray.every((checkbox) => checkbox.checked);
        const someChecked = checkboxesArray.some((checkbox) => checkbox.checked);
        ele.prop('checked', someChecked);
        ele.prop('indeterminate', !allChecked && someChecked);
    }

    checkSelectAllCheckboxState();

    ele.on('change', function(e) {
        const isChecked = e.target.checked;
        selectAllCheckboxes(name, isChecked);
    });

    $(document).on('change', checkboxSelector, checkSelectAllCheckboxState);
}

function selectAllCheckboxes(name, flag) {
    $(".alpaca-control.checkbox[name="+name+"]").each(function () {
        let checked_val = $(this).find('input[type=checkbox]').prop('checked');
        if (flag !== checked_val) {
            $(this).find('input[type=checkbox]').click();
        }
    });
}

$.alpaca.Fields.DurationWidget = $.alpaca.Fields.NumberField.extend({
    getFieldType: function () {
        return "duration-widget"; // Define the custom field type
    },
    setup: function () {
        this.base();

        this.startFieldName = this.options.startField;
        this.endFieldName = this.options.endField;
    },
    calculateDuration: function (startDate, endDate) {
        var self = this;
        const parentField = self.getParent();
        const startField = parentField.childrenByPropertyId[self.startFieldName];
        const $datepicker = startField.control;
        const getDateFormat = ($datepicker) => {
            const datepickerFormat = $datepicker.datepicker('option', 'dateFormat');
            return convertDatepickerToMomentFormat(datepickerFormat);
        };

        let dateFormat = self.dateFormat || getDateFormat($datepicker);

        if (startDate) {
            try {
                const start = moment(startDate, dateFormat);
                const end = endDate ? moment(endDate, dateFormat) : moment();

                if (!start.isValid() || !end.isValid()) {
                    console.error("Invalid dates provided.");
                }

                const duration = Math.max(0, end.diff(start, 'days')); // Difference in days

                self.setValue(duration)
                self.control.trigger("duration:updated", duration)

            } catch (error) {
                console.error('Error calculating duration:', error);
                self.setValue(0)
                self.control.trigger("duration:updated", 0)

            }
        } else {
            self.setValue(0)
        }
    }
});

// Register the custom field class
Alpaca.registerFieldClass("duration-widget", $.alpaca.Fields.DurationWidget);


$.alpaca.Fields.TotalDurationWidget = $.alpaca.Fields.NumberField.extend({
    getFieldType: function () {
        return "total-duration-widget";
    },
    setup: function () {
        this.base();

        this.dataCollectionField = this.options.dataCollectionField;
        this.dataField = this.options.dataField;
    },
    attachListenersToCollectionRows: function (CollectionField) {
        const self = this;

        CollectionField.getValue().forEach(function (item, index) {
            const rowField = CollectionField.children[index];
            if (rowField) {
                const durationField = rowField.childrenByPropertyId[self.dataField];
                if (durationField) {
                    durationField.control.off("duration:updated").on("duration:updated", function () {
                        self.calculateTotal();
                    });
                    durationField.control.off("change.totalDuration").on("change.totalDuration", function () {
                        self.calculateTotal();
                    });
                }
            }
        });
    },
    calculateTotal: function () {
        const self = this;
        const targetField = this.getParent().childrenByPropertyId[self.dataCollectionField];
        let total = 0;

        if (targetField) {
            targetField.getValue().forEach(function (item, index) {
                const value = item.duration || 0;
                total += value;
            });
        }
        this.setValue(total);
    }
});

Alpaca.registerFieldClass("total-duration-widget", $.alpaca.Fields.TotalDurationWidget);
        $t x ÿÿ     20241209150345-8lt 	EX;G   https://ats.talentadore.com/static/alpaca_custom.js?v=4.6.0hm26-2964e10      ‰  var $main_layout_attributes = $("#main_layout_attributes");

function getFormConfigFromDOM($dom) {
    if ($.trim($dom.text()) != "") {
        return $.parseJSON($dom.text());
    }
}

function getFormConfigFromAPI(url, data, callback) {
    $.ajax({
        type: 'POST',
        dataType: 'json',
        data: data,
        url: url
    }).done(function (data) {
        callback(data)
    });
}

function alpacaForm() {
    this.init = function ($formDiv, $render) {
        this.$form = $formDiv;
        this.$formJson = this.$form ? this.$form.find('.form_json') : null;
        this.$renderDiv = $render ? $render : this.$form;
        this.itis = [];
        this.textEditors = [];
    }

    this.setLanguage = function (lang) {
        this.language = lang
    }

    this.setValidator = function (formConf, i18n) {
        Object.keys(formConf["schema"]["properties"]).forEach(function (key) {
            var pattern = formConf["schema"]["properties"][key]["pattern"];
            if (pattern) {
                formConf["schema"]["properties"][key]["pattern"] = new RegExp(pattern);
            }
            var validation = formConf["options"]["fields"][key]["validator"],
                validationFunction, failed_message;
            switch (validation) {
                case "finnish_id_validator":
                    validationFunction = finnishIdValidation;
                    failed_message = i18n_terms("invalid_social_id", i18n);
                    break;
                case "swedish_id_validator":
                    validationFunction = null;  // Checksum to be implemented
                    failed_message = i18n_terms("invalid_social_id", i18n);
                    break;
                case "iban_validator":
                    validationFunction = IBANValidation;
                    failed_message = i18n_terms("invalid_iban", i18n);
            }
            if (validationFunction) {
                formConf["options"]["fields"][key]["validator"] = function (callback) {
                    callback(validationFunction(this.getValue(), failed_message, formConf["schema"]["properties"][key]))
                }
            }
        });
        return formConf
    }

    this.defaultPostRender = function (control, updateFormJsonCb) {
        var $form = this.$form ? this.$form : control.domEl.closest('form'),
            $formJson = this.$formJson ? this.$formJson : $form.find('.form_json'),
            language = this.language,
            itis = this.itis,
            textEditors = this.textEditors;
        moveElements();
        initSelect2InAlpaca(control, language);
        initSpectrumInAlpaca(control);
        $(".date_widget_class input").prop('readonly', true);

        $(".alpaca-control.checkbox").each(function () {
            $(this).find('input').attr('name', $(this).attr('name'));
            $(this).find('input').attr('value', $(this).find('input').attr('data-checkbox-value'));
        });

        $('.alpaca-field-checkbox div:empty').remove();
        initAlpacaTogglers();

        $("#disclaimer").html("");
        initSubmitButtonValidation(control);
        $form.find('.checkbox_widget_class.alpaca-required').each(function (i, container) {
            var $label = $(container).find('label');

            if (!$label.find('.alpaca-required-indicator').length) {
                $label.append('<span class="alpaca-icon-required glyphicon glyphicon-star alpaca-required-indicator"></span>');
            }
        });

        function validateControl() {
            if (this.field.hasClass('alpaca-invalid')) {
                this.refreshValidationState();
            }
        }

        function updateFormJson(e) {
            if (!e) {
                return;
            }
            if ($formJson.length) {
                if (e.type === 'submit') {
                    itis.forEach(function (iti) {
                        $(iti.a).val(iti.getNumber());
                    });
                }
                var value = control.getValue();
                textEditors.forEach(function (editor) {
                    value[editor.name] = CKEDITOR.instances[editor.id].getData();
                });
                $formJson.val(JSON.stringify(value));

                if (e !== "init" && typeof updateFormJsonCb === 'function') {
                    updateFormJsonCb();
                }
            }
        }

        function moveElements() {
            var $applicantImage = $('#applicant-image'),
                $videoQuestions = $('#video-questions'),
                schemaProperties = control.schema.properties,
                hasProfileImage = _.has(schemaProperties, 'applicant_image') || _.has(schemaProperties, 'talent_image');

            // Applicant image
            if (hasProfileImage && $applicantImage.length) {
                var $wrapElements = $form.find('.alpaca-container-item[data-alpaca-container-item-name="first_name"],\
                                                .alpaca-container-item[data-alpaca-container-item-name="last_name"],\
                                                .alpaca-container-item[data-alpaca-container-item-name="email"],\
                                                .alpaca-container-item[data-alpaca-container-item-name="telephone"]');

                $wrapElements.wrapAll('<div class="alpaca-container-item"><div class="row"><div class="col-xs-12 col-sm-7" id="basic-information-col"></div></div></div>');

                var $applicantImageTarget = $form.find('#basic-information-col');
                $applicantImage.insertBefore($applicantImageTarget).show();
            }

            // Video questions
            if ($videoQuestions.length) {
                var $videoQuestionsTarget = $form.find('.alpaca-container-item[data-alpaca-container-item-name="applicant_attachment3"]');

                if (!$videoQuestionsTarget.length) {
                    $videoQuestionsTarget = $form.find('.alpaca-container-item').last();
                }

                $videoQuestions.insertAfter($videoQuestionsTarget).show();
            }

            $form.find('.alpaca-container-item').each(function () {
                var $item = $(this),
                    $itemCol = $item.find('.col-sm-9'),
                    $itemLabel = $item.find('label.control-label');

                if (!$itemLabel.length) {
                    $itemCol.addClass('col-sm-offset-3');
                }
            });
        }
        control.on('change', updateFormJson);
        $form.on('submit', updateFormJson);
        updateFormJson('init');

        $form.find("input[type='file']").on('change', function () {
            var val = $(this).val(),
                child = control.childrenById[$(this).attr("id")];

            if (child) {
                child.setValue(val);
            }
        })

        control.children.forEach(function (child) {
            // if Select all option in checkbox list
            if (child.options.select_all) {
                const { select_all_label } = child.options;
                child.field.find('.checkbox').wrapAll('<div class="checkboxes-inline"></div');
                $(`.alpaca-container-item[data-alpaca-container-item-name="${child.name}"] .alpaca-control-label`).after(`
                    <div class="alpaca-control checkbox checkbox-select-all" name="select_all_fields_to_share">
                        <label>
                            <input type="checkbox" data-checkbox-index="100" id="${child.name}_select_all" data-checkbox-value="select_all" class="" name="fields_to_share" value="select_all">
                            ${select_all_label}
                        </label>
                    </div>
                    <hr class="spacing-vertical-s">
                `);
                addListenerOnSelectAllCheckboxChanged($("#"+child.name+"_select_all"), child.name);
            }
            if (child.options.type == "ckeditor") {
                if (CKEDITOR.instances[child.id]) {
                    CKEDITOR.instances[child.id].destroy()
                }
                replaceWithCKEditor(child.id);
                textEditors.push(child);
            }
            if (child.type === 'phone' && control.view.type !== 'display') {
                var options = {
                    utilsScript: 'https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.12/js/utils.min.js',
                    autoPlaceholder: 'aggressive',
                    initialCountry: 'fi',
                    preferredCountries: ['fi'],
                    customContainer: 'responsive-block'
                };
                var iti = window.intlTelInput(child.control[0], _.merge(options, child.options.international_phone_options));
                itis.push(iti);
            }
            checkMaxItem(child);
            initDurationWidget(child);
            initTotalDurationWidget(child);
            control.on("ready", initSelect2InAlpaca);
            child.on("keyup", _.debounce(validateControl, 300, {'maxWait': 1000}));
            child.on("add", function (c) {
                initSelect2InAlpaca(c, language);
                initDurationWidget(c);
                initTotalDurationWidget(c);
                checkMaxItem(child);

                c.children.forEach((cField) => {
                    initDurationWidget(cField);
                    initTotalDurationWidget(cField);
                });
            });
            child.on("remove", function () {
                checkMaxItem(child)
            });
            if (child.field.hasClass("date_widget_class")) {
                var dt = child.data;
                if (dt) {
                    var localized = localizedDate(dt);
                    if (localized !== "Invalid date") {
                        child.control.text(localized);
                    }
                }
            }
            if (child.type === 'geocoord') {
                onGoogleMapsReady(function() {
                    geoLocationWidgetListener(child);
                });
            }
            if (child.children) {
                child.children.forEach(function (nested) {
                    initSelect2InAlpaca(nested, language);
                    initDurationWidget(nested);
                    initTotalDurationWidget(nested);
                });
            }
            showDisclaimer(child, $form);
        });

        var attachmentOverlaysCount = $('.attachment-overlay').length;
        if (attachmentOverlaysCount > 1) {
            $('.attachment-overlay').each(function (i, overlay) {
                var $overlay = $(overlay);
                var prevButton = '<a class="spacing-horizontal overlay-navigation-link" data-navigation_direction="-1">\
                                <span class="icon-svg-arrow-narrow-left"></span>\
                                Previous\
                            </a>';
                var nextButton = '<a class="spacing-horizontal overlay-navigation-link" data-navigation_direction="1">\
                                Next\
                                <span class="icon-svg-arrow-narrow-right"></span>\
                            </a>';

                $overlay.attr('data-overlay_index', i);

                if (i === 0) {
                    $overlay.find('.overlay-navigation').html(nextButton);
                } else if (i + 1 === attachmentOverlaysCount) {
                    $overlay.find('.overlay-navigation').html(prevButton);
                } else {
                    $overlay.find('.overlay-navigation').html(prevButton + nextButton);
                }
            });
        }
    }

    this.postRender = function () {
        var self = this;
        return function (control) {
            self.defaultPostRender(control);
        }
    }

    this.render = function () {
        this.$renderDiv.alpaca('destroy');
        if (this.formConf) {
            this.formConf["postRender"] = this.postRender();
            if (this.$renderDiv.closest('.alpaca-template-cv').length) {
                const formData = this.formConf.data;
                let alpacaHtml = '';

                function getEmploymentSectionHtml({ heading, headingInfo, data, startDateKey, endDateKey, titleHtml, subtitleHtml, descriptionHtml, hideDuration }) {
                    return `
                        <div class="alpaca-template-cv-section">
                            ${heading ? `
                                <h4>
                                    ${sanitizeTheHtml(heading)}
                                </h4>
                            ` : ''}
                            ${data.map((d) => {
                                const startDate = d[startDateKey] ? moment(d[startDateKey]) : '';
                                const endDate = d[endDateKey] ? moment(d[endDateKey]) : moment();
                                return `
                                    <div class="employment-info-container">
                                        <div class="col">
                                            <div class="employment-years">
                                                ${startDate ? `
                                                    ${startDate.year()} - ${d[endDateKey] ? endDate.year() : global_i18n('present')}
                                                ` : ''}
                                            </div>
                                            ${!hideDuration ?
                                                `<div class="employment-duration">
                                                    ${startDate ? `(${startDate.from(endDate, true)})` : ''}
                                                </div>`
                                            : ''}
                                        </div>
                                        <div class="col">
                                            ${titleHtml ? `<div class="employment-title">${titleHtml(d)}</div>` : ''}
                                            ${subtitleHtml ? `<div class="employment-subtitle">${subtitleHtml(d)}</div>` : ''}
                                            ${descriptionHtml ? `<div class="employment-description">${descriptionHtml(d)}</div>` : ''}
                                        </div>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    `;
                }

                for (const key in formData) {
                    const data = formData[key];
                    const props = this.formConf.schema.properties[key];

                    if (key === 'summary') {
                        alpacaHtml += `
                            <div class="alpaca-template-cv-section">
                                <p>${sanitizeTheHtml(data)}</p>
                            </div>
                        `;
                    } else if (key === 'employments' || key === 'draft_employments') {
                        let totalYears = 0;
                        data.forEach((d) => {
                            const startDate = d.dates_start ? moment(d.dates_start) : '';
                            const endDate = d.dates_end ? moment(d.dates_end) : moment();
                            totalYears += endDate.diff(startDate, 'years');
                        });
                        alpacaHtml += getEmploymentSectionHtml({
                            heading: props.title,
                            headingInfo: global_i18n('x_years').replace('{}', totalYears),
                            data,
                            startDateKey: 'dates_start',
                            endDateKey: 'dates_end',
                            titleHtml: (d) => sanitizeTheHtml(d.title),
                            subtitleHtml: (d) => {
                                return `
                                    ${sanitizeTheHtml(d.company_name)}
                                    ${d.location ? `(${sanitizeTheHtml(d.location)})` : ''}
                                `;
                            },
                            descriptionHtml: (d) => sanitizeTheHtml(d.description),
                        });
                    } else if (key === 'education' || key === 'draft_education') {
                        alpacaHtml += getEmploymentSectionHtml({
                            heading: props.title,
                            headingInfo: sanitizeTheHtml(data[0].degree_name),
                            data,
                            startDateKey: 'dates_start',
                            endDateKey: 'dates_end',
                            titleHtml: (d) => `${sanitizeTheHtml(d.degree_name)} ${sanitizeTheHtml(d.field_of_study)}`,
                            subtitleHtml: (d) => {
                                return `
                                    ${sanitizeTheHtml(d.grade)}
                                    ${d.school_name ? `(${sanitizeTheHtml(d.school_name)})` : ''}
                                `;
                            },
                            hideDuration: true,
                        });
                    } else if (key === 'highlights') {
                        alpacaHtml += `
                            <div class="alpaca-template-cv-section">
                                <h4>${sanitizeTheHtml(props.title)}</h4>
                                <ul>
                                    ${data.map((d) => `<li>${sanitizeTheHtml(d)}</li>`).join('')}
                                </ul>
                            </div>
                        `;
                    }
                }
                this.$renderDiv.html(`<div class="alpaca-template-cv-container">${alpacaHtml}</div>`);
                return;
            }
            this.$renderDiv.alpaca(this.formConf);
        }
    }

    this.updateJsonConfiguration = function (config) {
        if (config) {
            for (var key in config["schema"]["properties"]) {
                if (key === "address" && Object.keys(config["schema"]["properties"]).includes("geocoord")) {
                    config["options"]["fields"][key]["type"] = "geocoord";
                }
            }
            this.formConf = this.setValidator(config, global_i18n_object)
        }
        this.render();
    }
    
    this.reset = function () {
        const form = $(this.$renderDiv).alpaca('get');
        if (form) {
            form.schema.data = {};
            form.setValue({});
            form.refresh();
        }
    };
}

function showDisclaimer(control) {
    const options = control["options"] && control["options"]["smallprint"],
        $disclaimer = $("#disclaimer");
    if (options && $disclaimer) {
        let current_html = $disclaimer.html();
        current_html += "<p>" + options["description"] + "</p>";
        $disclaimer.html(current_html);
    }
}

function checkMaxItem(control) {
    var $button = control.domEl.find(".alpaca-array-toolbar[data-alpaca-array-toolbar-field-id='" + control.id + "']")
    if (control.children && control.schema.maxItems) {
        $button.toggle(control.children.length < control.schema.maxItems)
    }
}

$.alpaca.Fields.DateTimeWidget = $.alpaca.Fields.TextField.extend({
    getFieldType: function () {
        return "jquery-datetime-picker";
    },
    afterRenderControl: function (model, callback) {
        var self = this;
        callback();
        if (!self.isDisplayOnly()) {
            var datetimepickerOptions = {
                dateFormat: "yy-mm-dd",
                timeFormat: "HH:mm",
                controlType: 'select',
                oneLine: true
            }
            $(self.control).datetimepicker(_.merge(datetimepickerOptions, self.options.datetimepickerOptions));
        }
    }

})
Alpaca.registerFieldClass("jquery-datetime-picker", Alpaca.Fields.DateTimeWidget);


$.alpaca.Fields.NPSWidget = $.alpaca.Fields.TextField.extend({
        getFieldType: function () {
            return "nps-score-widget";
        },
        afterRenderControl: function (model, callback) {
            var self = this;
            callback();
            let container = self.field.find(".vote-container");
            let voteNum = self.options["nps_range"] || 10;
            for (var i = 0; i < voteNum + 1; i++) {
                let voteBox = '<div class="vote-box ' + self.id + '-vote-box" data-index=' + i + '>' +
                    '<span>' + i + '</span>' +
                    '</div>';
                container.append(voteBox);
            }
            $('.' + self.id + '-vote-box').on("click", function () {
                let clicked = this.dataset.index;
                $('.' + self.id + '-vote-box').each(function () {
                    if (clicked != this.dataset.index) $(this).removeClass("active")
                });
                if ($(this).toggleClass("active").hasClass("active")) {
                    self.control.val(this.dataset.index);
                } else self.control.val(null);
            });
        }
    }
)
Alpaca.registerFieldClass("nps-score-widget", Alpaca.Fields.NPSWidget);


$.alpaca.Fields.GeoCoordField = $.alpaca.Fields.TextField;
Alpaca.registerFieldClass("geocoord", Alpaca.Fields.GeoCoordField);


$.alpaca.Fields.SelectWithDynamicEnums = $.alpaca.Fields.SelectField.extend({
    getFieldType: function () {
        return "select-with-dynamic-enums";
    },
    afterRenderControl: function (model, callback) {
        var self = this;
        callback();
        if (self.data && self.data.length > 0 && self.isDisplayOnly()) {
            var data = [];
            self.data.forEach(function (item) {
                data.push(item["value"])
            });
            $.get(self.options["select2Options"]["ajax"]["url"], {"values[]": data}, function (result) {
                var result_labels = [];
                if (result["results"]) {
                    result["results"].forEach(function (item) {
                        result_labels.push(item.text);
                    });
                }
                self.control.text(result_labels.join(", "));
            });

        }
        $(self.control).change(function (e) {
            var val = $(self.control).val();
            // set value silently
            self.setValue(val, true);
            self.refreshValidationState();
            self.triggerWithPropagation("change");
        });
    }
});
Alpaca.registerFieldClass("select-with-dynamic-enums", Alpaca.Fields.SelectWithDynamicEnums);
Alpaca.regexps.phone = /^\+[1-9]\d{3,14}$/; // RegEx Matching for E.164 https://www.twilio.com/docs/glossary/what-e164#regex-matching-for-e164

function initSelect2InAlpaca(control, lang) {
    function doInitSelect2() {
        control.children.forEach(function (child, index) {
            if ($(child.field[0]).hasClass("alpaca_select2_widget")) {
                var $select = $(child.field[0]).find("select"),
                    options = child.options && child.options.select2Options || {},
                    data = [];
                $select.select2(options);
                child.data.forEach(function (item) {
                    data.push(item["value"])
                });
                getLabelsForSelect2Values(options.ajax && options.ajax.url, data, $select)
            }
        })
    }

    if (control.children) {
        var $i18nSelectJs = $('#select2-i18n-js');
        if (lang && $i18nSelectJs.length) {
            $.getScript($i18nSelectJs.data('src').replace('{}', lang), doInitSelect2)
        } else {
            doInitSelect2()
        }
    }
}

function initDurationWidget(self) {
    if (self.getFieldType() !== "duration-widget") {
        return;
    }

    const parentField = self.getParent();
    const startField = parentField.childrenByPropertyId[self.startFieldName];
    const dateFormatCStyle = startField.schema?.date_config?.format;
    if (dateFormatCStyle) {
        self.dateFormat = convertCStyleToMomentFormat(dateFormatCStyle);
    }
    const endField = parentField.childrenByPropertyId[self.endFieldName];

    if (startField && endField) {
        // Listen for changes on start_date and end_date
        startField.control.on("change", function () {
            self.calculateDuration(startField.getValue(), endField.getValue());
        });

        endField.control.on("change", function () {
            self.calculateDuration(startField.getValue(), endField.getValue());
        });
    }
}

function initTotalDurationWidget(self) {
    if (self.getFieldType() !== "total-duration-widget") {
        return;
    }
    
    const parentField = self.getParent();
    const targetField = parentField.childrenByPropertyId[self.dataCollectionField];

    if (targetField) {
        targetField.on("add", function () {
            self.attachListenersToCollectionRows(targetField);
        });

        targetField.on("remove", function () {
            self.calculateTotal();
        });

        self.attachListenersToCollectionRows(targetField);
    }
}

// GeoLocation Places
function geoLocationWidgetListener(control) {
    const options = control["options"]["geoOptions"],
        id = control["id"];
    const $lat = $("input[name=geocoord_latitude]") && $("input[name=geocoord_latitude]")[0],
        $lon = $("input[name=geocoord_longitude]") && $("input[name=geocoord_longitude]")[0];
    if (id == "address" && $lat) {
        const address_input = $(control.field[0]).find("input");
        addListenerForGeoLocation(address_input[0], options, function (place) {
            $lat.value = place.geometry.location.lat();
            $lon.value = place.geometry.location.lng();
            var $hometown = $("input[name=hometown]") && $("input[name=hometown]")[0],
                $postoffice = $("input[name=post_office]") && $("input[name=post_office]")[0],
                $country = $("input[name=country]") && $("input[name=country]")[0];
            if ($hometown) {
                $hometown.value = place.locality;
            }
            if ($postoffice) {
                $postoffice.value = place.postal_code;
            }
            if ($country) {
                $country.value = getCountryISO3(place.country.toUpperCase());
            }
        });
    }
}

function addListenerForGeoLocation(element, options, callback) {
    const types = {
        "all": [],
        "address": ["address"],
        "establishment": ["establishment"],
        "geocode": ["geocode"]
    };
    const autocomplete = new google.maps.places.Autocomplete(element);
    autocomplete.setTypes(types['all']);
    autocomplete.setFields(["address_components", "geometry", "icon", "name"]);
    if (options) {
        autocomplete.setComponentRestrictions(options["restrictions"]);
    }
    autocomplete.addListener("place_changed", function () {
        const place = autocomplete.getPlace();
        if (!place.geometry) {
            window.alert("No details available for input: '" + place.name + "'");
            return;
        }

        let address = "";
        if (place.address_components) {
            const postal_code = place.address_components.find(function (item) {
                return (item.types && item.types.indexOf('postal_code') !== -1)
            });
            const locality = place.address_components.find(function (item) {
                return (item.types && item.types.indexOf('locality') !== -1)
            });
            const country = place.address_components.find(function (item) {
                return (item.types && item.types.indexOf('country') !== -1)
            });
            if (postal_code || locality) {
                place.postal_code = postal_code ? postal_code.short_name : "";
                place.locality = locality ? locality.short_name : "";
                place.country = country ? country.short_name : "";
            }
            address = [
                (place.address_components[0] &&
                    place.address_components[0].short_name) ||
                "",
                (place.address_components[1] &&
                    place.address_components[1].short_name) ||
                "",
                (place.address_components[2] &&
                    place.address_components[2].short_name) ||
                "",
            ].join(" ");
        }

        place.value = element.value;
        place.address = address;
        callback(place);
    });
}

function initSpectrumInAlpaca(control) {
    function hexIsLight(color) {
        const hex = color.replace('#', '');
        const cR = parseInt(hex.substring(0, 0 + 2), 16);
        const cG = parseInt(hex.substring(2, 2 + 2), 16);
        const cB = parseInt(hex.substring(4, 4 + 2), 16);
        const brightness = ((cR * 299) + (cG * 587) + (cB * 114)) / 1000;
        return brightness > 155;
    }

    function updateHexPreview($spPreviewInner, hexColor) {
        $spPreviewInner.css('color', (hexIsLight(hexColor) ? 'inherit' : '#fff'));
        $spPreviewInner.text(hexColor.toUpperCase());
    }

    const $container = control.domEl || control;
    const isHtmlForm = !!$container.closest('form').length,
        $form = isHtmlForm ? $container.closest('form') : $container.closest('.ta-form');
    const $color = $form.find('input[type="color"]')

    $.each($color, function (index, value) {
        const $input = $(value)
        const inputValue = $input.attr("name")
        $('label[for="' + inputValue + '"]').attr('for', '');
        $input.wrap('<div class="colorpicker-container"></div>').spectrum({
            preferredFormat: "hex",
            showInput: true,
            showPalette: true,
            palette: [["black"], ["white"], ["red"], ["rgb(0, 255, 0)"], ["rgb(0, 0, 255)"]],
            showAlpha: true,
            change: function (color) {
                const hexColor = color.toHexString();
                const $container = $input.closest('.colorpicker-container');
                $input.val(hexColor);
                updateHexPreview($container.find('.sp-preview-inner'), hexColor);
            }
        });
        const $container = $input.closest('.colorpicker-container');
        $container.find('.sp-preview').after(`
            <div class="ta-sp-preview-label">${global_i18n('select_color', global_i18n_object)}</div>
        `);
        updateHexPreview($container.find('.sp-preview-inner'), $input.spectrum('get').toHexString());
    })
}

function addListenerOnSelectAllCheckboxChanged(ele, name) {
    const checkboxSelector = `input[type="checkbox"][name="${name}"]:not([value="select_all"])`;

    function checkSelectAllCheckboxState() {
        const checkboxesArray = [...document.querySelectorAll(checkboxSelector)];
        const allChecked = checkboxesArray.every((checkbox) => checkbox.checked);
        const someChecked = checkboxesArray.some((checkbox) => checkbox.checked);
        ele.prop('checked', someChecked);
        ele.prop('indeterminate', !allChecked && someChecked);
    }

    checkSelectAllCheckboxState();

    ele.on('change', function(e) {
        const isChecked = e.target.checked;
        selectAllCheckboxes(name, isChecked);
    });

    $(document).on('change', checkboxSelector, checkSelectAllCheckboxState);
}

function selectAllCheckboxes(name, flag) {
    $(".alpaca-control.checkbox[name="+name+"]").each(function () {
        let checked_val = $(this).find('input[type=checkbox]').prop('checked');
        if (flag !== checked_val) {
            $(this).find('input[type=checkbox]').click();
        }
    });
}

$.alpaca.Fields.DurationWidget = $.alpaca.Fields.NumberField.extend({
    getFieldType: function () {
        return "duration-widget"; // Define the custom field type
    },
    setup: function () {
        this.base();

        this.startFieldName = this.options.startField;
        this.endFieldName = this.options.endField;
    },
    calculateDuration: function (startDate, endDate) {
        var self = this;
        const parentField = self.getParent();
        const startField = parentField.childrenByPropertyId[self.startFieldName];
        const $datepicker = startField.control;
        const getDateFormat = ($datepicker) => {
            const datepickerFormat = $datepicker.datepicker('option', 'dateFormat');
            return convertDatepickerToMomentFormat(datepickerFormat);
        };

        let dateFormat = self.dateFormat || getDateFormat($datepicker);

        if (startDate) {
            try {
                const start = moment(startDate, dateFormat);
                const end = endDate ? moment(endDate, dateFormat) : moment();

                if (!start.isValid() || !end.isValid()) {
                    console.error("Invalid dates provided.");
                }

                const duration = Math.max(0, end.diff(start, 'days')); // Difference in days

                self.setValue(duration)
                self.control.trigger("duration:updated", duration)

            } catch (error) {
                console.error('Error calculating duration:', error);
                self.setValue(0)
                self.control.trigger("duration:updated", 0)

            }
        } else {
            self.setValue(0)
        }
    }
});

// Register the custom field class
Alpaca.registerFieldClass("duration-widget", $.alpaca.Fields.DurationWidget);


$.alpaca.Fields.TotalDurationWidget = $.alpaca.Fields.NumberField.extend({
    getFieldType: function () {
        return "total-duration-widget";
    },
    setup: function () {
        this.base();

        this.dataCollectionField = this.options.dataCollectionField;
        this.dataField = this.options.dataField;
    },
    attachListenersToCollectionRows: function (CollectionField) {
        const self = this;

        CollectionField.getValue().forEach(function (item, index) {
            const rowField = CollectionField.children[index];
            if (rowField) {
                const durationField = rowField.childrenByPropertyId[self.dataField];
                if (durationField) {
                    durationField.control.off("duration:updated").on("duration:updated", function () {
                        self.calculateTotal();
                    });
                    durationField.control.off("change.totalDuration").on("change.totalDuration", function () {
                        self.calculateTotal();
                    });
                }
            }
        });
    },
    calculateTotal: function () {
        const self = this;
        const targetField = this.getParent().childrenByPropertyId[self.dataCollectionField];
        let total = 0;

        if (targetField) {
            targetField.getValue().forEach(function (item, index) {
                const value = item.duration || 0;
                total += value;
            });
        }
        this.setValue(total);
    }
});

Alpaca.registerFieldClass("total-duration-widget", $.alpaca.Fields.TotalDurationWidget);
Ó˜ÀÙ         ÕÚ      $main_layout_attributes    »¾ž‚      #main_layout_attributes    ¿Ã®(      getFormConfigFromDOM   Ä„Ñi      $dom   —–™b      trim   ˆ3Àµ      text   Fb6	      parseJSON      ¾›—      getFormConfigFromAPI   6—(      data	   èÛù      callback
   ¾dÈ      ajax   ß:ð      POST   Do€w      dataType   yûïW
      alpacaForm     ’u`      init   Ý½!A      $formDiv   Ø×0~      $render    lÉ­      $form      ~:ö	      $formJson      ªÑ^¥
      .form_json     É›Øˆ
      $renderDiv     ®"      itis   <^:;      textEditors    £nØ      setLanguage    +~,      lang   Íš/      setValidator   ¨;b¢      formConf   Øpü      i18n   x3¸Ñ      schema     ¿Û
      properties     Bü¿;      key    zÐw
      validation       :y‹      options!    ò¥ìÞ	      validator"      r¿…      validationFunction#     ¼¡      failed_message$     *ÖÑ      finnish_id_validator%   Äû>–      finnishIdValidation&    Y·^
      i18n_terms'     ¦5 R      invalid_social_id(      o¹A      swedish_id_validator)   Nô y      iban_validator*     ü6öÓ      IBANValidation+     om      invalid_iban,   ÆÚü      getValue-   ¦ìäÇ      defaultPostRender.      Ô½      control/    µ›h      updateFormJsonCb0   ß…Ö      domEl1      /ßä•      closest2    *gÒÛ      form3   ãÌ      moveElements4   ¹>þ¼      initSelect2InAlpaca5    ™^§      initSpectrumInAlpaca6   &Í^Á      .date_widget_class input7   ÒPÉ      prop8   Æ
      readonly9   1½/`      .alpaca-control.checkbox:   A¢½      attr;   N{˜      data-checkbox-value<    3è8       .alpaca-field-checkbox div:empty=   *N·Æ      remove>     e…Ù      initAlpacaTogglers?     HÒ¦g      #disclaimer@    ÔãX      htmlA   Úîçz      initSubmitButtonValidationB     8¤Ý[&      .checkbox_widget_class.alpaca-requiredC     -â
è	      containerD      œë®V      $labelE     À ž“      .alpaca-required-indicatorF     ÜB-      appendG     –‹ÒÇ]      <span class="alpaca-icon-required glyphicon glyphicon-star alpaca-required-indicator"></span>H      b¼@      validateControlI     Ò–!      fieldJ      7„ƒz      hasClassK   {ä,-      alpaca-invalidL     BgÑ¸      refreshValidationStateM     [ƒ(      updateFormJsonN     dô¶      submitO     ÔàcÊ      itiP    &Ú›      valQ    vèè	      getNumberR      2È|È      editorS     ‘(e      CKEDITORT   El\ä	      instancesU      ÒÏŸ      getDataV    n§ë	      stringifyW      g9'      $applicantImageX    o¿íw      #applicant-imageY   Ó í      $videoQuestionsZ    Ž4`n      #video-questions[   š”ë      schemaProperties\   )	+S      hasProfileImage]    xîÛå      applicant_image^    zßŒ*      talent_image_   }MÁ      $wrapElements`      —xnœ     .alpaca-container-item[data-alpaca-container-item-name="first_name"],                                                .alpaca-container-item[data-alpaca-container-item-name="last_name"],                                                .alpaca-container-item[data-alpaca-container-item-name="email"],                                                .alpaca-container-item[data-alpaca-container-item-name="telephone"]a   o¤ˆÛ      wrapAllb    ïá©       <div class="alpaca-container-item"><div class="row"><div class="col-xs-12 col-sm-7" id="basic-information-col"></div></div></div>c      5€›º      $applicantImageTargetd      Í;6      #basic-information-cole     åLÉ2      insertBeforef   H‡’K      showg   ’½Oo      $videoQuestionsTargeth      Ù1þO      .alpaca-container-item[data-alpaca-container-item-name="applicant_attachment3"]i    Dù      .alpaca-container-itemj     ¾Õ      lastk   ŠŠ³(      insertAfterl    ß;è0      $itemm      ZP´”      $itemColn   ½…c­	      .col-sm-9o      ¿Hy‰
      $itemLabelp     dòN      label.control-labelq    BŒ|      addClassr   È      col-sm-offset-3s    çþÁ      changet     ÑW¹©      input[type='file']u     Qj^      childv      KïS£      childrenByIdw   ­Çu™      setValuex   
}N      childreny   ÞthÍ
      select_allz     Í¶ù      select_all_label{   ]˜œÉ	      .checkbox|      cž·Ê$      <div class="checkboxes-inline"></div}   Ãmò8      .alpaca-container-item[data-alpaca-container-item-name="~   PÜ¸      "] .alpaca-control-label   ³T      after€      ù,™Jâ      
                    <div class="alpaca-control checkbox checkbox-select-all" name="select_all_fields_to_share">
                        <label>
                            <input type="checkbox" data-checkbox-index="100" id="     ÌØ³3~      _select_all" data-checkbox-value="select_all" class="" name="fields_to_share" value="select_all">
                            ‚     ˆä5Ã      
                        </label>
                    </div>
                    <hr class="spacing-vertical-s">
                ƒ      ,ëýB%      addListenerOnSelectAllCheckboxChanged„      kçÙ¼      _select_all…    >	]f      ckeditor†   Îóý      destroy‡    .ÉÌ      replaceWithCKEditorˆ    ð„u2      push‰   äDÄó      phoneŠ      4Õh      view‹   e}Ÿ      displayŒ    §)»T      utilsScript    (b ûM      https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.12/js/utils.min.jsŽ      º~›      autoPlaceholder    ñmC
      aggressive     Uà_      initialCountry‘     .If      preferredCountries’     Ÿ      customContainer“    Œ1}Ù      responsive-block”   ø2‡‰      window•     Ë¼:°      intlTelInput–   ÂÓóq      merge—      òªd0      international_phone_options˜    d¦_²      checkMaxItem™   lÿb–      initDurationWidgetš     ë…‰i      initTotalDurationWidget›    ¢„
      readyœ      KH`      keyup      ŠCÌq      debouncež   »ÂÿA      maxWaitŸ    %f“      cField      í44      date_widget_class¡      C½·„	      localized¢      Ÿu.V      localizedDate£      ›²‡a      Invalid date¤   f5§      geocoord¥    zÑÍ      onGoogleMapsReady¦      ²)‰e      geoLocationWidgetListener§      ÒUèR      nested¨     ‰ÇÿÈ      showDisclaimer©     Â“Ø      attachmentOverlaysCountª    à®à      .attachment-overlay«    ¯Lèò      overlay¬    JÔ”]      $overlay­   þÔo½
      prevButton®     Tn—Èí      <a class="spacing-horizontal overlay-navigation-link" data-navigation_direction="-1">                                <span class="icon-svg-arrow-narrow-left"></span>                                Previous                            </a>¯      ÒkH
      nextButton°     ÃIp¡é      <a class="spacing-horizontal overlay-navigation-link" data-navigation_direction="1">                                Next                                <span class="icon-svg-arrow-narrow-right"></span>                            </a>±      ¾ÜŸ      data-overlay_index²     )M<a      .overlay-navigation³    Äö=Ö
      postRender´     Á¤\l      selfµ   ÔêÍ÷      render¶     
xŠg      alpaca·     ¡¼3      .alpaca-template-cv¸    æ´ñ      formData¹   Nt,
      alpacaHtmlº     7Äš      getEmploymentSectionHtml»   cý)/      heading¼    ~ïÏ      headingInfo½    -¨Ô      startDateKey¾   ÜÍIa
      endDateKey¿     ¶ž‰j	      titleHtmlÀ      Æp»(      subtitleHtmlÁ   
é†      descriptionHtmlÂ    ¢ñç      hideDurationÃ   ¥¾šá^      
                        <div class="alpaca-template-cv-section">
                            Ä     >VËVJ      
                                <h4>
                                    Å     ¿ö      sanitizeTheHtmlÆ    n‘ƒC      
                                </h4>
                            Ç    ÐÄË€      
                            È      9Ì      mapÉ    Z]_	      startDateÊ      lq÷;      momentË     7°ã      endDateÌ    ¶ª¶     
                                    <div class="employment-info-container">
                                        <div class="col">
                                            <div class="employment-years">
                                                Í     ¢–Ý5      
                                                    Î      ‘ø)       - Ï    ÞçþJ      global_i18nÐ    $Á!3      presentÑ    ;OÍ 1      
                                                Ò      žDž`      
                                            </div>
                                            Ó   oZÁ,V      <div class="employment-duration">
                                                    Ô     4lÒ7      
                                                </div>Õ    w.èT–      
                                        </div>
                                        <div class="col">
                                            Ö     ù&¼q      <div class="employment-title">×     ©^      </div>Ø     á—Îî-      
                                            Ù      ÷Øv!      <div class="employment-subtitle">Ú      swD$      <div class="employment-description">Û   ±„áz{      
                                        </div>
                                    </div>
                                Ü    x=q±4      
                        </div>
                    Ý    ¦      propsÞ      <Ã¦Š      summaryß    $ñi      
                            <div class="alpaca-template-cv-section">
                                <p>à      Lü›£@      </p>
                            </div>
                        á   <ÚI      employmentsâ    xIð      draft_employmentsã      [[¨ˆ
      totalYearsä     žÜl3      dates_startå    ÍÊ¸2	      dates_endæ      8¤B‘      diffç   ÒE      titleè      #–I      x_yearsé    õeõb      {}ê     ˆ?-.%      
                                    ë      Œð”      company_nameì   0+QA      locationí   Ã„ÔC!      
                                î      „ˆš      descriptionï    )qú-	      educationð      
¯	È      draft_educationñ    úBŸ      degree_nameò    Yzt2      field_of_studyó     	!Âö      gradeô      ±y      school_nameõ    í"—ä
      highlightsö     ççccj      
                            <div class="alpaca-template-cv-section">
                                <h4>÷     AaË$O      </h4>
                                <ul>
                                    ø    "'      <li>ù   ÷îÕ¶      </li>ú      ±±|b      
                                </ul>
                            </div>
                        û     ûóSÍ*      <div class="alpaca-template-cv-container">ü     œ^÷†      updateJsonConfigurationý    ~ž4      configþ     ÀsEž      addressÿ    1$‰      global_i18n_object     óW€¹      reset     ÞË È      refresh   œ0òÚ
      smallprint    òlÈé      $disclaimer   òë      current_html  áˆ’Æ      <p>   ÿ!      </p>  MRQÀ      $button   eÅ5Â:      .alpaca-array-toolbar[data-alpaca-array-toolbar-field-id='	    NTÛh      ']
    K\Ô      maxItems  Ogµ      toggle    ¢ÒÇƒ      Fields    É      DateTimeWidget    ¸âQú	      TextField     »làô      extend    Öß¦•      getFieldType  •2¬³      jquery-datetime-picker    (ÿb      afterRenderControl    9zÜ      model     '€´Á      isDisplayOnly     !      datetimepickerOptions     D~1Ÿ
      dateFormat    ¨;Kä      yy-mm-dd  –¬
      timeFormat    ugw      HH:mm     Vg˜$      controlType   1<ë      select    áÁÄE      oneLine   £@©Û      datetimepicker    ø¡v      Alpaca    6A–Æ      registerFieldClass     7±n/	      NPSWidget!     ²«      nps-score-widget"  ô>¨É      .vote-container#   €¸5      voteNum$   å¥Îu	      nps_range%     ¾®›      voteBox&   ô+¸t      <div class="vote-box '     N2£®      -vote-box" data-index=*    zÑ Í	      -vote-box+     ŸªâX      click,     h|é¢      clicked-   ^]˜      dataset.   ö+      removeClass/   Œ¨Px      active0    “þ(I      toggleClass1   é«b      GeoCoordField2     ™;      SelectWithDynamicEnums3    y6‡      SelectField4   ð—ÎÝ      select-with-dynamic-enums5     ý„Ìº      item6  NšÎ”      select2Options7    ÊâX      values[]8  à°ˆR      result_labels9     ö^v      , :    yP3      triggerWithPropagation;    Mpu*      regexps<   :YÙ’      ^\+[1-9]\d{3,14}$=     |>Í„      doInitSelect2>     ‘ÙÌ§      alpaca_select2_widget?     æ+4      $select@   ×÷.      select2A   Ô$(      getLabelsForSelect2ValuesB     b0›û      $i18nSelectJsC       ì5      #select2-i18n-jsD  ý·éI	      getScriptE     œ·È›      srcF   Eþ[      duration-widgetG   Û9ï      parentFieldH   ¨7ôi	      getParentI     3ˆ'þ
      startFieldJ    tì¼(      childrenByPropertyIdK  ÜŽÎÃ      startFieldNameL    n+¿b      dateFormatCStyleM  =›pz      date_configN   /‡      convertCStyleToMomentFormatO   ïüýÇ      endFieldP  -.¯      endFieldNameQ  lÅY<      calculateDurationR     bØ@      total-duration-widgetS     7Î¢´      targetFieldT   BùVf      dataCollectionFieldU   „Þ¢      attachListenersToCollectionRowsV   *«”      calculateTotalW    ¡-hç
      geoOptionsX    ð1œÖ      $latY  €g¡^      input[name=geocoord_latitude]Z     ¢\´      $lon[  ‚]H¯      input[name=geocoord_longitude]\    Ì¦9[      address_input]     *8p‹      addListenerForGeoLocation^     4ô†Ù      place_     TÏXY      geometry`  ±NN½      lata   Þh`      lngb   °€üq	      $hometownc     Gïð      input[name=hometown]d  õPsg      $postofficee   €Æu`      input[name=post_office]f   ÉB”      $countryg  }÷$      input[name=country]h   &¼S~      localityi  öE!      postal_codej   Î¯	Ñ      getCountryISO3k    ¸~Qf      countryl   ¬âs×      toUpperCasem   ‰;¡      typesn     £Õ/å      allo   ê$N»      establishmentp     Îþšg      geocodeq   k÷Ð      autocompleter  Ö‡GÄ      googles    -1c      mapst  ¨%kª      placesu    Á]ÿ5      Autocompletev  ïS6      setTypesw  °Ù’„	      setFieldsx     ‹ý`      address_componentsy    VXßJ      iconz  -ÉK      setComponentRestrictions{  .¢Ö8      restrictions|  €(      addListener}   T%û      place_changed~     £Â{,      getPlace  Òï¢Z      alert€     áC[!      No details available for input: '     ÚEœÁ      indexOf‚   ë´‘ˆ
      short_nameƒ    õø¢›
      hexIsLight„    ì
—      color…     µlWÐ      hex†   ßYã	      substring‡     •Æ®Û
      brightnessˆ    Pb9      updateHexPreview‰  m½‹"      $spPreviewInnerŠ   þ®4x      hexColor‹  >Ÿ      cssŒ   D!%,      inherit   ÖÈÏ      #fffŽ  ïi…
      $container    ¶’tÌ
      isHtmlForm    -/N      .ta-form‘  ,x¯k      $color’    õƒ“      input[type="color"]“   xÖ…      $input”    +¦è¥
      inputValue•    ‹ÃÎ      label[for="–   õ£¯      "]—    Ñêc      wrap˜  fçÍF)      <div class="colorpicker-container"></div>™     ´ÑÉÓ      spectrumš  .¬      preferredFormat›   q	l?	      showInputœ     × Q      showPalette   æ^rU      palettež   ÅP­m      blackŸ     ¤½      white      ä×ê      red¡   Kò„      rgb(0, 255, 0)¢    ‡ ;€      rgb(0, 0, 255)£    ¹·Ëì	      showAlpha¤     rœ°a      toHexString¥   ˆf¾      .colorpicker-container¦    ¨½vô      .sp-preview-inner§     >ijÑ      .sp-preview¨   O|:t.      
            <div class="ta-sp-preview-label">©    ”6/l      select_colorª  
Ú
      </div>
        «   ˜J™      ele¬   ¢€      checkboxSelector­  éy×      input[type="checkbox"][name="®     ¯rP¢      "]:not([value="select_all"])¯  %êÆ      checkSelectAllCheckboxState°   Ðx 4      checkboxesArray±   ¸O€      document²  #¥      querySelectorAll³  ˜‡þ
      allChecked´    €ùc      everyµ     Øy*      checkbox¶  È:0—      checked·   0Næ“      someChecked¸   $ÝgØ      some¹  åéŸ•      indeterminateº     íëK	      isChecked»     nú9Ÿ      selectAllCheckboxes¼   €­¥      flag½  ÁÂ-      .alpaca-control.checkbox[name=¾    K„en      checked_val¿   ‹µá      input[type=checkbox]À  ){vÇ      DurationWidgetÁ    †o•      NumberFieldÂ   8ÂW¬      setupÃ     <7B      baseÄ  ¾5öˆ      $datepickerÅ   cÃn×      getDateFormatÆ     °MëÊ      datepickerFormatÇ  J–þL
      datepickerÈ    Ú|`›      optionÉ    ¢pv      convertDatepickerToMomentFormatÊ   §ß£Á      isValidË   þQ1      consoleÌ   þtuW      errorÍ     ûÄ80      Invalid dates provided.Î   À
7      durationÏ  Kk.      maxÐ   ù!pÂ      triggerÑ   8ç      duration:updatedÒ   Ù2      Error calculating duration:Ó   ?`R¿      TotalDurationWidgetÔ   Yº›Ë	      dataFieldÕ     ºuk      CollectionFieldÖ   ëû2D      rowField×  ÉSÇQ      durationFieldØ     úø…ß      offÙ   µ^˜       change.totalDurationÚ  Tý»W      totalÛ     Äž>S      ><span>Ü   ¨Äl      </span></div>Ý     9` û      getFormConfigFromAPI/<Þ    Ý|…Z      alpacaForm/this.initß  ÆóV+      alpacaForm/this.setLanguageà   |á?      alpacaForm/this.setValidatorá  ’#­      alpacaForm/this.setValidator/<â    Î ¦]E      alpacaForm/this.setValidator/</formConf.options.fields[key].validatorã     ‹à!      alpacaForm/this.defaultPostRenderä     ¥×ÇÓ#      alpacaForm/this.defaultPostRender/<ç   s]32      alpacaForm/this.defaultPostRender/updateFormJson/<é    .ÖÒz0      alpacaForm/this.defaultPostRender/moveElements/<ê  å·¶%      alpacaForm/this.defaultPostRender/</<ë     <²¨)'      alpacaForm/this.defaultPostRender/</</<ì   ô¿™Ö      alpacaForm/this.postRenderí    å»ß      alpacaForm/this.postRender/<î  dy6ˆ      alpacaForm/this.renderð    |ÓØ1      alpacaForm/this.render/getEmploymentSectionHtml/<ñ     Ó“      alpacaForm/this.render/<õ  1×˜…"      alpacaForm/this.render/alpacaHtml<ö    ú`'      alpacaForm/this.updateJsonConfiguration÷   L{x?      alpacaForm/this.resetø     ˜„¨©      afterRenderControl/<ù  7|ó+      afterRenderControl/</<û    r¦}#      initSelect2InAlpaca/doInitSelect2/<ü   ºXø%      initSelect2InAlpaca/doInitSelect2/</<ý     düÝ      initDurationWidget/<þ  ‹¸"      initTotalDurationWidget/<ÿ     ÐRV»      geoLocationWidgetListener/<    Äá\Ê      addListenerForGeoLocation/<   5ÜÕ(      addListenerForGeoLocation/</postal_code<  æ’Ü%      addListenerForGeoLocation/</locality<     û9j|$      addListenerForGeoLocation/</country<  îag`      initSpectrumInAlpaca/<	    ó‹—M      addListenerOnSelectAllCheckboxChanged/checkSelectAllCheckboxState/allChecked<
     þ[jN      addListenerOnSelectAllCheckboxChanged/checkSelectAllCheckboxState/someChecked<    —ÀC'      addListenerOnSelectAllCheckboxChanged/<   †”]•      selectAllCheckboxes/<     ß’È!      attachListenersToCollectionRows/<     Ž™~Õ#      attachListenersToCollectionRows/</<   É«Ž_      calculateTotal/<     `     …   `             ï%,‰                                                                                                                                                                        	                
      
                 
                                                  
                                  
                 
                 
                 
                                                                                                                     
                                                                                                                     !                                 #                $               %                  &                 %           !      %           "      %           #      $           $      $           %      $           &                 '                 (      /                            )      1                 2                            *                 7      5           8      6          9      7           :                 ;      9                :           <      :           =                 >      =                >           ?      >           @                  A      A                B                C           B                 C      E                F           D      G                 H                I           E      I           F      I           G                 H      M                 N           I      O                 N           J      N           K      R                S           L      T                            M      V               W           N      X                 Y           O      Y           P      W           Q      \                            R      ^           S      _                            +                  ,                  -                 .      d                e                e           /      g               h           0                  1                 2      k           3      k          4      m           5      k           6                  T                  U                  V      r                s           W      t                 s                s                            X                  Y                 Z      z               {           [      |                 }                ~           \      ~           ]                  ^                     ‚           _      ƒ                 ³OŒc                  ¨  ˜  4  ™  š  ¦  ] 5  ƒ  »                             <    	  P                             †                   †                 †                  P  P              P¨    "  P#  P            	  †               .  P/  P  P  P< `  P  PH  PM  3  ©  P†                 †                e  B `             O               R                W  Y  [  \  _  c  g                l  m  o  †                 †               i  C  D                P  u  †               u  P   O  ] ¡            z               c               Ÿ                                               §              i  «  ¬  ­  ¯                ´  P†                .                †   º           ¹  º  ¸  
           
     »  ¼    ½  P¾  P¿  PÀ  PÁ  PÂ  P             d            É  Ë                          Ý           ã  P             d            É  Ë               d               d               d               d               d               d              ý    †                 †             2               .                                      .               .  P  = B                             u  þ   ?      P             5              ´  P          G I PL O P                                             ´  P          G S P                                             .                X PZ P          \             ^ b d f              ˆ  `   	  P          m q P                         þ  ^           i h k              5              5              5              .  ƒ Pˆ P          Ž    ‘              „           … 5 * % ‡              ‰ Š              þ   B            “ P” Ž              „           Š Ž             « Pr `¯           ¬ P                          ° ³ ·              µ              µ              e            º              r  ¼ P              †            ¾                              	  ´   †                                	  ´  Pi  †            C  #          %               †            , P              †                                	  ´  P  P†                5              Ï  8 P             5             e  P                                †               É  Ë  ´  †             G I Ä Å              Ä           Æ    
       ó     Î          Ì                               †               Õ P†             ´  P             5 þ             Ö           ×                                               †            Ú P´  S              5 þ             B  ¯Â0°<     Iô$KE®úš         "      <           Œ  Ž    ‘  ’          ž     (     »  ¼    ½  ¾  ¿  À  Á     (      »  ¼    ½  ¾  ¿  À  Â                                n þ  o p          š › œ  £ s     
                    
           
             7          Â Q        Â U V ‡&Õª!«!`   Ü  àìÓÜ  Ù                y        Ú   ·   »       s Ê   ß»   J   J   »   J   J   J   áJ   ä9   m   <   m   <   s L   ß»   áJ   ä   »   J   J   w ß»   J   J   »   J   J   J   áJ   ä9   m   <   m    <   s L!   ß»   áJ   ä"   »   J   J!   w ß»   J   J   »   J   J   J   L#   ß»   áJ   ä$   »   J   J#   w ß»   J   J   »   J   J   J%   áJ   ä9&   m'   <   m(   <   s L)   ß»   áJ   ä*   »   J   J)   w ß»   J+   l,   L-   ß»   J   J   »   J   J   J.   áJ   ä9/   m0   <   m1   <2   m3   <4   s L5   ß»   áJ   ä6   »   J   J   J5   w ß»   J   J   »   J   J   J.   áJ   ä97   m8   <   m9   <2   m:   <;   m<   <=   s L>   ß»   áJ   ä?   »   J   J   J>   w ß¥
`P9€ °`ª B% J€ °<P9€ Ã`‘ 4ÿÿÿÓP`ª =%	 	J€ Æ7P9€ á`‘ .ÿÿÿÙP`©`‘ &ÿÿÿáP`ª L% J€ èFP9€ `‘ 7ÿÿÿÐP`•0€ ð`ª D% J€ úJ€ ð>P9€ !`‘ -” ÿÿÿÚP`ª I% J€ .J€ @J€ $CP9€ O`‘ 3” ÿÿÿÔPP   lPT   O                         »   áJ   ä¼  áJ   äs  s    š'   —   »   áJ   ä¼  áJ   äs  s ¢—   ¥ 	`
PÿÿÿöP“ 	`
PÿÿÿñP3V   ùÆ}y   R   	              
       ½ Î   ß»   áJ   ä9      <      <   ¼ <   ¼  <	   s áJ
   äm   w ß¥)`%	*	*	(	HPJÿÿÿûP4	P@   úç ²@                            Á    ¼  w ß¥ 	`	ÿÿÿÿP$P€€€Ô   mGÔ                          ÞÍ   ß¾   m   L   ß¾   m   L   ß¾   m   L   ß¾   m   L   ß¾   m	   L
   ß¾   m   L   ß¾   m   L   ß¾   m   L   ß¥&`O	`O`O+`O€  `O€ `O€ v`O€ ‚`?€ ŠP€€€ä   ŠÎV<ä   ©                      ÞÍ   ß¾   ¼  L   ß¾   ¾   J   š'   —   ¾   J   áJ   ä   s ™   —   —   L   ß¾   ¼ š   —   ¼ ™   —   ¾   J   —	   L   ß¾   h    L   ß¾   h    L   ß¥&	`-	`¬ )P™ 	`² 	`/	`/P€€<   gf<                         ÞÍ   ß¾   ¼  L   ß¥&	`-P€„   Àþ¬„   G                        ½  Î   ß½ Î   ß»   áJ   äÁ   J   J   s áJ   äm   w ßÁ   ¢¥’ 	`ÿÿÿûP
/ÿÿÿøPD	`%Q€ü  TŠ®Ñü  }  	                    ½  Î   ßÁ  J   J   Á   KJ   Í   ß¾   š6   —   Á  J   J   Á   K»   €¾   ã   L   ß—   Á  J   J   Á   KJ   Í  ß¾  á   Ÿ1   —   á	   ŸN   —   á
   Ÿg   —    †   —   »   Î   ß»       Á  s Î   ß™X   —   Î   ß»       Á  s Î   ß™.   —   »   Î   ß»       Á  s Î   ß—   Á   š*   —   Á  J   J   Á   Km   L   ß—   ¥)`Ÿ `.`› >ÿÿÿõPN`Ÿ@`Á `+`1ÿÿÿàP)` `'`1ÿÿÿàP)` `+`,ÿÿÿåPN`/`¥@	P€€€   ŠŠñÇ€   @         	              ÞÍ   ß¼   Á    ¾   áJ   äs  Á   Á  J   J   Á   Ks w ß¥&`	P• ÿÿÿÌPÿÿÿÿP$P€   Øi§Ü   ¡               @       ½  Î   ß½ Î   ßÞÍ  ßm   Î 	  ßm   Í   ßm   Í  ß¾  J   š   —   ¾  J   ™#   —   Á   J   áJ   ä   s —   Î   ß¾  J   š   —   ¾  J   ™   —	   Á   áJ	   ä
   s —   Î   ß¾  J   Î   ß¾  J   Î   ß¾  J   Î   ß¾   w  ß»    Á   Á   w ß»    Á   w ß»       s áJ   ä   w ß»       s áJ   äm   w ß»       s áJ   äw  ß»    w  ß»       s áJ   ä   w ß»    Á   w ßÁ   áJ	   ä   s áJ   äm   w ßÁ   áJ    ä!   ¾   w ßÁ   áJ    ä"   ¾   w ß¾    #   w ßÁ   áJ	   ä$   s áJ    ä!   m%   w ßÁ   J&   áJ'   äm(   w ß»    )   s J*   Î 
  ßÁ 
  š(   —<   »    )   s áJ   äm+   w ß—@   ¥· `¼ (P.`· (P.`/`/`/	`)	`	ÿÿÿöP$	`ÿÿÿÿP$	`P PD	`P
"ÿÿÿûPD	`P
%P$	`J	`PP$	`ÿÿÿÿP$	`‘ P
4ÿÿÿûPDa	`‘ ÿÿÿóP$	`‘ ÿÿÿóP$	`
PDe	`‘ P(ÿÿÿóPDn	`‘ ÿÿÿøPD€  »'`P.`‘ `P
ÿÿÿûPI€  ÓP€€  ì*Œ  ¦                        ÞÍ   ß»    ¾   s áJ   ä   s áJ   ä   »    ¾   s áJ   ä   s w ß»    ¾   s áJ   ä   s áJ   ä   »    ¾   s áJ   ä   s áJ   ä   s w ß¥&`ÿÿÿÿPPÿÿÿþPPÿÿÿëP$`ÿÿÿÿPPÿÿÿþPPPÿÿÿÜP$	P€    ÌÜ°    \                 
       »    ¼ s áJ   ä   s Í   ß¾   áJ   ä   s J   ›   —   ¾   áJ   ä   w ß—
   ¥ `ÿÿÿÿPPH` P’ ` PI	P€p   =v|ép   =                        ÞÍ   ß¾   J   áJ   ä   s š   —   ¾   áJ   äw  ß—   ¥&`• P-`PI	P€X  mMz9X  â                         ¼  ›   —    ¢—   Á  J   š¾   —   ¼  J      š   —   Á  áJ   äm   w ß—   Á  áJ   äs  Î   ßÁ  áJ   äm   w ßÁ  áJ   ä»	   áJ
   äÁ   s w ß¼     œ   —   ßÁ  —   š   —   Á   w  ß—   ¥ `-`A	F`” `˜ `ÿÿÿøPI
`P)`ÿÿÿøPD`ÿÿÿöPÿÿÿ÷PD`” – `O	P€€€d   eˆ‰Zd   *                         »    ¼  J   s áJ   ä¼  áJ   äs  w ß¥ `ÿÿÿÿP

PÿÿÿøP$PX   8ÏÄ¯X   -                         Á   ¼  J   »   J   ¼  J   KáJ   äs  Nß¥ `§ 3P%Pl  E/Òl  ¼                ,        »       s Í   ß»       s Í  ßÁ   J   J   Í  ß»   áJ   ä¾     s #   —
   ß»   áJ   ä¾  	   s —   Í  ß¾  œ   —   ß¾   J
   —   šm%tÚ‹   —   Á   áJ   ä   s Í  ß¾  áJ   ä   w ßÁ   áJ   ä   s Í  ß¾   áJ   ä¾  s áJ   äw  ß—   ¾  J
   š{   —   Á   áJ   ä   s Í  ß¾  J
   ›-   —    Á   áJ   ä   s áJ   äs  Í  ß—$   ¾  áJ   ä¾  s áJ   äw  ß—(   Á   áJ   ä   s áJ   äm   w ß¥ #`P(#`P($`” #`	ÿÿÿüPš 2	ÿÿÿüPM`§ %`‘ PH` PD-`‘ P(`ÿÿÿóP
$PI`“ -`‘ PH`“ `‘ P
PM`ÿÿÿôP
#PI`‘ P
$ÿÿÿûPD'	P€€€À   eÀ   u                
        ÞÍ  ß»    ¾  s Í   ß¾   áJ   ä   s Í  ß¾   áJ   ä   s Í  ß¾  J   ›   —   ¾  áJ   ä   w ß—
   ¥&`ÿÿÿÿP( ` P("` PH`“ ` 	PIP€È   žØ{DÈ   u                        ÞÍ  ß»    ¾  s áJ   äs  Í   ßÁ   J   »    ¾  s áJ   ä   s KÍ  ß¾  š   —   ¾  áJ   ä¾   w ß—   ¥&`ÿÿÿÿP
P(` ÿÿÿþPPI`.`ÿÿÿ÷PI	P€€¤  ˆˆœ¡”    	             y      ½  Î   ßÁ   J   J   šÒ   —   °±  ßÁ   J   eáJ   ±  ßßÁ   J   áJ   ä   s áJ   ä	   w ß»
       Á   J   1&   &s áJ   ä   Á   J   1&   &¾  1&   &w ß»    »
       Á   J   &   &s Á   J   w ßÒ—   Á   J   J      šw   —"   »   J   Á   J   Kš*   —'   »   J   Á   J   KáJ   äw  ß—-   »    Á   J   w ßÁ  áJ   äÁ   w ß—2   Á   J      œ    —5   ßÁ  J   J      —8   š¦   —9   9    !   <"   #   <$   %   <&   h   %   i    <'   (   <)   Í   ß»*   áJ+   äÁ   J,   K»-   áJ.   ä¾   Á   J   J/   s s Í  ßÁ  áJ   ä¾  w ß—L   »0    Á   w ß»1    Á   w ß»2    Á   w ßÁ  áJ3   ä4   »5   w ßÁ   áJ3   ä6   »-   áJ7   äÁ	  ,98   è<9   s w ßÁ   áJ3   ä:   m;   w ßÁ   áJ3   ä<   m=   w ßÁ   J   áJ>   ä?   s šf   —d   Á   J@   Í  ß¾  šI   —f   »A    ¾  s Í  ß¾  B   š#   —j   Á   J,   áJC   ä¾  w ß—m   Á   J   D   š   —p   »E    mF   w ß—r   Á   JG   š$   —t   Á   JG   áJH   ämI   w ß—w   »J    Á   Á  w ß¥I`™ &.`— `– PP$`;’ ÿÿÿÄP
hET’ LtPD`&‘ ÿÿÿúP!
ÿÿÿÞPJ`Ÿ `Ÿ `œ PI`
ÿÿÿÿP$`ÿÿÿûPI`¿ `%***” O`	ÿÿÿñPÿÿÿßP(`
ÿÿÿûPI"`ÿÿÿÿP$`ÿÿÿÿP$`ÿÿÿÿP$`‘ ÿÿÿôP$`‘ ÿÿÿàPÿÿÿòP$`‘ ÿÿÿöPD2`‘ ÿÿÿóPD5`– P-`/`.%`ÿÿÿÿP(`” `‘ ÿÿÿûPI>`š `ÿÿÿÿPIC`” `‘ ÿÿÿøPIJ`ÿÿÿøP$	P€€¤     "   È   ÿÿÿÿ´   íþÆÖ´   T                         »    ¼  Á  w ß»    ¼  w ß»    ¼  w ß»    Á   w ß¼  J   áJ   äm   w ß¥ `ÿÿÿüP$`ÿÿÿÿP$`ÿÿÿÿP$`ÿÿÿÿPD`ÿÿÿøPD
P€X   ý¹kX                            »    ¼  w ß»    ¼  w ß¥ `ÿÿÿÿP$`ÿÿÿÿP$P€€€@   x ¸@                             »    Á   w ß¥ `ÿÿÿÿP$P€@   »Ò¾“@                             »    Á   w ß¥ `ÿÿÿÿP$P€t   SÖ¾Bt   -                         »    ¼  Á  w ß»    ¼  w ß»    ¼  w ß¥ `ÿÿÿ÷P$`ÿÿÿÿP$`ÿÿÿÿP$Pd  FfDed  å                        »    ¼ s Í   ß   Í  ß   Í  ß¾   áJ   ä   ¼  w ß¼  š1   —   ¾   áJ   ä   s áJ   ä¾  w ß™r   —
   ¼  &Á 
  š1   —   ¾   áJ   ä   s áJ   ä¾  w ß™1   —   ¾   áJ   ä   s áJ   ä¾  ¾  &w ß—   ¥  `ÿÿÿÿP("`J"`J` $ÿÿÿåPD`/` 	P
!ÿÿÿûP.`
 ` 	P
!ÿÿÿûP ` 	P
!ÿÿÿîPIP€D   tü$ D                            ÞÍ   ß¾   Î   ßm   ¢¥&`*	`EQ€€D   rÏP'D                            Á   áJ   ä¼  w ß¥ `ÿÿÿîP$	P€4  
Ì:{Ô  ¯               _       $ÞÍ   ß¾   J   áJ   ä   w ß¾   J   š  —   ¾   J   ¾   áJ   äs  L   ß¾   J   áJ   ä   s J   š  —   °±  ±  ±  ßm
   ±  ß¾   J   J   ±  ß   ±  ß¾  Í  ß°±  ß¾  ^˜   _`›  —   °±  ß±  °±  ±  ß¾  ¾  K±  ß¾   J   J   J   ¾  K±  ß¾     š4   —   ¾     »    ¾  s 1&   &&.Í  ß™  —   ¾        —    ß¾     —!   š¸   —"   Ð   ³   ß¾  áJ   äm   w ß¾  ¾   9   ¾  J   <   »       s áJ   ä    Á   s <!   ¾  <   "   <#   $   <%   m&   <'   m(   <)   m*   <+   s &.Í  ßÑ™   —4   ¾  ,      —6   ß¾  -   —7   š…   —8   ¾  ¾   9.   ¾  J   <   »    ¾  KJ/   s <!   ¾  <   "   <#   $   <%   m0   <'   m1   <)   <2   s &.Í  ß™r   —H   ¾  3   š^   —J   ¾  4   »    ¾  J   s 1&5   &¾  áJ6   äm7   s áJ8   ä   s 1&9   &&.Í  ß—V   Òß™nýÿÿ—V   aÒ¾   J   áJ:   ä;   ¾  1&<   &w ß ¤Ò¥Ò—[   ¾   J   áJ   ä¾   J   w ß—_   ¥&	`• P$`“ `” #P)`• P’ '˜ "`“ "`“@-#f ÿÿÿó*"`.#`@1`” `I4&ÿÿÿðPœ@7 `® 6%*`'`ÿÿÿøPD>`	'%.P%ÿÿÿòP()***JKJ>'P•@M `® `	'%.ÿÿÿðP()***J[FN'P”@] `” `I`'	ÿÿÿðPKb'	ÿÿÿüP-P˜@-Mh` -ÿÿÿÎP$`AmIk` 	ÿÿÿùPImP€4  $  	   v     ÿÿÿÿ   ´   ©         Û   u        †  ¤          …               ¿   —  0  8#ì0  ã                        ¼  eáJ   Í   ßáJ   Í  ßáJ   Í  ßáJ   Î   ßáJ   Î   ßáJ   Î   ßáJ   Î   ßáJ   Î   ßáJ	   Î   ßß
   ¾   š)   —
      »    ¾   s 1&   &™   —      —   1&   &¾  áJ   äm   s áJ   ä   s 1&   &¢¥î `E“@'ÿÿÿðP•0’ 	ÿÿÿüPJ  UK#Q€€€(  „âô  e         	       7      °±   ±  ß¼  Á   Kš!   —   »    ¼  Á   Ks ™   —      —   ±   ß¼  Á   Kš!   —   »    ¼  Á   Ks ™   —
   »    s  —   ±  ß   ¾   šp   —      ¾   áJ   äs  1&   &¼  Á   Kš   —   ¾  áJ   äs  ™   —   »    	   s —   1&
   &™   —      —   1&   &Á   ›^   —      ¾   š/   —      ¾   áJ   ä¾  s 1&   &™   —!      —!   1&   &™   —#      —#   1&   &Á   š(   —&      Á    ¼  s 1&   &™   —)      —)   1&   &Á   š(   —,      Á    ¼  s 1&   &™   —/      —/   1&   &Á   š(   —2      Á    ¼  s 1&   &™   —5      —5   1&   &¤Ò¥Ò¥ *3`™ 	ÿÿÿùPœ 1`™ 	ÿÿÿùP“ P-!`E3“ 7
Pž P˜ 	Pš’@/%7“ ÿÿÿûP±0’@/” -
ÿÿÿöP§ /” 3ÿÿÿóP§ /” 9ÿÿÿðP§@T€€(         d  ÿÿÿÿ    b           JKs  ±                       °±   ±  ß¼  J   š    —   »    ¼  J   s ™   —      —   ±   ß¼  J   š    —   »    ¼  J   s ™   —
   »    s  —   ±  ßÁ   µ   ¾  áJ   ä¾      s &.Î   ßÒ¥ */`˜ ÿÿÿùPœ -`˜ ÿÿÿùP“ P-`• 	ÿÿÿûP,P         °   ÿÿÿÿ@   E E…@                            »    ¼  J   s ¢ `ÿÿÿÿP¬   |ïé˜¬   l                            »    ¼  J   s 1&   &¼  J   š-   —      »    ¼  J   s 1&   &™   —      —   1&   &¢¥ !`%'ÿÿÿðP+'— ÿÿÿðP§@Q@   E E/@                            »    ¼  J   s ¢ `ÿÿÿÿPh   ç‹Òÿh   ,                         »    ¼  J   s 1   &»    ¼  J   s 1&¢ ` ÿÿÿÿP
ÿÿÿðP!€€¬    ²M¬   l                            »    ¼  J   s 1&   &¼  J   š-   —      »    ¼  J   s 1&   &™   —      —   1&   &¢¥ !`%'ÿÿÿðP+'— ÿÿÿðP§@QL   ž¯“L                               »    ¼  s 1&   &¢ `ÿÿÿðP€€\  ±£X2L  é                     ÞÍ  ß¼  šË   —   ¼  J   J   ^˜   _`›…   —   Í   ¾      œ6   —   ß»   áJ   ä¼  J   J   s áJ   ä   s —   š'   —   ¼  J   J	   ¾   K   L
   ß—   ß™xÿÿÿ—   a¾  ¾  áJ   ä¼  »   s L   ß—   ¾  áJ   äw  ß¥&`-`  ÿÿÿõ$`¡ !ÿÿÿûP%P’ `¢@L`"ÿÿÿëPN		`P$P€€€\        !      à   Ñp^‚Ð   ~                       ÞÍ   ß°±  ß»    ¾   J   s áJ   ä   s ±  ß¾  šA   —   ¾  J   9   L   ß¾  áJ	   ä9
   w ß¾  áJ   äw  ß—   Ò¥&`	ÿÿÿÿPP(`.`” `ÿÿÿ÷P$`PJP€à         w   ÿÿÿÿ0  hmº  ½                       °±   ±  ß¼  J   œ   —   ß¼  J   J   —   ±   ß»       s ±  ß¾   œ   —   ß¾  —   šW   —   °±  ß¾  áJ   äs  ±  ß¾     ¾   J	   &
   &&.Í  ß¾  áJ   ä¾  w ßÒ—   Ò¥ 
*`ª `P(	`¢ &`P(	`	— 	`ÿÿÿûP;P€€0         ¼   ÿÿÿÿ   i   M       Ì   “	…ŽÌ   Š                        ¼  J   áJ   ä   ¼  J   &   &s Í   ß¼  J   œ   —   ß¼  J   J   —
   š4   —   ¾   áJ	   ä¼  J   J
   ¼  J   J   w ß—   ¥ `?ÿÿÿ¼P(	`¯ 	`ÿÿÿßP9P0   QÓ¹0                                 ¢¥ 	`%Q€€ü   µ2¶ü   ¡         	              ÞÍ  ß¾  Í   ß¼  w  ß¾   áJ   äs  ›v   —   9      <      <      <   <	   Í  ß»
    ¾   J   s áJ   ä»   áJ   ä¾  ¾   J   J   s w ß—   ¥&`)	`(`P-)`%***K
`	ÿÿÿÿP
ÿÿÿãPÿÿÿïPIP€0   î³~0                                 ¢¥ `%	Q€€Ð  QR°           	             $ÞÍ  ß°±  ±  ß¾  Î   ß¼  w  ßÁ   J   áJ   ä   s ±  ßÁ   J   J      —   ß
—   ±  ßÍ   ß˜   ¾   ¾  &še   —
   °±  ß   Á   J	   &
   &¾   &   &¾   &   &±  ß¾  áJ   ä¾  w ßÒ¾   0(Í   ß™ÿÿÿ—   »       Á   J	   &   &s áJ   ä   m   w ßÒ¥*`*`(`– P(`¦  `f‘ &`‘ %+ @	`ÿÿÿùPE.`•@`‘ ÿÿÿùP*ÿÿÿôPE	P€€€Ð  À          ÿÿÿÿ   ‡   K              l   v   H  ýú~s8  Í                       ÞÍ   ßÐ   ¾   J   J   ³   ß»       Á  J   &   &s áJ   äm	   w ß»    ¾   s áJ
   ä   s áJ   ä   s š2   —   Á  J   áJ   ä¾   J   J   w ß™    —   Á  J   áJ   äw ß—   Ñ¥%`” `‘ ÿÿÿùP
#ÿÿÿûPD`ÿÿÿÿPPP-`‘ ÿÿÿüP.`’ P*P€€H        Á   ÿÿÿÿ„   !„¶è„   L                        ÞÍ   ßÁ   µ   ¾   J   J   š'   —   »    ¾   s áJ   ä   w ß—   ¥&`
™ `ÿÿÿÿPP)P0   QÓ¹0                                 ¢¥ 	`%Q€€\  ©ƒù\  ò                       ÞÍ   ß¾   Î   ß¼  w  ßÁ   J   œ6   —   ßÁ   J   J   œ   —   ßÁ   áJ   äs  —	   šl   —
   h    Î   ßÁ   J   áJ   äm   w ß»   áJ   äÁ   J   J	   J
   J   9   Á   <   m   w ß—   »    Á   J   s áJ   äm   w ß¥&`*	`(`½ *P’ `+`‘ ÿÿÿøPD`™ /
ÿÿÿ¹PI	`
ÿÿÿÿP
ÿÿÿùPDP€H   dÒ«`H                            Á   áJ   ä¼  J   w ß¥ `
ÿÿÿûP$P¬   xùÅt¬   d                         h    Î   ß¼  J   š"   —   ¼  J   áJ   äm   w ß—   Á  J   áJ   äÁ   áJ   ä   s w ß¥ %`+`’ `ÿÿÿøPI`‘ ‘ PÿÿÿíP$P€H   ¾êPvH                            Á   áJ   ä¼  J   w ß¥ `ÿÿÿûP$P¨   à•hš¨   ]                        »    Á   J   s áJ   äs  Í   ßÁ   áJ   ä¾   w ßÁ   áJ   äw  ßÁ   áJ   ä   w ß¥ `
ÿÿÿÿP
PH`ÿÿÿ÷P$`P$`‘ P$	P  ø'Wá  ²   	                    ½  Î   ßm   Í   ßÁ   J   š   —   »       s Í  ß¼ œ   —   ß¾  J   —   šH   —   »   áJ   ä¾  áJ   ä   s áJ	   ä
   ¼ s ¾   w ß™   —   ¾    w  ß—   ¥“@	`” `P(`¦ ` PÿÿÿòPÿÿÿÇP `>P€L   zùszL                             Á   J   áJ   äm   w ß¥ 	`‘ ÿÿÿøPDPx  /@nx                         »    ¼  J   Ks áJ   ä   s šà   —   »    ¼  J   Ks áJ   ä   s Í   ß¼  J   œ   —   ß¼  J   J   —      —   ß9	   —   Í  ßh    Î   ß¾   áJ
   ä¾  w ß¼  J   áJ   äm   w ß»    ¾  J   œ   —   ß¾  J   J   —   Á   ¾   w ß—   ¥ `
ÿÿÿÿPP-`
ÿÿÿÿPP(`¿ `+`ÿÿÿøP$`ÿÿÿøPD	`§ "ÿÿÿ×PI	P€H   ß®/H                            Á   áJ   ä¼  J   w ß¥ `
ÿÿÿûP$Pô  aƒõBÔ  \  	                   ½  Î   ßÐ   °±   ±  ßÁ  áJ   äs     š   —    ¤Ñ¥—   Á  áJ   äs  ±   ß¾   J   Á  J   K³   ßÁ   J   2›$   —   J   2›   —   J	   ™   —   ß —   ±  ß¾  š"   —   Á  »
    ¾  s L   ß—   ¾   J   Á  J   K³   ßÁ   œ   —   ßÁ   —   šH   —   Á   J   áJ   ä   m   w ßÁ   J   áJ   ä   m   w ß—   Ñ¥	/	`P“ 	`1H`P(`š `À 	`.	`.ÿÿÿäPN`š@	`¤@	`–  ÿÿÿóPD	`– ÿÿÿóP:P€ô        M  ÿÿÿÿ    :          t   ©lt   9                          Á  áJ   äÁ   µ   áJ   äs  Á   µ   áJ   äs  w ß¥ `‘ P‘ 	PÿÿÿÎP$	P€€t   ©lt   9                          Á  áJ   äÁ   µ   áJ   äs  Á   µ   áJ   äs  w ß¥ `‘ P‘ 	PÿÿÿÎP$	P€€T  åtÈ4  É   	                   ½  Î   ßÐ   °±   ßÁ  áJ   äs     š   —    ¤Ñ¥—   Á  áJ   äs  ±   ß¾   J   Á  J   K³   ßÁ   šS   —
   Á   áJ   ä   m	   w ßÁ   áJ   ä
   m   w ßÁ  áJ   äÁ   w ß—   Ñ¥	+	`P“ 	`1H`P(`š@	`/	`‘ ÿÿÿöPD	`‘ ÿÿÿóPD	`%ÿÿÿàP:P€T        º   ÿÿÿÿ    6          L   K^²bL                             Á  áJ   äÁ   µ   w ß¥ `%
ÿÿÿàP$	P€€<   ÂOa4<                             Á  áJ   äw  ß¥ `P$	P€˜  ¡Å$+x                        Ð   °±   ±  ß¼  J   J   ±   ß¼  J   ±  ß»       s œ   —   ß»       s K—	   ³   ß»       s œ   —   ß»       s K—   ³   ß¾     œ   —   ßÁ   —   šQ   —   °±  ß»    ¼  J
   Ks áJ   ä   s ±  ß»    ¾  K¾   m   w ßÒ—   Ñ¥ 
/`’ `-`P™ %P `P™ &P 	`© &`
ÿÿÿÿPP(	`	ÿÿÿäP;P€˜          ÿÿÿÿ	   ¿   G       Ü  àÒ‡ïÜ  j                )       Á   µ   ¼  J   J   áJ   äs  L   ßÁ   µ   ¼  J   J   áJ   äs  L   ß»       s œ   —   ß»       s K—   Í   ß»       s œ   —   ß»       s K—   Í  ß»    	   s œ   —   ß»    	   s K—   Í  ß¾   š   —   ¾   ¼  J
   L   ß—   ¾  š   —    ¾  ¼  J   L   ß—"   ¾  š/   —#   ¾  »    ¼  J   áJ   äs  s L   ß—)   ¥ `ž %P)`ž %P)`P™ P/`P™ P/`P™ P/`.`—@	`.`—@`.`
 PÿÿÿãPN	P¸  ƒŒ’6¨  0                     ½  Î   ß½ Î   ßÐ   °±   ß9   h    <   h      i    <   h      i    <   h      i    <   ±   ß»   J   J	   J
   €Á  ã   ³   ßÁ   áJ   ä¾   J   w ßÁ   áJ   äh      i       i      i      i   w ß¼ š"   —   Á   áJ   ä¼ J   w ß—   Á   áJ   ä   m   w ßÑ¥’ +`%	*	” 	” 	™@`• $	ÿÿÿÜ)`	ÿÿÿ÷P$`­ ÿÿÿöP$	`-	`&ÿÿÿçPI`‘ *ÿÿÿãP55P€¸          ÿÿÿÿ¸  †€×ˆ  Î         	       <       °±   ±  ßÁ   µ   áJ   äs  ±  ß¾  J   ›3   —   »   áJ   ä   ¾  J   &   &w ß ¤Ò¥—
   	   ±   ß¾  J
   š   —   °±  ±  ±  ß¾  J
   áJ   äm   s ±  ß¾  J
   áJ   äm   s ±  ß¾  J
   áJ   äm   s ±  ß¾     —   ß¾  —   š©   —   ¾  ¾  š   —   ¾  J   ™   —   	   —   L   ß¾  ¾  š   —   ¾  J   ™   —   	   —   L   ß¾  ¾  š   —   ¾  J   ™   —   	   —   L   ß—    h   ¾  J
   Kœ   —$   ß¾  J
   KJ   —'      —(   ß	   —(   i    ¾  J
   Kœ   —+   ß¾  J
   KJ   —.      —/   ß	   —/   i   ¾  J
   Kœ   —2   ß¾  J
   KJ   —5      —6   ß	   —6   i   áJ   ä   s Í   ßÒ—8   ¾  Á  J   L   ß¾  ¾   L   ßÁ   ¾  w ßÒ¥ *`‘ P(`“ `& ÿÿÿÔP$`A'H`*`“ .!` ÿÿÿûPH` ÿÿÿûPH` ÿÿÿûPH`¢ `µ `µ `º@`%– /– /—¡– UN$	`” 	`.	`	ÿÿÿÿP%P€€€¸         Í  ÿÿÿÿ    ^                      `   wMPt`   4                         ¼  J   œ%   —   ß¼  J   áJ   ä   s ÿ—   ¢¥ `§ !P+Q€`   wMPt`   4                         ¼  J   œ%   —   ß¼  J   áJ   ä   s ÿ—   ¢¥ `§ !P+Q€`   wMPt`   4                         ¼  J   œ%   —   ß¼  J   áJ   ä   s ÿ—   ¢¥ `§ !P+Q€L  ÅôÎ‚<  â                       °±   ±  ±  ±  ßm   Î   ßm   Î   ß¼  J      —   ß¼  —   ±   ß¾   áJ   ä   s J   ±  ß¾  š"   —   ¾   áJ   ä   s ™   —
   ¾   áJ   ä   s —   ±  ß¾  áJ	   ä
   s ±  ß»   áJ   ä¾  m   w ßÒ¥ 
¨@`  `  P/`ž P P-` PH`ÿÿÿóP5+P€L         á   ÿÿÿÿP  Žy0  Æ                       °±   ±  ±  ±  ±  ß¼  áJ   ä      s ±   ß»    ¾   áJ   äs s ±  ß»    ¾   áJ   äs s ±  ß»    ¾   áJ   äs s ±  ß¾  +*¾  K*&¾  r*&è+±  ß¾  › ¤Ò¥Ò¥ – `” P(`	PÿÿÿûP(`	PÿÿÿûP(`	PÿÿÿûP(`	‘ 	`(T€€€P         Å   ÿÿÿÿ    Ã          ¤   Ûž¤   ^                         ¼  áJ   ä   Á    ¼ s š   —      ™   —      —   w ß¼  áJ   ä¼ áJ   äs  w ß¥ 	`ÿÿÿõP¦ ÿÿÿòP$	`

	PÿÿÿòP$Pt  &d  ´         	       -      Ð   °±   ±  ß»    ¼ s ³   ßÁ   áJ   ä   s ±   ß»       ¾   &   &s áJ   ä      w ßÁ   áJ	   ä
   s áJ   ä9      <   <   <   h   h      i    i    h      i    i   h      i    i   h      i    i   h      i    i   <   <   m   <   w ßÁ   áJ   ä   s ±  ß¾  áJ   ä   s áJ   ä   »     !   »"   s 1&#   &w ßÁ   ¾  áJ   ä$   s Á   áJ   ä%   s áJ&   äs  w ßÑ¥ /`ÿÿÿÿP)`‘ P(	`ÿÿÿïP” $P$	`‘ P
;%*&&
” ” ” 	” ™ &JBPD`‘ P(	` P
%0ÿÿÿäPK(PD	` P‘ P
PÿÿÿÂP%P€€€t        ®  ÿÿÿÿÔ   ~	ãÄ   q                 	      °±   ±  ß¼  áJ   äs  ±   ßÁ   µ   áJ   ä   s ±  ßÁ   áJ   ä¾   w ßÁ   ¾  áJ   ä   s ¾   w ßÒ¥ *"`
P($`– P(`ÿÿÿüP$` PÿÿÿÙP%PÔ          p   ÿÿÿÿì   çÏÏÜ   …                
      ½  Î   ß½ Î   ßÐ   m   Í   ß   Á  1&   &³   ß¾    w  ßÁ  áJ   ä   m   w ß»    »	   s áJ   ä   Á   ¾   w ßÑ¥’ /` “@`I`‘ ÿÿÿóPD`ÿÿÿÿPÿÿÿáPPì         m   ÿÿÿÿˆ  [f¦áh  û          	              $°±   ±  ±  ßh    »   áJ   äÁ   µ   s áKäu  dáJ   äåå˜   ã  ã  s  d áJ   ›   —
   J   j™×ÿÿÿ—   ååà ß±   ß¾   áJ   äm   s ±  ß¾   áJ	   äm
   s ±  ßÁ  áJ   ä   ¾  w ßÁ  áJ   ä   ¾  œ   —   ß¾  —   w ßÒ¥ .!`
ÿÿÿïPØ `ÿÿÿúP(`ÿÿÿûP(	`‘ ÿÿÿðP$	`‘ ™ ÿÿÿêP%P€€ˆ  x         ú   ÿÿÿÿ      B   .   0   ¬/µ10   	                         ¼  J   ¢ `	€0   ¬/µ10   	                         ¼  J   ¢ `	€x   Xv¦h   -                       °±   ß¼  J   J   ±   ß»    Á  ¾   w ßÒ¥ &`’ 	`ÿÿÿùP%Px          ,   ÿÿÿÿl   Lg°ÿl   2   	                     ½ Î   ß»       ¼  &   &s áJ   äm   w ß¥)`!
ÿÿÿÞP
1ÿÿÿûP4P€à   Ê
`SÐ   ~                       ÞÍ   ß°±  ß»    ¾   s áJ   ä   s áJ   ä   s ±  ßÁ   ¾  š1   —   »    ¾   s áJ   ä   s áJ   äw  ß—   Ò¥&`ÿÿÿÿPPP(`	/`ÿÿÿÿPP
PJPà         w   ÿÿÿÿ0   QÓ¹0                                 ¢¥ 	`%Q€€|   ·¼”|   F                       ÞÍ   ß¾   áJ   äw  ß¾   ¾   J   J   L   ß¾   ¾   J   J   L   ß¥&	`PD	`˜ 	`˜ P€€€L  !k»ê  .     
          0      $ÞÍ  ß°±  ±  ±  ±  ±  ß¾  Í   ß¾   áJ   äs  ±  ß¾  J   ¾   J   K±  ß¾  J   ±  ßm   ±  ß¾   J      —   ß¾   ¾  s —	   ±  ß¼  š}  —
   «°±  ±  ±	  ß»	    ¼  ¾  s ±  ß¼ š   —   »	    ¼ ¾  s ™   —   »	    s  —   ±  ß¾  áJ
   äs     —   ß¾  áJ
   äs  —   š   —   »   áJ   ä   w ß—   »   áJ   ä¾  áJ   ä¾     s s ±	  ß¾   áJ   ä¾	  w ß¾   J   áJ   ä   ¾	  w ßÒ™\   —&    ¤­°±  ß±  ß»   áJ   ä   ¾  w ß¾   áJ   äw ß¾   J   áJ   ä   w ßÒ—.   ™   —.   ¾   áJ   äw ß—0   Ò¥– `)`P(`˜ `.`J
`™ !ÿÿÿòPM`-/`ÿÿÿôP(`“ 	ÿÿÿðP“ PM`PP“ `‘ PI"`		ÿÿÿûPÿÿÿõPH`ÿÿÿ÷P$`• )ÿÿÿäP’@+`‘ -ÿÿÿÛP$`P$`– P”0  `PJ#P€€€L  <        '  ÿÿÿÿ                ¹  O                        k>ˆÀp   4                       °±   ß¼  áJ   ä      s ±   ß»    ¾   s ¤Ò¥Ò¥ &&`” P(`'ÿÿÿàP#	T          3   ÿÿÿÿ    1          0   QÓ¹0                                 ¢¥ 	`%Q€€|   ÷â:A|   F                       ÞÍ   ß¾   áJ   äw  ß¾   ¾   J   J   L   ß¾   ¾   J   J   L   ß¥&	`PD	`˜ 	`˜ P€€€Œ   ‰ÚI|   ?                      ½  Î   ßÞÍ   ßÐ   ¾   ³   ßÁ  áJ   äs  áJ   äm   w ßÑ¥%`J	`P
ÿÿÿøPEPŒ         *   ÿÿÿÿ<  0L7H  À                       °±   ßÁ  J   ¼ K±   ß¾   šœ   —   °±  ß¾   J   Á   µ   J   K±  ß¾  šd   —   ¾  J   áJ   ä   s áJ	   ä   m
   w ß¾  J   áJ   ä   s áJ	   ä   m   w ß—   Ò—   Ò¥ &`“ `
&'`ž `.`• P/ÿÿÿéPD`• P7ÿÿÿåP@	P€<         ¿   ÿÿÿÿ   '   ’       D   Ñ¼¼‘D                             Á   µ   áJ   äw  ß¥ `‘ P$P€€€D   Ñ¼¼‘D                             Á   µ   áJ   äw  ß¥ `‘ P$P€€€ô   Ü$ä   Ž                       ÞÍ   ßÐ   °±  ±  ß¾   ±  ß¾   áJ   äs  J   ¾  J   K±  ß³   ß¾  š(   —   ¾  áJ   äs  áJ   äm   w ß—
   ¾   áJ   äÁ   w ßÑ¥/`)`P— `G`.`P
ÿÿÿøPI	`ÿÿÿ÷P%P€ô         ‚   ÿÿÿÿ€   [xÐlp   <                       °±   ß¼  J      —   ß—   ±   ßÁ   µ   ¾   &.Î   ßÒ¥ &`ž `— P€€€          ;   ÿÿÿÿ3õØ  `$      ‹       `  `$  
     @  "  9      <  |     p  `  «               `<  	  `,        `    ¨  y     ¦   !  $  (  )  %  &  '  *  +  	  p  `o  :      ¸     p  `I  J  K  L    `$  a  P  Q    `r  S  T   U    `@  "  N  ¸     p,    pP  t  V      `$  «   n  p  @  q  r    `$  X  Z      _  ê   ]  ^  @  «   `  a  b  d  e  f  h  i  j  k  ‡     p  `$  «     :  r  B  ;    `$  «   ;  E  @  F  G    `$  P  v  :   w    `™  š    `4  ™  š  ˜  x  ¸     p  `˜    `¦    `4  ™  š    `   y    `z  I  «   {  a  |  $  }  r  ~    €    ‚  ƒ  #  „  "  …  S  T   †  ‡  ˆ  ‰  Š  ‹    @  Œ    Ž  Ò   ‘  “  ’  ”  •  .  _  –  —  ˜  ™  š   ›  4  œ      @ž       p=    pJ       ¢  £    ¤  ¥    px  ¸     p¨    `$  ®  °  :  ±  «   ²  @  
  `  p  p  p  0  1  2    «     <      4  5  $  6  7  8  9  ‡     p<  =  >  ?  @  ‹   A  B    p s  N    t    px  ¸     pª  @    p  `-    `  p!  `"  `Ê  ‹   Ì  Í  ]  Î  Ï  Ð  Ñ  Ò  Ó  (  ¾   )  Ô  Õ  Ö  ×  Ø  Ù  Ú  Û     `»  ¼    ½  ¾  ¿  À  Á  Â  Ã  Ä  Å  Æ  ‹   Ç  È    p5  Ü  &  `'  `ä  Ê  ‹   å  æ  a  (  `Å  ç  )  `ê  Å  ë  ì  (  )  ‹   í  *  `Å  î  +  `Å  ñ     ò  ,  `ê  Å  ó  ô  (  )  ‹   í  -  `ø  Å  ù    `  ¶  †    ³  1  ·  @    `  p  ‹   #  `$  `    Þ  ß  Å  à  á  â  %  `¸      p  @ç  »  Ï  è  Ë  é  ¼  ä  ½  å  ¾  !  p¿  "  pÀ  #  pÁ  ï  ð    @ñ  $  p%  pÂ  õ  ö  ÷  È  &  p5  ú  @  û  ×  .  `    þ  o  :  ü   ¤     ¦   "    ÿ    µ  /  `0  `$    ¶  É       @  w    @   `  p    p    p  
  p-    p³    pµ  '  pü  (  p  1  `2  `    $  ?  3  `@   î   4  `0  «     	 x    
  @  8  `ˆ  B  7  `$  I  J  > «       6   @@   ¸   :  pA 
  <  6  `x  ¸   9  p5  `8  px  $  C @  D   E Ë  é  ;  `Q ,  <  `Q ,  9  `:  ` F H J K   M ¹   N  P .   s  <  p=  p?  `U @  `V =  `>  ` R H J T     ?  p=  @  pU D  `_ ì  ` B  a $  c e g h i j k l A  `B  `   W  $  Y [ þ  C  `I  «     ] B  pJ  `m  i K  `m  h L  `m  k G  `H  `~ _ ”   € r  '  ‹   x I  `«   E  pF  pG  p‚ i h k 5     B  þ  E  `F  `  @n þ  o p r s t u v w x _ y r  z { | } D  pO  `P  `Ë  #  ‹   §  † Q  `‹ „ Œ    l T  `U  `¤ 1  ¥ P  «   ¦ R  `S  `$  :  r  • – ¶   ‹   — ˜ ™ 	  @… š › œ ž Ÿ   ¡ ¢  £ L  ps  1  ¥ «   §   ¨ Ï  © ÿ  ª ¦ É   ¤ M  `N  `I  pJ  p0  1  2  @   «   ’ $  ‡   K  pZ  `¶ [  `¶ X  `Y  `± ² y  |   B  ´ O  p¸ P  p7  ¶ ¹ \  `]  `  ¶ » V  `W  `N  p­ ®  s  Q  p$  ± _  ``  `$  «   ¿ 7  ¶ + ^  `$  ½ ]  ‡   S  pa  ` b  `   @       $  .   _  –      c  `! i  `- þ   $  . / g  `h  `- þ   $  .   * ‡   0  p0 / J  .  P  d  `e  `I  «   "    $ f  `&  ' Û Ü F  $  .  *  + /  pj  `4 l  `ˆ  B  n  `ˆ    m  `Ð  ¸   5  p.    5  9 o  `$  .  P  w  L  : s  k  `  @   ¸   3  p$  É      6 
  <    @7 4  p.  s  6  pp  `F q  `Ã    I K O P t  `u  `Ç È  É r  `s  `H J K .  W  p v  `Ê  Ê Ë Ì Í v  Ï æ  a   w  Ð Ñ w  `Ò x  `R y  `Ã    T Ô   `V €  `V |  `}  `x  ~  `J Ô .  Ø Ñ  \  pÙ ]  pz  `{  `,  ¸   [  pƒ  `„  `Î   `‚  `H J T ,  ¸   _  pw     `  p  p  p)  p*  p7  p;  p>  pA  pC  pH  pM  pR  p   $    ¶     
  @+  p ,  p       @-  p.  p  ! 1 ¤  3   @1  p2  p2 4 ;    P‰  Á   @T  pU  pÂ V  pQ À F   @X  pY  pZ  pU ^  pV Ó R ÿX„Ì  @                                                 Ý       Ð                   Þ             ß       2      à       !      á             â       ó   ,   ã       u      ä       }      ä       9      H        I      M        >      ç       C      ç       ]      3        U      é       …      ä       Ÿ   K   ä             ê       Œ      ë     ! —      ê       ™      ê       ›      ê       ê   	   ä       !     ì            í       x  =   î       ;     º        #     ð     ! O     ñ     ! W     ¿      !
 Z  	   À      !
 c     Á      !
 f     ¿      !
 k  	   À      !
 t     õ     ! µ     ö       Ä     ÷       á     ¨        ì     ˜                                (            ?            0     ø       *     ù       S            k            U     ø       [     ø       X     ù       c     ø            4             =       ú     û       ÷     ü             ™             ý            ý       6     š        2     þ       4     þ       R     ¦        C     ÿ       …     ]       m             a            e            i            Ø     5        ›     ƒ       ¢     ˆ       ±  '          ©     s        ý  
   ƒ        ê     ¯       æ     	     ! è     
     ! ø                 »                   }                 Â       Œ     Q       †     Å     !
 £            ¥     Â       »     U       ®            ª            ¬            Ã  	   V       À            H©À      ‰      ‰                  Z   ¸   =   ¸                €×     º     	               f  ‹  ]  ‹               ¤  ÞH  ‘  ÞH                 Â  ¹  ¹  ¹                Û    Ò       !          €)  ¥     ¥  !   "          €ƒ  …  z  …  "   H           Ö  m  Í  m  7   L          ‚Í  ¬-  Ä  ¬-  ?   '           Þ
  –  Õ
  –  J   5             Œ  ¯  ƒ  ¯  T   L           Ó  W  »  W  \   !           €x  @  a  @  b                3  ‡  *  ‡  h   +            ù  g  ð  g  m   .           _  `  J  `  x               *  T  !  T  –   @              Ý    Ý  ¤   @           €
  Ì(    Ì(  ­   +           ¢#  
%  ™#  
%  Ô   &            v$  ú$  v$  ú$  Ú   $            5%  k%  ,%  k%  ß   )             '  i'  '  i'  ì   +             Ì'  ˆ(  Ã'  ˆ(  ñ   1            u)  š-  l)  š-  ü   4          ‚Í-  K.  Ä-  K.                  .  E.  ú-  E.              h.  )F  _.  )F               € Ç/  Ì8  ¦/  Ì8  #  2            š1  y8  š1  y8  +  (            5;  W<  5;  W<  T  &            ß=  þ=  ß=  þ=  _  (            *>  ??  *>  ??  `  +            n?  “?  n?  “?  f  .            }A  ÌA  }A  ÌA  o  (            øA  C  øA  C  p  +            ›D  ÂD  ›D  ÂD  }  0           WF  þG  NF  þG  Š  -           H  ÛH  H  ÛH  –               ÷H  8J  àH  8J                 OJ  ZK  :J  ZK  ª              »K  îK  ²K  îK  ²              L  ÀM  L  ÀM  µ  "            xN  ­N  oN  ­N  È              ‚ÔN  ¥R  ËN  ¥R  Ë  &          ùP  ™R  ðP  ™R  Ö  A            mQ  ØQ  dQ  ØQ  Ø  >             âS  T  ÙS  T  ê             ‚;T  X  2T  X  í  "            U  FU  þT  FU  ò  (          €§U  îV  žU  îV  õ  _            :V  V  1V  V  ø  8            $W  X  W  X     )          €Y  ¬\  Y  ¬\               IY  ›[  3Y  ›[               €xY  ”[  oY  ”[    +            ØZ  [  ÏZ  [    -          €É\  `  ®\  `  &              _  {_  _  {_  5  2             ®_  `  ¥_  `  9  0           €8`  Fb  `  Fb  ?  !            Ta  ¡a  Ka  ¡a  H  (             Ïa   b  Æa   b  L  +            €b  g  ^b  g  U  #            Dd  
g  ;d  
g  \  G          €8g  Žo  g  Žo  o  #           Hi  Šo  ?i  Šo  |  8             •j  ûj  Œj  ûj  …  H            Bk  ¥k  9k  ¥k  ˆ  E            ëk  Ml  âk  Ml  ‹  D          €­o  _w  o  _w  ¦              Ðo  $q  ½o  $q  §              Cq  ïq  *q  ïq  °             
s  \w  s  \w  º              ìt  þu  ãt  þu  Ä            €w  Šz  aw  Šz  Ó  /           'x  y  x  y  Ö  )             ¯x  Íx  ¯x  Íx  Ø  2            y  y  y  y  Ù  2            Óy  8z  Ëy  8z  à            €¨z  ¼{  Œz  ¼{  è             öz  ¸{  íz  ¸{  é  @             |  k|  |  k|  ò              |  }  x|  }  õ             -}  F‚  $}  F‚  û  !            +~  â~  +~  â~                 %ƒ  Wƒ  ƒ  Wƒ  &              mƒ  „  dƒ  „  )             ‚3„  ‡  *„  ‡  /  /           —„  ‡  Ž„  ‡  2  5            Ý…  &†  Ô…  &†  7  c             “†  Ü†  Š†  Ü†  :  k           /‡  ²ˆ  &‡  ²ˆ  A               ˆ  ‚ˆ  
ˆ  ‚ˆ  G  5          5¡Ý‚á„ yÃ3†      	g†¡'g†¡'GÅîg†µ•   u    O^partitionKey=%28https%2Ctalentadore.com%29,:https://ats.talentadore.com/static/alpaca_custom.js?v=4.6.0hm26-2964e10 necko:classified 1 strongly-framed 1 security-info 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 request-method GET response-head HTTP/2 200 
date: Tue, 14 Jan 2025 16:36:11 GMT
content-type: application/javascript
content-length: 35089
last-modified: Mon, 13 Jan 2025 15:38:26 GMT
etag: "67853372-8911"
cache-control: public
strict-transport-security: max-age=15724800; includeSubDomains
accept-ranges: bytes
X-Firefox-Spdy: h2
 original-response-headers date: Tue, 14 Jan 2025 16:36:11 GMT
content-type: application/javascript
content-length: 35089
last-modified: Mon, 13 Jan 2025 15:38:26 GMT
etag: "67853372-8911"
cache-control: public
strict-transport-security: max-age=15724800; includeSubDomains
accept-ranges: bytes
X-Firefox-Spdy: h2
 ctid 2 uncompressed-len 0 net-response-time-onstart 341 net-response-time-onstop 584 alt-data 1;35089,javascript/moz-script-bytecode-20241209150345-8l alt-data-from-child 1  ýQ