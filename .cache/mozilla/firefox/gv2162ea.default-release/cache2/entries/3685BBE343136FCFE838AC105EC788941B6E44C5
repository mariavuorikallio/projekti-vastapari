/*  Prototype JavaScript framework, version 1.5.1.1
 *  (c) 2005-2007 Sam Stephenson
 *
 *  Prototype is freely distributable under the terms of an MIT-style license.
 *  For details, see the Prototype web site: http://www.prototypejs.org/
 *
/*--------------------------------------------------------------------------*/

var Prototype = {
  Version: '1.5.1.1',

  Browser: {
    IE:     !!(window.attachEvent && !window.opera),
    Opera:  !!window.opera,
    WebKit: navigator.userAgent.indexOf('AppleWebKit/') > -1,
    Gecko:  navigator.userAgent.indexOf('Gecko') > -1 && navigator.userAgent.indexOf('KHTML') == -1
  },

  BrowserFeatures: {
    XPath: !!document.evaluate,
    ElementExtensions: !!window.HTMLElement,
    SpecificElementExtensions:
      (document.createElement('div').__proto__ !==
       document.createElement('form').__proto__)
  },

  ScriptFragment: '<script[^>]*>([\\S\\s]*?)<\/script>',
  JSONFilter: /^\/\*-secure-([\s\S]*)\*\/\s*$/,

  emptyFunction: function() { },
  K: function(x) { return x }
}

var Class = {
  create: function() {
    return function() {
      this.initialize.apply(this, arguments);
    }
  }
}

var Abstract = new Object();

Object.extend = function(destination, source) {
  for (var property in source) {
    destination[property] = source[property];
  }
  return destination;
}

Object.extend(Object, {
  inspect: function(object) {
    try {
      if (object === undefined) return 'undefined';
      if (object === null) return 'null';
      return object.inspect ? object.inspect() : object.toString();
    } catch (e) {
      if (e instanceof RangeError) return '...';
      throw e;
    }
  },

  toJSON: function(object) {
    var type = typeof object;
    switch(type) {
      case 'undefined':
      case 'function':
      case 'unknown': return;
      case 'boolean': return object.toString();
    }
    if (object === null) return 'null';
    if (object.toJSON) return object.toJSON();
    if (object.ownerDocument === document) return;
    var results = [];
    for (var property in object) {
      var value = Object.toJSON(object[property]);
      if (value !== undefined)
        results.push(property.toJSON() + ': ' + value);
    }
    return '{' + results.join(', ') + '}';
  },

  keys: function(object) {
    var keys = [];
    for (var property in object)
      keys.push(property);
    return keys;
  },

  values: function(object) {
    var values = [];
    for (var property in object)
      values.push(object[property]);
    return values;
  },

  clone: function(object) {
    return Object.extend({}, object);
  }
});

Function.prototype.bind = function() {
  var __method = this, args = $A(arguments), object = args.shift();
  return function() {
    return __method.apply(object, args.concat($A(arguments)));
  }
}

Function.prototype.bindAsEventListener = function(object) {
  var __method = this, args = $A(arguments), object = args.shift();
  return function(event) {
    return __method.apply(object, [event || window.event].concat(args));
  }
}

Object.extend(Number.prototype, {
  toColorPart: function() {
    return this.toPaddedString(2, 16);
  },

  succ: function() {
    return this + 1;
  },

  times: function(iterator) {
    $R(0, this, true).each(iterator);
    return this;
  },

  toPaddedString: function(length, radix) {
    var string = this.toString(radix || 10);
    return '0'.times(length - string.length) + string;
  },

  toJSON: function() {
    return isFinite(this) ? this.toString() : 'null';
  }
});

Date.prototype.toJSON = function() {
  return '"' + this.getFullYear() + '-' +
    (this.getMonth() + 1).toPaddedString(2) + '-' +
    this.getDate().toPaddedString(2) + 'T' +
    this.getHours().toPaddedString(2) + ':' +
    this.getMinutes().toPaddedString(2) + ':' +
    this.getSeconds().toPaddedString(2) + '"';
};

var Try = {
  these: function() {
    var returnValue;

    for (var i = 0, length = arguments.length; i < length; i++) {
      var lambda = arguments[i];
      try {
        returnValue = lambda();
        break;
      } catch (e) {}
    }

    return returnValue;
  }
}

/*--------------------------------------------------------------------------*/

var PeriodicalExecuter = Class.create();
PeriodicalExecuter.prototype = {
  initialize: function(callback, frequency) {
    this.callback = callback;
    this.frequency = frequency;
    this.currentlyExecuting = false;

    this.registerCallback();
  },

  registerCallback: function() {
    this.timer = setInterval(this.onTimerEvent.bind(this), this.frequency * 1000);
  },

  stop: function() {
    if (!this.timer) return;
    clearInterval(this.timer);
    this.timer = null;
  },

  onTimerEvent: function() {
    if (!this.currentlyExecuting) {
      try {
        this.currentlyExecuting = true;
        this.callback(this);
      } finally {
        this.currentlyExecuting = false;
      }
    }
  }
}
Object.extend(String, {
  interpret: function(value) {
    return value == null ? '' : String(value);
  },
  specialChar: {
    '\b': '\\b',
    '\t': '\\t',
    '\n': '\\n',
    '\f': '\\f',
    '\r': '\\r',
    '\\': '\\\\'
  }
});

Object.extend(String.prototype, {
  gsub: function(pattern, replacement) {
    var result = '', source = this, match;
    replacement = arguments.callee.prepareReplacement(replacement);

    while (source.length > 0) {
      if (match = source.match(pattern)) {
        result += source.slice(0, match.index);
        result += String.interpret(replacement(match));
        source  = source.slice(match.index + match[0].length);
      } else {
        result += source, source = '';
      }
    }
    return result;
  },

  sub: function(pattern, replacement, count) {
    replacement = this.gsub.prepareReplacement(replacement);
    count = count === undefined ? 1 : count;

    return this.gsub(pattern, function(match) {
      if (--count < 0) return match[0];
      return replacement(match);
    });
  },

  scan: function(pattern, iterator) {
    this.gsub(pattern, iterator);
    return this;
  },

  truncate: function(length, truncation) {
    length = length || 30;
    truncation = truncation === undefined ? '...' : truncation;
    return this.length > length ?
      this.slice(0, length - truncation.length) + truncation : this;
  },

  strip: function() {
    return this.replace(/^\s+/, '').replace(/\s+$/, '');
  },

  stripTags: function() {
    return this.replace(/<\/?[^>]+>/gi, '');
  },

  stripScripts: function() {
    return this.replace(new RegExp(Prototype.ScriptFragment, 'img'), '');
  },

  extractScripts: function() {
    var matchAll = new RegExp(Prototype.ScriptFragment, 'img');
    var matchOne = new RegExp(Prototype.ScriptFragment, 'im');
    return (this.match(matchAll) || []).map(function(scriptTag) {
      return (scriptTag.match(matchOne) || ['', ''])[1];
    });
  },

  evalScripts: function() {
    return this.extractScripts().map(function(script) { return eval(script) });
  },

  escapeHTML: function() {
    var self = arguments.callee;
    self.text.data = this;
    return self.div.innerHTML;
  },

  unescapeHTML: function() {
    var div = document.createElement('div');
    div.innerHTML = this.stripTags();
    return div.childNodes[0] ? (div.childNodes.length > 1 ?
      $A(div.childNodes).inject('', function(memo, node) { return memo+node.nodeValue }) :
      div.childNodes[0].nodeValue) : '';
  },

  toQueryParams: function(separator) {
    var match = this.strip().match(/([^?#]*)(#.*)?$/);
    if (!match) return {};

    return match[1].split(separator || '&').inject({}, function(hash, pair) {
      if ((pair = pair.split('='))[0]) {
        var key = decodeURIComponent(pair.shift());
        var value = pair.length > 1 ? pair.join('=') : pair[0];
        if (value != undefined) value = decodeURIComponent(value);

        if (key in hash) {
          if (hash[key].constructor != Array) hash[key] = [hash[key]];
          hash[key].push(value);
        }
        else hash[key] = value;
      }
      return hash;
    });
  },

  toArray: function() {
    return this.split('');
  },

  succ: function() {
    return this.slice(0, this.length - 1) +
      String.fromCharCode(this.charCodeAt(this.length - 1) + 1);
  },

  times: function(count) {
    var result = '';
    for (var i = 0; i < count; i++) result += this;
    return result;
  },

  camelize: function() {
    var parts = this.split('-'), len = parts.length;
    if (len == 1) return parts[0];

    var camelized = this.charAt(0) == '-'
      ? parts[0].charAt(0).toUpperCase() + parts[0].substring(1)
      : parts[0];

    for (var i = 1; i < len; i++)
      camelized += parts[i].charAt(0).toUpperCase() + parts[i].substring(1);

    return camelized;
  },

  capitalize: function() {
    return this.charAt(0).toUpperCase() + this.substring(1).toLowerCase();
  },

  underscore: function() {
    return this.gsub(/::/, '/').gsub(/([A-Z]+)([A-Z][a-z])/,'#{1}_#{2}').gsub(/([a-z\d])([A-Z])/,'#{1}_#{2}').gsub(/-/,'_').toLowerCase();
  },

  dasherize: function() {
    return this.gsub(/_/,'-');
  },

  inspect: function(useDoubleQuotes) {
    var escapedString = this.gsub(/[\x00-\x1f\\]/, function(match) {
      var character = String.specialChar[match[0]];
      return character ? character : '\\u00' + match[0].charCodeAt().toPaddedString(2, 16);
    });
    if (useDoubleQuotes) return '"' + escapedString.replace(/"/g, '\\"') + '"';
    return "'" + escapedString.replace(/'/g, '\\\'') + "'";
  },

  toJSON: function() {
    return this.inspect(true);
  },

  unfilterJSON: function(filter) {
    return this.sub(filter || Prototype.JSONFilter, '#{1}');
  },

  isJSON: function() {
    var str = this.replace(/\\./g, '@').replace(/"[^"\\\n\r]*"/g, '');
    return (/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/).test(str);
  },

  evalJSON: function(sanitize) {
    var json = this.unfilterJSON();
    try {
      if (!sanitize || json.isJSON()) return eval('(' + json + ')');
    } catch (e) { }
    throw new SyntaxError('Badly formed JSON string: ' + this.inspect());
  },

  include: function(pattern) {
    return this.indexOf(pattern) > -1;
  },

  startsWith: function(pattern) {
    return this.indexOf(pattern) === 0;
  },

  endsWith: function(pattern) {
    var d = this.length - pattern.length;
    return d >= 0 && this.lastIndexOf(pattern) === d;
  },

  empty: function() {
    return this == '';
  },

  blank: function() {
    return /^\s*$/.test(this);
  }
});

if (Prototype.Browser.WebKit || Prototype.Browser.IE) Object.extend(String.prototype, {
  escapeHTML: function() {
    return this.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
  },
  unescapeHTML: function() {
    return this.replace(/&amp;/g,'&').replace(/&lt;/g,'<').replace(/&gt;/g,'>');
  }
});

String.prototype.gsub.prepareReplacement = function(replacement) {
  if (typeof replacement == 'function') return replacement;
  var template = new Template(replacement);
  return function(match) { return template.evaluate(match) };
}

String.prototype.parseQuery = String.prototype.toQueryParams;

Object.extend(String.prototype.escapeHTML, {
  div:  document.createElement('div'),
  text: document.createTextNode('')
});

with (String.prototype.escapeHTML) div.appendChild(text);

var Template = Class.create();
Template.Pattern = /(^|.|\r|\n)(#\{(.*?)\})/;
Template.prototype = {
  initialize: function(template, pattern) {
    this.template = template.toString();
    this.pattern  = pattern || Template.Pattern;
  },

  evaluate: function(object) {
    return this.template.gsub(this.pattern, function(match) {
      var before = match[1];
      if (before == '\\') return match[2];
      return before + String.interpret(object[match[3]]);
    });
  }
}

var $break = {}, $continue = new Error('"throw $continue" is deprecated, use "return" instead');

var Enumerable = {
  each: function(iterator) {
    var index = 0;
    try {
      this._each(function(value) {
        iterator(value, index++);
      });
    } catch (e) {
      if (e != $break) throw e;
    }
    return this;
  },

  eachSlice: function(number, iterator) {
    var index = -number, slices = [], array = this.toArray();
    while ((index += number) < array.length)
      slices.push(array.slice(index, index+number));
    return slices.map(iterator);
  },

  all: function(iterator) {
    var result = true;
    this.each(function(value, index) {
      result = result && !!(iterator || Prototype.K)(value, index);
      if (!result) throw $break;
    });
    return result;
  },

  any: function(iterator) {
    var result = false;
    this.each(function(value, index) {
      if (result = !!(iterator || Prototype.K)(value, index))
        throw $break;
    });
    return result;
  },

  collect: function(iterator) {
    var results = [];
    this.each(function(value, index) {
      results.push((iterator || Prototype.K)(value, index));
    });
    return results;
  },

  detect: function(iterator) {
    var result;
    this.each(function(value, index) {
      if (iterator(value, index)) {
        result = value;
        throw $break;
      }
    });
    return result;
  },

  findAll: function(iterator) {
    var results = [];
    this.each(function(value, index) {
      if (iterator(value, index))
        results.push(value);
    });
    return results;
  },

  grep: function(pattern, iterator) {
    var results = [];
    this.each(function(value, index) {
      var stringValue = value.toString();
      if (stringValue.match(pattern))
        results.push((iterator || Prototype.K)(value, index));
    })
    return results;
  },

  include: function(object) {
    var found = false;
    this.each(function(value) {
      if (value == object) {
        found = true;
        throw $break;
      }
    });
    return found;
  },

  inGroupsOf: function(number, fillWith) {
    fillWith = fillWith === undefined ? null : fillWith;
    return this.eachSlice(number, function(slice) {
      while(slice.length < number) slice.push(fillWith);
      return slice;
    });
  },

  inject: function(memo, iterator) {
    this.each(function(value, index) {
      memo = iterator(memo, value, index);
    });
    return memo;
  },

  invoke: function(method) {
    var args = $A(arguments).slice(1);
    return this.map(function(value) {
      return value[method].apply(value, args);
    });
  },

  max: function(iterator) {
    var result;
    this.each(function(value, index) {
      value = (iterator || Prototype.K)(value, index);
      if (result == undefined || value >= result)
        result = value;
    });
    return result;
  },

  min: function(iterator) {
    var result;
    this.each(function(value, index) {
      value = (iterator || Prototype.K)(value, index);
      if (result == undefined || value < result)
        result = value;
    });
    return result;
  },

  partition: function(iterator) {
    var trues = [], falses = [];
    this.each(function(value, index) {
      ((iterator || Prototype.K)(value, index) ?
        trues : falses).push(value);
    });
    return [trues, falses];
  },

  pluck: function(property) {
    var results = [];
    this.each(function(value, index) {
      results.push(value[property]);
    });
    return results;
  },

  reject: function(iterator) {
    var results = [];
    this.each(function(value, index) {
      if (!iterator(value, index))
        results.push(value);
    });
    return results;
  },

  sortBy: function(iterator) {
    return this.map(function(value, index) {
      return {value: value, criteria: iterator(value, index)};
    }).sort(function(left, right) {
      var a = left.criteria, b = right.criteria;
      return a < b ? -1 : a > b ? 1 : 0;
    }).pluck('value');
  },

  toArray: function() {
    return this.map();
  },

  zip: function() {
    var iterator = Prototype.K, args = $A(arguments);
    if (typeof args.last() == 'function')
      iterator = args.pop();

    var collections = [this].concat(args).map($A);
    return this.map(function(value, index) {
      return iterator(collections.pluck(index));
    });
  },

  size: function() {
    return this.toArray().length;
  },

  inspect: function() {
    return '#<Enumerable:' + this.toArray().inspect() + '>';
  }
}

Object.extend(Enumerable, {
  map:     Enumerable.collect,
  find:    Enumerable.detect,
  select:  Enumerable.findAll,
  member:  Enumerable.include,
  entries: Enumerable.toArray
});
var $A = Array.from = function(iterable) {
  if (!iterable) return [];
  if (iterable.toArray) {
    return iterable.toArray();
  } else {
    var results = [];
    for (var i = 0, length = iterable.length; i < length; i++)
      results.push(iterable[i]);
    return results;
  }
}

if (Prototype.Browser.WebKit) {
  $A = Array.from = function(iterable) {
    if (!iterable) return [];
    if (!(typeof iterable == 'function' && iterable == '[object NodeList]') &&
      iterable.toArray) {
      return iterable.toArray();
    } else {
      var results = [];
      for (var i = 0, length = iterable.length; i < length; i++)
        results.push(iterable[i]);
      return results;
    }
  }
}

Object.extend(Array.prototype, Enumerable);

if (!Array.prototype._reverse)
  Array.prototype._reverse = Array.prototype.reverse;

Object.extend(Array.prototype, {
  _each: function(iterator) {
    for (var i = 0, length = this.length; i < length; i++)
      iterator(this[i]);
  },

  clear: function() {
    this.length = 0;
    return this;
  },

  first: function() {
    return this[0];
  },

  last: function() {
    return this[this.length - 1];
  },

  compact: function() {
    return this.select(function(value) {
      return value != null;
    });
  },

  flatten: function() {
    return this.inject([], function(array, value) {
      return array.concat(value && value.constructor == Array ?
        value.flatten() : [value]);
    });
  },

  without: function() {
    var values = $A(arguments);
    return this.select(function(value) {
      return !values.include(value);
    });
  },

  indexOf: function(object) {
    for (var i = 0, length = this.length; i < length; i++)
      if (this[i] == object) return i;
    return -1;
  },

  reverse: function(inline) {
    return (inline !== false ? this : this.toArray())._reverse();
  },

  reduce: function() {
    return this.length > 1 ? this : this[0];
  },

  uniq: function(sorted) {
    return this.inject([], function(array, value, index) {
      if (0 == index || (sorted ? array.last() != value : !array.include(value)))
        array.push(value);
      return array;
    });
  },

  clone: function() {
    return [].concat(this);
  },

  size: function() {
    return this.length;
  },

  inspect: function() {
    return '[' + this.map(Object.inspect).join(', ') + ']';
  },

  toJSON: function() {
    var results = [];
    this.each(function(object) {
      var value = Object.toJSON(object);
      if (value !== undefined) results.push(value);
    });
    return '[' + results.join(', ') + ']';
  }
});

Array.prototype.toArray = Array.prototype.clone;

function $w(string) {
  string = string.strip();
  return string ? string.split(/\s+/) : [];
}

if (Prototype.Browser.Opera){
  Array.prototype.concat = function() {
    var array = [];
    for (var i = 0, length = this.length; i < length; i++) array.push(this[i]);
    for (var i = 0, length = arguments.length; i < length; i++) {
      if (arguments[i].constructor == Array) {
        for (var j = 0, arrayLength = arguments[i].length; j < arrayLength; j++)
          array.push(arguments[i][j]);
      } else {
        array.push(arguments[i]);
      }
    }
    return array;
  }
}
var Hash = function(object) {
  if (object instanceof Hash) this.merge(object);
  else Object.extend(this, object || {});
};

Object.extend(Hash, {
  toQueryString: function(obj) {
    var parts = [];
    parts.add = arguments.callee.addPair;

    this.prototype._each.call(obj, function(pair) {
      if (!pair.key) return;
      var value = pair.value;

      if (value && typeof value == 'object') {
        if (value.constructor == Array) value.each(function(value) {
          parts.add(pair.key, value);
        });
        return;
      }
      parts.add(pair.key, value);
    });

    return parts.join('&');
  },

  toJSON: function(object) {
    var results = [];
    this.prototype._each.call(object, function(pair) {
      var value = Object.toJSON(pair.value);
      if (value !== undefined) results.push(pair.key.toJSON() + ': ' + value);
    });
    return '{' + results.join(', ') + '}';
  }
});

Hash.toQueryString.addPair = function(key, value, prefix) {
  key = encodeURIComponent(key);
  if (value === undefined) this.push(key);
  else this.push(key + '=' + (value == null ? '' : encodeURIComponent(value)));
}

Object.extend(Hash.prototype, Enumerable);
Object.extend(Hash.prototype, {
  _each: function(iterator) {
    for (var key in this) {
      var value = this[key];
      if (value && value == Hash.prototype[key]) continue;

      var pair = [key, value];
      pair.key = key;
      pair.value = value;
      iterator(pair);
    }
  },

  keys: function() {
    return this.pluck('key');
  },

  values: function() {
    return this.pluck('value');
  },

  merge: function(hash) {
    return $H(hash).inject(this, function(mergedHash, pair) {
      mergedHash[pair.key] = pair.value;
      return mergedHash;
    });
  },

  remove: function() {
    var result;
    for(var i = 0, length = arguments.length; i < length; i++) {
      var value = this[arguments[i]];
      if (value !== undefined){
        if (result === undefined) result = value;
        else {
          if (result.constructor != Array) result = [result];
          result.push(value)
        }
      }
      delete this[arguments[i]];
    }
    return result;
  },

  toQueryString: function() {
    return Hash.toQueryString(this);
  },

  inspect: function() {
    return '#<Hash:{' + this.map(function(pair) {
      return pair.map(Object.inspect).join(': ');
    }).join(', ') + '}>';
  },

  toJSON: function() {
    return Hash.toJSON(this);
  }
});

function $H(object) {
  if (object instanceof Hash) return object;
  return new Hash(object);
};

// Safari iterates over shadowed properties
if (function() {
  var i = 0, Test = function(value) { this.key = value };
  Test.prototype.key = 'foo';
  for (var property in new Test('bar')) i++;
  return i > 1;
}()) Hash.prototype._each = function(iterator) {
  var cache = [];
  for (var key in this) {
    var value = this[key];
    if ((value && value == Hash.prototype[key]) || cache.include(key)) continue;
    cache.push(key);
    var pair = [key, value];
    pair.key = key;
    pair.value = value;
    iterator(pair);
  }
};
ObjectRange = Class.create();
Object.extend(ObjectRange.prototype, Enumerable);
Object.extend(ObjectRange.prototype, {
  initialize: function(start, end, exclusive) {
    this.start = start;
    this.end = end;
    this.exclusive = exclusive;
  },

  _each: function(iterator) {
    var value = this.start;
    while (this.include(value)) {
      iterator(value);
      value = value.succ();
    }
  },

  include: function(value) {
    if (value < this.start)
      return false;
    if (this.exclusive)
      return value < this.end;
    return value <= this.end;
  }
});

var $R = function(start, end, exclusive) {
  return new ObjectRange(start, end, exclusive);
}

var Ajax = {
  getTransport: function() {
    return Try.these(
      function() {return new XMLHttpRequest()},
      function() {return new ActiveXObject('Msxml2.XMLHTTP')},
      function() {return new ActiveXObject('Microsoft.XMLHTTP')}
    ) || false;
  },

  activeRequestCount: 0
}

Ajax.Responders = {
  responders: [],

  _each: function(iterator) {
    this.responders._each(iterator);
  },

  register: function(responder) {
    if (!this.include(responder))
      this.responders.push(responder);
  },

  unregister: function(responder) {
    this.responders = this.responders.without(responder);
  },

  dispatch: function(callback, request, transport, json) {
    this.each(function(responder) {
      if (typeof responder[callback] == 'function') {
        try {
          responder[callback].apply(responder, [request, transport, json]);
        } catch (e) {}
      }
    });
  }
};

Object.extend(Ajax.Responders, Enumerable);

Ajax.Responders.register({
  onCreate: function() {
    Ajax.activeRequestCount++;
  },
  onComplete: function() {
    Ajax.activeRequestCount--;
  }
});

Ajax.Base = function() {};
Ajax.Base.prototype = {
  setOptions: function(options) {
    this.options = {
      method:       'post',
      asynchronous: true,
      contentType:  'application/x-www-form-urlencoded',
      encoding:     'UTF-8',
      parameters:   ''
    }
    Object.extend(this.options, options || {});

    this.options.method = this.options.method.toLowerCase();
    if (typeof this.options.parameters == 'string')
      this.options.parameters = this.options.parameters.toQueryParams();
  }
}

Ajax.Request = Class.create();
Ajax.Request.Events =
  ['Uninitialized', 'Loading', 'Loaded', 'Interactive', 'Complete'];

Ajax.Request.prototype = Object.extend(new Ajax.Base(), {
  _complete: false,

  initialize: function(url, options) {
    this.transport = Ajax.getTransport();
    this.setOptions(options);
    this.request(url);
  },

  request: function(url) {
    this.url = url;
    this.method = this.options.method;
    var params = Object.clone(this.options.parameters);

    if (!['get', 'post'].include(this.method)) {
      // simulate other verbs over post
      params['_method'] = this.method;
      this.method = 'post';
    }

    this.parameters = params;

    if (params = Hash.toQueryString(params)) {
      // when GET, append parameters to URL
      if (this.method == 'get')
        this.url += (this.url.include('?') ? '&' : '?') + params;
      else if (/Konqueror|Safari|KHTML/.test(navigator.userAgent))
        params += '&_=';
    }

    try {
      if (this.options.onCreate) this.options.onCreate(this.transport);
      Ajax.Responders.dispatch('onCreate', this, this.transport);

      this.transport.open(this.method.toUpperCase(), this.url,
        this.options.asynchronous);

      if (this.options.asynchronous)
        setTimeout(function() { this.respondToReadyState(1) }.bind(this), 10);

      this.transport.onreadystatechange = this.onStateChange.bind(this);
      this.setRequestHeaders();

      this.body = this.method == 'post' ? (this.options.postBody || params) : null;
      this.transport.send(this.body);

      /* Force Firefox to handle ready state 4 for synchronous requests */
      if (!this.options.asynchronous && this.transport.overrideMimeType)
        this.onStateChange();

    }
    catch (e) {
      this.dispatchException(e);
    }
  },

  onStateChange: function() {
    var readyState = this.transport.readyState;
    if (readyState > 1 && !((readyState == 4) && this._complete))
      this.respondToReadyState(this.transport.readyState);
  },

  setRequestHeaders: function() {
    var headers = {
      'X-Requested-With': 'XMLHttpRequest',
      'X-Prototype-Version': Prototype.Version,
      'Accept': 'text/javascript, text/html, application/xml, text/xml, */*'
    };

    if (this.method == 'post') {
      headers['Content-type'] = this.options.contentType +
        (this.options.encoding ? '; charset=' + this.options.encoding : '');

      /* Force "Connection: close" for older Mozilla browsers to work
       * around a bug where XMLHttpRequest sends an incorrect
       * Content-length header. See Mozilla Bugzilla #246651.
       */
      if (this.transport.overrideMimeType &&
          (navigator.userAgent.match(/Gecko\/(\d{4})/) || [0,2005])[1] < 2005)
            headers['Connection'] = 'close';
    }

    // user-defined headers
    if (typeof this.options.requestHeaders == 'object') {
      var extras = this.options.requestHeaders;

      if (typeof extras.push == 'function')
        for (var i = 0, length = extras.length; i < length; i += 2)
          headers[extras[i]] = extras[i+1];
      else
        $H(extras).each(function(pair) { headers[pair.key] = pair.value });
    }

    for (var name in headers)
      this.transport.setRequestHeader(name, headers[name]);
  },

  success: function() {
    return !this.transport.status
        || (this.transport.status >= 200 && this.transport.status < 300);
  },

  respondToReadyState: function(readyState) {
    var state = Ajax.Request.Events[readyState];
    var transport = this.transport, json = this.evalJSON();

    if (state == 'Complete') {
      try {
        this._complete = true;
        (this.options['on' + this.transport.status]
         || this.options['on' + (this.success() ? 'Success' : 'Failure')]
         || Prototype.emptyFunction)(transport, json);
      } catch (e) {
        this.dispatchException(e);
      }

      var contentType = this.getHeader('Content-type');
      if (contentType && contentType.strip().
        match(/^(text|application)\/(x-)?(java|ecma)script(;.*)?$/i))
          this.evalResponse();
    }

    try {
      (this.options['on' + state] || Prototype.emptyFunction)(transport, json);
      Ajax.Responders.dispatch('on' + state, this, transport, json);
    } catch (e) {
      this.dispatchException(e);
    }

    if (state == 'Complete') {
      // avoid memory leak in MSIE: clean up
      this.transport.onreadystatechange = Prototype.emptyFunction;
    }
  },

  getHeader: function(name) {
    try {
      return this.transport.getResponseHeader(name);
    } catch (e) { return null }
  },

  evalJSON: function() {
    try {
      var json = this.getHeader('X-JSON');
      return json ? json.evalJSON() : null;
    } catch (e) { return null }
  },

  evalResponse: function() {
    try {
      return eval((this.transport.responseText || '').unfilterJSON());
    } catch (e) {
      this.dispatchException(e);
    }
  },

  dispatchException: function(exception) {
    (this.options.onException || Prototype.emptyFunction)(this, exception);
    Ajax.Responders.dispatch('onException', this, exception);
  }
});

Ajax.Updater = Class.create();

Object.extend(Object.extend(Ajax.Updater.prototype, Ajax.Request.prototype), {
  initialize: function(container, url, options) {
    this.container = {
      success: (container.success || container),
      failure: (container.failure || (container.success ? null : container))
    }

    this.transport = Ajax.getTransport();
    this.setOptions(options);

    var onComplete = this.options.onComplete || Prototype.emptyFunction;
    this.options.onComplete = (function(transport, param) {
      this.updateContent();
      onComplete(transport, param);
    }).bind(this);

    this.request(url);
  },

  updateContent: function() {
    var receiver = this.container[this.success() ? 'success' : 'failure'];
    var response = this.transport.responseText;

    if (!this.options.evalScripts) response = response.stripScripts();

    if (receiver = $(receiver)) {
      if (this.options.insertion)
        new this.options.insertion(receiver, response);
      else
        receiver.update(response);
    }

    if (this.success()) {
      if (this.onComplete)
        setTimeout(this.onComplete.bind(this), 10);
    }
  }
});

Ajax.PeriodicalUpdater = Class.create();
Ajax.PeriodicalUpdater.prototype = Object.extend(new Ajax.Base(), {
  initialize: function(container, url, options) {
    this.setOptions(options);
    this.onComplete = this.options.onComplete;

    this.frequency = (this.options.frequency || 2);
    this.decay = (this.options.decay || 1);

    this.updater = {};
    this.container = container;
    this.url = url;

    this.start();
  },

  start: function() {
    this.options.onComplete = this.updateComplete.bind(this);
    this.onTimerEvent();
  },

  stop: function() {
    this.updater.options.onComplete = undefined;
    clearTimeout(this.timer);
    (this.onComplete || Prototype.emptyFunction).apply(this, arguments);
  },

  updateComplete: function(request) {
    if (this.options.decay) {
      this.decay = (request.responseText == this.lastText ?
        this.decay * this.options.decay : 1);

      this.lastText = request.responseText;
    }
    this.timer = setTimeout(this.onTimerEvent.bind(this),
      this.decay * this.frequency * 1000);
  },

  onTimerEvent: function() {
    this.updater = new Ajax.Updater(this.container, this.url, this.options);
  }
});
function $(element) {
  if (arguments.length > 1) {
    for (var i = 0, elements = [], length = arguments.length; i < length; i++)
      elements.push($(arguments[i]));
    return elements;
  }
  if (typeof element == 'string')
    element = document.getElementById(element);
  return Element.extend(element);
}

if (Prototype.BrowserFeatures.XPath) {
  document._getElementsByXPath = function(expression, parentElement) {
    var results = [];
    var query = document.evaluate(expression, $(parentElement) || document,
      null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
    for (var i = 0, length = query.snapshotLength; i < length; i++)
      results.push(query.snapshotItem(i));
    return results;
  };

  document.getElementsByClassName = function(className, parentElement) {
    var q = ".//*[contains(concat(' ', @class, ' '), ' " + className + " ')]";
    return document._getElementsByXPath(q, parentElement);
  }

} else document.getElementsByClassName = function(className, parentElement) {
  var children = ($(parentElement) || document.body).getElementsByTagName('*');
  var elements = [], child, pattern = new RegExp("(^|\\s)" + className + "(\\s|$)");
  for (var i = 0, length = children.length; i < length; i++) {
    child = children[i];
    var elementClassName = child.className;
    if (elementClassName.length == 0) continue;
    if (elementClassName == className || elementClassName.match(pattern))
      elements.push(Element.extend(child));
  }
  return elements;
};

/*--------------------------------------------------------------------------*/

if (!window.Element) var Element = {};

Element.extend = function(element) {
  var F = Prototype.BrowserFeatures;
  if (!element || !element.tagName || element.nodeType == 3 ||
   element._extended || F.SpecificElementExtensions || element == window)
    return element;

  var methods = {}, tagName = element.tagName, cache = Element.extend.cache,
   T = Element.Methods.ByTag;

  // extend methods for all tags (Safari doesn't need this)
  if (!F.ElementExtensions) {
    Object.extend(methods, Element.Methods),
    Object.extend(methods, Element.Methods.Simulated);
  }

  // extend methods for specific tags
  if (T[tagName]) Object.extend(methods, T[tagName]);

  for (var property in methods) {
    var value = methods[property];
    if (typeof value == 'function' && !(property in element))
      element[property] = cache.findOrStore(value);
  }

  element._extended = Prototype.emptyFunction;
  return element;
};

Element.extend.cache = {
  findOrStore: function(value) {
    return this[value] = this[value] || function() {
      return value.apply(null, [this].concat($A(arguments)));
    }
  }
};

Element.Methods = {
  visible: function(element) {
    return $(element).style.display != 'none';
  },

  toggle: function(element) {
    element = $(element);
    Element[Element.visible(element) ? 'hide' : 'show'](element);
    return element;
  },

  hide: function(element) {
    $(element).style.display = 'none';
    return element;
  },

  show: function(element) {
    $(element).style.display = '';
    return element;
  },

  remove: function(element) {
    element = $(element);
    element.parentNode.removeChild(element);
    return element;
  },

  update: function(element, html) {
    html = typeof html == 'undefined' ? '' : html.toString();
    $(element).innerHTML = html.stripScripts();
    setTimeout(function() {html.evalScripts()}, 10);
    return element;
  },

  replace: function(element, html) {
    element = $(element);
    html = typeof html == 'undefined' ? '' : html.toString();
    if (element.outerHTML) {
      element.outerHTML = html.stripScripts();
    } else {
      var range = element.ownerDocument.createRange();
      range.selectNodeContents(element);
      element.parentNode.replaceChild(
        range.createContextualFragment(html.stripScripts()), element);
    }
    setTimeout(function() {html.evalScripts()}, 10);
    return element;
  },

  inspect: function(element) {
    element = $(element);
    var result = '<' + element.tagName.toLowerCase();
    $H({'id': 'id', 'className': 'class'}).each(function(pair) {
      var property = pair.first(), attribute = pair.last();
      var value = (element[property] || '').toString();
      if (value) result += ' ' + attribute + '=' + value.inspect(true);
    });
    return result + '>';
  },

  recursivelyCollect: function(element, property) {
    element = $(element);
    var elements = [];
    while (element = element[property])
      if (element.nodeType == 1)
        elements.push(Element.extend(element));
    return elements;
  },

  ancestors: function(element) {
    return $(element).recursivelyCollect('parentNode');
  },

  descendants: function(element) {
    return $A($(element).getElementsByTagName('*')).each(Element.extend);
  },

  firstDescendant: function(element) {
    element = $(element).firstChild;
    while (element && element.nodeType != 1) element = element.nextSibling;
    return $(element);
  },

  immediateDescendants: function(element) {
    if (!(element = $(element).firstChild)) return [];
    while (element && element.nodeType != 1) element = element.nextSibling;
    if (element) return [element].concat($(element).nextSiblings());
    return [];
  },

  previousSiblings: function(element) {
    return $(element).recursivelyCollect('previousSibling');
  },

  nextSiblings: function(element) {
    return $(element).recursivelyCollect('nextSibling');
  },

  siblings: function(element) {
    element = $(element);
    return element.previousSiblings().reverse().concat(element.nextSiblings());
  },

  match: function(element, selector) {
    if (typeof selector == 'string')
      selector = new Selector(selector);
    return selector.match($(element));
  },

  up: function(element, expression, index) {
    element = $(element);
    if (arguments.length == 1) return $(element.parentNode);
    var ancestors = element.ancestors();
    return expression ? Selector.findElement(ancestors, expression, index) :
      ancestors[index || 0];
  },

  down: function(element, expression, index) {
    element = $(element);
    if (arguments.length == 1) return element.firstDescendant();
    var descendants = element.descendants();
    return expression ? Selector.findElement(descendants, expression, index) :
      descendants[index || 0];
  },

  previous: function(element, expression, index) {
    element = $(element);
    if (arguments.length == 1) return $(Selector.handlers.previousElementSibling(element));
    var previousSiblings = element.previousSiblings();
    return expression ? Selector.findElement(previousSiblings, expression, index) :
      previousSiblings[index || 0];
  },

  next: function(element, expression, index) {
    element = $(element);
    if (arguments.length == 1) return $(Selector.handlers.nextElementSibling(element));
    var nextSiblings = element.nextSiblings();
    return expression ? Selector.findElement(nextSiblings, expression, index) :
      nextSiblings[index || 0];
  },

  getElementsBySelector: function() {
    var args = $A(arguments), element = $(args.shift());
    return Selector.findChildElements(element, args);
  },

  getElementsByClassName: function(element, className) {
    return document.getElementsByClassName(className, element);
  },

  readAttribute: function(element, name) {
    element = $(element);
    if (Prototype.Browser.IE) {
      if (!element.attributes) return null;
      var t = Element._attributeTranslations;
      if (t.values[name]) return t.values[name](element, name);
      if (t.names[name])  name = t.names[name];
      var attribute = element.attributes[name];
      return attribute ? attribute.nodeValue : null;
    }
    return element.getAttribute(name);
  },

  getHeight: function(element) {
    return $(element).getDimensions().height;
  },

  getWidth: function(element) {
    return $(element).getDimensions().width;
  },

  classNames: function(element) {
    return new Element.ClassNames(element);
  },

  hasClassName: function(element, className) {
    if (!(element = $(element))) return;
    var elementClassName = element.className;
    if (elementClassName.length == 0) return false;
    if (elementClassName == className ||
        elementClassName.match(new RegExp("(^|\\s)" + className + "(\\s|$)")))
      return true;
    return false;
  },

  addClassName: function(element, className) {
    if (!(element = $(element))) return;
    Element.classNames(element).add(className);
    return element;
  },

  removeClassName: function(element, className) {
    if (!(element = $(element))) return;
    Element.classNames(element).remove(className);
    return element;
  },

  toggleClassName: function(element, className) {
    if (!(element = $(element))) return;
    Element.classNames(element)[element.hasClassName(className) ? 'remove' : 'add'](className);
    return element;
  },

  observe: function() {
    Event.observe.apply(Event, arguments);
    return $A(arguments).first();
  },

  stopObserving: function() {
    Event.stopObserving.apply(Event, arguments);
    return $A(arguments).first();
  },

  // removes whitespace-only text node children
  cleanWhitespace: function(element) {
    element = $(element);
    var node = element.firstChild;
    while (node) {
      var nextNode = node.nextSibling;
      if (node.nodeType == 3 && !/\S/.test(node.nodeValue))
        element.removeChild(node);
      node = nextNode;
    }
    return element;
  },

  empty: function(element) {
    return $(element).innerHTML.blank();
  },

  descendantOf: function(element, ancestor) {
    element = $(element), ancestor = $(ancestor);
    while (element = element.parentNode)
      if (element == ancestor) return true;
    return false;
  },

  scrollTo: function(element) {
    element = $(element);
    var pos = Position.cumulativeOffset(element);
    window.scrollTo(pos[0], pos[1]);
    return element;
  },

  getStyle: function(element, style) {
    element = $(element);
    style = style == 'float' ? 'cssFloat' : style.camelize();
    var value = element.style[style];
    if (!value) {
      var css = document.defaultView.getComputedStyle(element, null);
      value = css ? css[style] : null;
    }
    if (style == 'opacity') return value ? parseFloat(value) : 1.0;
    return value == 'auto' ? null : value;
  },

  getOpacity: function(element) {
    return $(element).getStyle('opacity');
  },

  setStyle: function(element, styles, camelized) {
    element = $(element);
    var elementStyle = element.style;

    for (var property in styles)
      if (property == 'opacity') element.setOpacity(styles[property])
      else
        elementStyle[(property == 'float' || property == 'cssFloat') ?
          (elementStyle.styleFloat === undefined ? 'cssFloat' : 'styleFloat') :
          (camelized ? property : property.camelize())] = styles[property];

    return element;
  },

  setOpacity: function(element, value) {
    element = $(element);
    element.style.opacity = (value == 1 || value === '') ? '' :
      (value < 0.00001) ? 0 : value;
    return element;
  },

  getDimensions: function(element) {
    element = $(element);
    var display = $(element).getStyle('display');
    if (display != 'none' && display != null) // Safari bug
      return {width: element.offsetWidth, height: element.offsetHeight};

    // All *Width and *Height properties give 0 on elements with display none,
    // so enable the element temporarily
    var els = element.style;
    var originalVisibility = els.visibility;
    var originalPosition = els.position;
    var originalDisplay = els.display;
    els.visibility = 'hidden';
    els.position = 'absolute';
    els.display = 'block';
    var originalWidth = element.clientWidth;
    var originalHeight = element.clientHeight;
    els.display = originalDisplay;
    els.position = originalPosition;
    els.visibility = originalVisibility;
    return {width: originalWidth, height: originalHeight};
  },

  makePositioned: function(element) {
    element = $(element);
    var pos = Element.getStyle(element, 'position');
    if (pos == 'static' || !pos) {
      element._madePositioned = true;
      element.style.position = 'relative';
      // Opera returns the offset relative to the positioning context, when an
      // element is position relative but top and left have not been defined
      if (window.opera) {
        element.style.top = 0;
        element.style.left = 0;
      }
    }
    return element;
  },

  undoPositioned: function(element) {
    element = $(element);
    if (element._madePositioned) {
      element._madePositioned = undefined;
      element.style.position =
        element.style.top =
        element.style.left =
        element.style.bottom =
        element.style.right = '';
    }
    return element;
  },

  makeClipping: function(element) {
    element = $(element);
    if (element._overflow) return element;
    element._overflow = element.style.overflow || 'auto';
    if ((Element.getStyle(element, 'overflow') || 'visible') != 'hidden')
      element.style.overflow = 'hidden';
    return element;
  },

  undoClipping: function(element) {
    element = $(element);
    if (!element._overflow) return element;
    element.style.overflow = element._overflow == 'auto' ? '' : element._overflow;
    element._overflow = null;
    return element;
  }
};

Object.extend(Element.Methods, {
  childOf: Element.Methods.descendantOf,
  childElements: Element.Methods.immediateDescendants
});

if (Prototype.Browser.Opera) {
  Element.Methods._getStyle = Element.Methods.getStyle;
  Element.Methods.getStyle = function(element, style) {
    switch(style) {
      case 'left':
      case 'top':
      case 'right':
      case 'bottom':
        if (Element._getStyle(element, 'position') == 'static') return null;
      default: return Element._getStyle(element, style);
    }
  };
}
else if (Prototype.Browser.IE) {
  Element.Methods.getStyle = function(element, style) {
    element = $(element);
    style = (style == 'float' || style == 'cssFloat') ? 'styleFloat' : style.camelize();
    var value = element.style[style];
    if (!value && element.currentStyle) value = element.currentStyle[style];

    if (style == 'opacity') {
      if (value = (element.getStyle('filter') || '').match(/alpha\(opacity=(.*)\)/))
        if (value[1]) return parseFloat(value[1]) / 100;
      return 1.0;
    }

    if (value == 'auto') {
      if ((style == 'width' || style == 'height') && (element.getStyle('display') != 'none'))
        return element['offset'+style.capitalize()] + 'px';
      return null;
    }
    return value;
  };

  Element.Methods.setOpacity = function(element, value) {
    element = $(element);
    var filter = element.getStyle('filter'), style = element.style;
    if (value == 1 || value === '') {
      style.filter = filter.replace(/alpha\([^\)]*\)/gi,'');
      return element;
    } else if (value < 0.00001) value = 0;
    style.filter = filter.replace(/alpha\([^\)]*\)/gi, '') +
      'alpha(opacity=' + (value * 100) + ')';
    return element;
  };

  // IE is missing .innerHTML support for TABLE-related elements
  Element.Methods.update = function(element, html) {
    element = $(element);
    html = typeof html == 'undefined' ? '' : html.toString();
    var tagName = element.tagName.toUpperCase();
    if (['THEAD','TBODY','TR','TD'].include(tagName)) {
      var div = document.createElement('div');
      switch (tagName) {
        case 'THEAD':
        case 'TBODY':
          div.innerHTML = '<table><tbody>' +  html.stripScripts() + '</tbody></table>';
          depth = 2;
          break;
        case 'TR':
          div.innerHTML = '<table><tbody><tr>' +  html.stripScripts() + '</tr></tbody></table>';
          depth = 3;
          break;
        case 'TD':
          div.innerHTML = '<table><tbody><tr><td>' +  html.stripScripts() + '</td></tr></tbody></table>';
          depth = 4;
      }
      $A(element.childNodes).each(function(node) { element.removeChild(node) });
      depth.times(function() { div = div.firstChild });
      $A(div.childNodes).each(function(node) { element.appendChild(node) });
    } else {
      element.innerHTML = html.stripScripts();
    }
    setTimeout(function() { html.evalScripts() }, 10);
    return element;
  }
}
else if (Prototype.Browser.Gecko) {
  Element.Methods.setOpacity = function(element, value) {
    element = $(element);
    element.style.opacity = (value == 1) ? 0.999999 :
      (value === '') ? '' : (value < 0.00001) ? 0 : value;
    return element;
  };
}

Element._attributeTranslations = {
  names: {
    colspan:   "colSpan",
    rowspan:   "rowSpan",
    valign:    "vAlign",
    datetime:  "dateTime",
    accesskey: "accessKey",
    tabindex:  "tabIndex",
    enctype:   "encType",
    maxlength: "maxLength",
    readonly:  "readOnly",
    longdesc:  "longDesc"
  },
  values: {
    _getAttr: function(element, attribute) {
      return element.getAttribute(attribute, 2);
    },
    _flag: function(element, attribute) {
      return $(element).hasAttribute(attribute) ? attribute : null;
    },
    style: function(element) {
      return element.style.cssText.toLowerCase();
    },
    title: function(element) {
      var node = element.getAttributeNode('title');
      return node.specified ? node.nodeValue : null;
    }
  }
};

(function() {
  Object.extend(this, {
    href: this._getAttr,
    src:  this._getAttr,
    type: this._getAttr,
    disabled: this._flag,
    checked:  this._flag,
    readonly: this._flag,
    multiple: this._flag
  });
}).call(Element._attributeTranslations.values);

Element.Methods.Simulated = {
  hasAttribute: function(element, attribute) {
    var t = Element._attributeTranslations, node;
    attribute = t.names[attribute] || attribute;
    node = $(element).getAttributeNode(attribute);
    return node && node.specified;
  }
};

Element.Methods.ByTag = {};

Object.extend(Element, Element.Methods);

if (!Prototype.BrowserFeatures.ElementExtensions &&
 document.createElement('div').__proto__) {
  window.HTMLElement = {};
  window.HTMLElement.prototype = document.createElement('div').__proto__;
  Prototype.BrowserFeatures.ElementExtensions = true;
}

Element.hasAttribute = function(element, attribute) {
  if (element.hasAttribute) return element.hasAttribute(attribute);
  return Element.Methods.Simulated.hasAttribute(element, attribute);
};

Element.addMethods = function(methods) {
  var F = Prototype.BrowserFeatures, T = Element.Methods.ByTag;

  if (!methods) {
    Object.extend(Form, Form.Methods);
    Object.extend(Form.Element, Form.Element.Methods);
    Object.extend(Element.Methods.ByTag, {
      "FORM":     Object.clone(Form.Methods),
      "INPUT":    Object.clone(Form.Element.Methods),
      "SELECT":   Object.clone(Form.Element.Methods),
      "TEXTAREA": Object.clone(Form.Element.Methods)
    });
  }

  if (arguments.length == 2) {
    var tagName = methods;
    methods = arguments[1];
  }

  if (!tagName) Object.extend(Element.Methods, methods || {});
  else {
    if (tagName.constructor == Array) tagName.each(extend);
    else extend(tagName);
  }

  function extend(tagName) {
    tagName = tagName.toUpperCase();
    if (!Element.Methods.ByTag[tagName])
      Element.Methods.ByTag[tagName] = {};
    Object.extend(Element.Methods.ByTag[tagName], methods);
  }

  function copy(methods, destination, onlyIfAbsent) {
    onlyIfAbsent = onlyIfAbsent || false;
    var cache = Element.extend.cache;
    for (var property in methods) {
      var value = methods[property];
      if (!onlyIfAbsent || !(property in destination))
        destination[property] = cache.findOrStore(value);
    }
  }

  function findDOMClass(tagName) {
    var klass;
    var trans = {
      "OPTGROUP": "OptGroup", "TEXTAREA": "TextArea", "P": "Paragraph",
      "FIELDSET": "FieldSet", "UL": "UList", "OL": "OList", "DL": "DList",
      "DIR": "Directory", "H1": "Heading", "H2": "Heading", "H3": "Heading",
      "H4": "Heading", "H5": "Heading", "H6": "Heading", "Q": "Quote",
      "INS": "Mod", "DEL": "Mod", "A": "Anchor", "IMG": "Image", "CAPTION":
      "TableCaption", "COL": "TableCol", "COLGROUP": "TableCol", "THEAD":
      "TableSection", "TFOOT": "TableSection", "TBODY": "TableSection", "TR":
      "TableRow", "TH": "TableCell", "TD": "TableCell", "FRAMESET":
      "FrameSet", "IFRAME": "IFrame"
    };
    if (trans[tagName]) klass = 'HTML' + trans[tagName] + 'Element';
    if (window[klass]) return window[klass];
    klass = 'HTML' + tagName + 'Element';
    if (window[klass]) return window[klass];
    klass = 'HTML' + tagName.capitalize() + 'Element';
    if (window[klass]) return window[klass];

    window[klass] = {};
    window[klass].prototype = document.createElement(tagName).__proto__;
    return window[klass];
  }

  if (F.ElementExtensions) {
    copy(Element.Methods, HTMLElement.prototype);
    copy(Element.Methods.Simulated, HTMLElement.prototype, true);
  }

  if (F.SpecificElementExtensions) {
    for (var tag in Element.Methods.ByTag) {
      var klass = findDOMClass(tag);
      if (typeof klass == "undefined") continue;
      copy(T[tag], klass.prototype);
    }
  }

  Object.extend(Element, Element.Methods);
  delete Element.ByTag;
};

var Toggle = { display: Element.toggle };

/*--------------------------------------------------------------------------*/

Abstract.Insertion = function(adjacency) {
  this.adjacency = adjacency;
}

Abstract.Insertion.prototype = {
  initialize: function(element, content) {
    this.element = $(element);
    this.content = content.stripScripts();

    if (this.adjacency && this.element.insertAdjacentHTML) {
      try {
        this.element.insertAdjacentHTML(this.adjacency, this.content);
      } catch (e) {
        var tagName = this.element.tagName.toUpperCase();
        if (['TBODY', 'TR'].include(tagName)) {
          this.insertContent(this.contentFromAnonymousTable());
        } else {
          throw e;
        }
      }
    } else {
      this.range = this.element.ownerDocument.createRange();
      if (this.initializeRange) this.initializeRange();
      this.insertContent([this.range.createContextualFragment(this.content)]);
    }

    setTimeout(function() {content.evalScripts()}, 10);
  },

  contentFromAnonymousTable: function() {
    var div = document.createElement('div');
    div.innerHTML = '<table><tbody>' + this.content + '</tbody></table>';
    return $A(div.childNodes[0].childNodes[0].childNodes);
  }
}

var Insertion = new Object();

Insertion.Before = Class.create();
Insertion.Before.prototype = Object.extend(new Abstract.Insertion('beforeBegin'), {
  initializeRange: function() {
    this.range.setStartBefore(this.element);
  },

  insertContent: function(fragments) {
    fragments.each((function(fragment) {
      this.element.parentNode.insertBefore(fragment, this.element);
    }).bind(this));
  }
});

Insertion.Top = Class.create();
Insertion.Top.prototype = Object.extend(new Abstract.Insertion('afterBegin'), {
  initializeRange: function() {
    this.range.selectNodeContents(this.element);
    this.range.collapse(true);
  },

  insertContent: function(fragments) {
    fragments.reverse(false).each((function(fragment) {
      this.element.insertBefore(fragment, this.element.firstChild);
    }).bind(this));
  }
});

Insertion.Bottom = Class.create();
Insertion.Bottom.prototype = Object.extend(new Abstract.Insertion('beforeEnd'), {
  initializeRange: function() {
    this.range.selectNodeContents(this.element);
    this.range.collapse(this.element);
  },

  insertContent: function(fragments) {
    fragments.each((function(fragment) {
      this.element.appendChild(fragment);
    }).bind(this));
  }
});

Insertion.After = Class.create();
Insertion.After.prototype = Object.extend(new Abstract.Insertion('afterEnd'), {
  initializeRange: function() {
    this.range.setStartAfter(this.element);
  },

  insertContent: function(fragments) {
    fragments.each((function(fragment) {
      this.element.parentNode.insertBefore(fragment,
        this.element.nextSibling);
    }).bind(this));
  }
});

/*--------------------------------------------------------------------------*/

Element.ClassNames = Class.create();
Element.ClassNames.prototype = {
  initialize: function(element) {
    this.element = $(element);
  },

  _each: function(iterator) {
    this.element.className.split(/\s+/).select(function(name) {
      return name.length > 0;
    })._each(iterator);
  },

  set: function(className) {
    this.element.className = className;
  },

  add: function(classNameToAdd) {
    if (this.include(classNameToAdd)) return;
    this.set($A(this).concat(classNameToAdd).join(' '));
  },

  remove: function(classNameToRemove) {
    if (!this.include(classNameToRemove)) return;
    this.set($A(this).without(classNameToRemove).join(' '));
  },

  toString: function() {
    return $A(this).join(' ');
  }
};

Object.extend(Element.ClassNames.prototype, Enumerable);
/* Portions of the Selector class are derived from Jack Slocums DomQuery,
 * part of YUI-Ext version 0.40, distributed under the terms of an MIT-style
 * license.  Please see http://www.yui-ext.com/ for more information. */

var Selector = Class.create();

Selector.prototype = {
  initialize: function(expression) {
    this.expression = expression.strip();
    this.compileMatcher();
  },

  compileMatcher: function() {
    // Selectors with namespaced attributes can't use the XPath version
    if (Prototype.BrowserFeatures.XPath && !(/\[[\w-]*?:/).test(this.expression))
      return this.compileXPathMatcher();

    var e = this.expression, ps = Selector.patterns, h = Selector.handlers,
        c = Selector.criteria, le, p, m;

    if (Selector._cache[e]) {
      this.matcher = Selector._cache[e]; return;
    }
    this.matcher = ["this.matcher = function(root) {",
                    "var r = root, h = Selector.handlers, c = false, n;"];

    while (e && le != e && (/\S/).test(e)) {
      le = e;
      for (var i in ps) {
        p = ps[i];
        if (m = e.match(p)) {
          this.matcher.push(typeof c[i] == 'function' ? c[i](m) :
    	      new Template(c[i]).evaluate(m));
          e = e.replace(m[0], '');
          break;
        }
      }
    }

    this.matcher.push("return h.unique(n);\n}");
    eval(this.matcher.join('\n'));
    Selector._cache[this.expression] = this.matcher;
  },

  compileXPathMatcher: function() {
    var e = this.expression, ps = Selector.patterns,
        x = Selector.xpath, le,  m;

    if (Selector._cache[e]) {
      this.xpath = Selector._cache[e]; return;
    }

    this.matcher = ['.//*'];
    while (e && le != e && (/\S/).test(e)) {
      le = e;
      for (var i in ps) {
        if (m = e.match(ps[i])) {
          this.matcher.push(typeof x[i] == 'function' ? x[i](m) :
            new Template(x[i]).evaluate(m));
          e = e.replace(m[0], '');
          break;
        }
      }
    }

    this.xpath = this.matcher.join('');
    Selector._cache[this.expression] = this.xpath;
  },

  findElements: function(root) {
    root = root || document;
    if (this.xpath) return document._getElementsByXPath(this.xpath, root);
    return this.matcher(root);
  },

  match: function(element) {
    return this.findElements(document).include(element);
  },

  toString: function() {
    return this.expression;
  },

  inspect: function() {
    return "#<Selector:" + this.expression.inspect() + ">";
  }
};

Object.extend(Selector, {
  _cache: {},

  xpath: {
    descendant:   "//*",
    child:        "/*",
    adjacent:     "/following-sibling::*[1]",
    laterSibling: '/following-sibling::*',
    tagName:      function(m) {
      if (m[1] == '*') return '';
      return "[local-name()='" + m[1].toLowerCase() +
             "' or local-name()='" + m[1].toUpperCase() + "']";
    },
    className:    "[contains(concat(' ', @class, ' '), ' #{1} ')]",
    id:           "[@id='#{1}']",
    attrPresence: "[@#{1}]",
    attr: function(m) {
      m[3] = m[5] || m[6];
      return new Template(Selector.xpath.operators[m[2]]).evaluate(m);
    },
    pseudo: function(m) {
      var h = Selector.xpath.pseudos[m[1]];
      if (!h) return '';
      if (typeof h === 'function') return h(m);
      return new Template(Selector.xpath.pseudos[m[1]]).evaluate(m);
    },
    operators: {
      '=':  "[@#{1}='#{3}']",
      '!=': "[@#{1}!='#{3}']",
      '^=': "[starts-with(@#{1}, '#{3}')]",
      '$=': "[substring(@#{1}, (string-length(@#{1}) - string-length('#{3}') + 1))='#{3}']",
      '*=': "[contains(@#{1}, '#{3}')]",
      '~=': "[contains(concat(' ', @#{1}, ' '), ' #{3} ')]",
      '|=': "[contains(concat('-', @#{1}, '-'), '-#{3}-')]"
    },
    pseudos: {
      'first-child': '[not(preceding-sibling::*)]',
      'last-child':  '[not(following-sibling::*)]',
      'only-child':  '[not(preceding-sibling::* or following-sibling::*)]',
      'empty':       "[count(*) = 0 and (count(text()) = 0 or translate(text(), ' \t\r\n', '') = '')]",
      'checked':     "[@checked]",
      'disabled':    "[@disabled]",
      'enabled':     "[not(@disabled)]",
      'not': function(m) {
        var e = m[6], p = Selector.patterns,
            x = Selector.xpath, le, m, v;

        var exclusion = [];
        while (e && le != e && (/\S/).test(e)) {
          le = e;
          for (var i in p) {
            if (m = e.match(p[i])) {
              v = typeof x[i] == 'function' ? x[i](m) : new Template(x[i]).evaluate(m);
              exclusion.push("(" + v.substring(1, v.length - 1) + ")");
              e = e.replace(m[0], '');
              break;
            }
          }
        }
        return "[not(" + exclusion.join(" and ") + ")]";
      },
      'nth-child':      function(m) {
        return Selector.xpath.pseudos.nth("(count(./preceding-sibling::*) + 1) ", m);
      },
      'nth-last-child': function(m) {
        return Selector.xpath.pseudos.nth("(count(./following-sibling::*) + 1) ", m);
      },
      'nth-of-type':    function(m) {
        return Selector.xpath.pseudos.nth("position() ", m);
      },
      'nth-last-of-type': function(m) {
        return Selector.xpath.pseudos.nth("(last() + 1 - position()) ", m);
      },
      'first-of-type':  function(m) {
        m[6] = "1"; return Selector.xpath.pseudos['nth-of-type'](m);
      },
      'last-of-type':   function(m) {
        m[6] = "1"; return Selector.xpath.pseudos['nth-last-of-type'](m);
      },
      'only-of-type':   function(m) {
        var p = Selector.xpath.pseudos; return p['first-of-type'](m) + p['last-of-type'](m);
      },
      nth: function(fragment, m) {
        var mm, formula = m[6], predicate;
        if (formula == 'even') formula = '2n+0';
        if (formula == 'odd')  formula = '2n+1';
        if (mm = formula.match(/^(\d+)$/)) // digit only
          return '[' + fragment + "= " + mm[1] + ']';
        if (mm = formula.match(/^(-?\d*)?n(([+-])(\d+))?/)) { // an+b
          if (mm[1] == "-") mm[1] = -1;
          var a = mm[1] ? Number(mm[1]) : 1;
          var b = mm[2] ? Number(mm[2]) : 0;
          predicate = "[((#{fragment} - #{b}) mod #{a} = 0) and " +
          "((#{fragment} - #{b}) div #{a} >= 0)]";
          return new Template(predicate).evaluate({
            fragment: fragment, a: a, b: b });
        }
      }
    }
  },

  criteria: {
    tagName:      'n = h.tagName(n, r, "#{1}", c);   c = false;',
    className:    'n = h.className(n, r, "#{1}", c); c = false;',
    id:           'n = h.id(n, r, "#{1}", c);        c = false;',
    attrPresence: 'n = h.attrPresence(n, r, "#{1}"); c = false;',
    attr: function(m) {
      m[3] = (m[5] || m[6]);
      return new Template('n = h.attr(n, r, "#{1}", "#{3}", "#{2}"); c = false;').evaluate(m);
    },
    pseudo:       function(m) {
      if (m[6]) m[6] = m[6].replace(/"/g, '\\"');
      return new Template('n = h.pseudo(n, "#{1}", "#{6}", r, c); c = false;').evaluate(m);
    },
    descendant:   'c = "descendant";',
    child:        'c = "child";',
    adjacent:     'c = "adjacent";',
    laterSibling: 'c = "laterSibling";'
  },

  patterns: {
    // combinators must be listed first
    // (and descendant needs to be last combinator)
    laterSibling: /^\s*~\s*/,
    child:        /^\s*>\s*/,
    adjacent:     /^\s*\+\s*/,
    descendant:   /^\s/,

    // selectors follow
    tagName:      /^\s*(\*|[\w\-]+)(\b|$)?/,
    id:           /^#([\w\-\*]+)(\b|$)/,
    className:    /^\.([\w\-\*]+)(\b|$)/,
    pseudo:       /^:((first|last|nth|nth-last|only)(-child|-of-type)|empty|checked|(en|dis)abled|not)(\((.*?)\))?(\b|$|\s|(?=:))/,
    attrPresence: /^\[([\w]+)\]/,
    attr:         /\[((?:[\w-]*:)?[\w-]+)\s*(?:([!^$*~|]?=)\s*((['"])([^\]]*?)\4|([^'"][^\]]*?)))?\]/
  },

  handlers: {
    // UTILITY FUNCTIONS
    // joins two collections
    concat: function(a, b) {
      for (var i = 0, node; node = b[i]; i++)
        a.push(node);
      return a;
    },

    // marks an array of nodes for counting
    mark: function(nodes) {
      for (var i = 0, node; node = nodes[i]; i++)
        node._counted = true;
      return nodes;
    },

    unmark: function(nodes) {
      for (var i = 0, node; node = nodes[i]; i++)
        node._counted = undefined;
      return nodes;
    },

    // mark each child node with its position (for nth calls)
    // "ofType" flag indicates whether we're indexing for nth-of-type
    // rather than nth-child
    index: function(parentNode, reverse, ofType) {
      parentNode._counted = true;
      if (reverse) {
        for (var nodes = parentNode.childNodes, i = nodes.length - 1, j = 1; i >= 0; i--) {
          node = nodes[i];
          if (node.nodeType == 1 && (!ofType || node._counted)) node.nodeIndex = j++;
        }
      } else {
        for (var i = 0, j = 1, nodes = parentNode.childNodes; node = nodes[i]; i++)
          if (node.nodeType == 1 && (!ofType || node._counted)) node.nodeIndex = j++;
      }
    },

    // filters out duplicates and extends all nodes
    unique: function(nodes) {
      if (nodes.length == 0) return nodes;
      var results = [], n;
      for (var i = 0, l = nodes.length; i < l; i++)
        if (!(n = nodes[i])._counted) {
          n._counted = true;
          results.push(Element.extend(n));
        }
      return Selector.handlers.unmark(results);
    },

    // COMBINATOR FUNCTIONS
    descendant: function(nodes) {
      var h = Selector.handlers;
      for (var i = 0, results = [], node; node = nodes[i]; i++)
        h.concat(results, node.getElementsByTagName('*'));
      return results;
    },

    child: function(nodes) {
      var h = Selector.handlers;
      for (var i = 0, results = [], node; node = nodes[i]; i++) {
        for (var j = 0, children = [], child; child = node.childNodes[j]; j++)
          if (child.nodeType == 1 && child.tagName != '!') results.push(child);
      }
      return results;
    },

    adjacent: function(nodes) {
      for (var i = 0, results = [], node; node = nodes[i]; i++) {
        var next = this.nextElementSibling(node);
        if (next) results.push(next);
      }
      return results;
    },

    laterSibling: function(nodes) {
      var h = Selector.handlers;
      for (var i = 0, results = [], node; node = nodes[i]; i++)
        h.concat(results, Element.nextSiblings(node));
      return results;
    },

    nextElementSibling: function(node) {
      while (node = node.nextSibling)
	      if (node.nodeType == 1) return node;
      return null;
    },

    previousElementSibling: function(node) {
      while (node = node.previousSibling)
        if (node.nodeType == 1) return node;
      return null;
    },

    // TOKEN FUNCTIONS
    tagName: function(nodes, root, tagName, combinator) {
      tagName = tagName.toUpperCase();
      var results = [], h = Selector.handlers;
      if (nodes) {
        if (combinator) {
          // fastlane for ordinary descendant combinators
          if (combinator == "descendant") {
            for (var i = 0, node; node = nodes[i]; i++)
              h.concat(results, node.getElementsByTagName(tagName));
            return results;
          } else nodes = this[combinator](nodes);
          if (tagName == "*") return nodes;
        }
        for (var i = 0, node; node = nodes[i]; i++)
          if (node.tagName.toUpperCase() == tagName) results.push(node);
        return results;
      } else return root.getElementsByTagName(tagName);
    },

    id: function(nodes, root, id, combinator) {
      var targetNode = $(id), h = Selector.handlers;
      if (!nodes && root == document) return targetNode ? [targetNode] : [];
      if (nodes) {
        if (combinator) {
          if (combinator == 'child') {
            for (var i = 0, node; node = nodes[i]; i++)
              if (targetNode.parentNode == node) return [targetNode];
          } else if (combinator == 'descendant') {
            for (var i = 0, node; node = nodes[i]; i++)
              if (Element.descendantOf(targetNode, node)) return [targetNode];
          } else if (combinator == 'adjacent') {
            for (var i = 0, node; node = nodes[i]; i++)
              if (Selector.handlers.previousElementSibling(targetNode) == node)
                return [targetNode];
          } else nodes = h[combinator](nodes);
        }
        for (var i = 0, node; node = nodes[i]; i++)
          if (node == targetNode) return [targetNode];
        return [];
      }
      return (targetNode && Element.descendantOf(targetNode, root)) ? [targetNode] : [];
    },

    className: function(nodes, root, className, combinator) {
      if (nodes && combinator) nodes = this[combinator](nodes);
      return Selector.handlers.byClassName(nodes, root, className);
    },

    byClassName: function(nodes, root, className) {
      if (!nodes) nodes = Selector.handlers.descendant([root]);
      var needle = ' ' + className + ' ';
      for (var i = 0, results = [], node, nodeClassName; node = nodes[i]; i++) {
        nodeClassName = node.className;
        if (nodeClassName.length == 0) continue;
        if (nodeClassName == className || (' ' + nodeClassName + ' ').include(needle))
          results.push(node);
      }
      return results;
    },

    attrPresence: function(nodes, root, attr) {
      var results = [];
      for (var i = 0, node; node = nodes[i]; i++)
        if (Element.hasAttribute(node, attr)) results.push(node);
      return results;
    },

    attr: function(nodes, root, attr, value, operator) {
      if (!nodes) nodes = root.getElementsByTagName("*");
      var handler = Selector.operators[operator], results = [];
      for (var i = 0, node; node = nodes[i]; i++) {
        var nodeValue = Element.readAttribute(node, attr);
        if (nodeValue === null) continue;
        if (handler(nodeValue, value)) results.push(node);
      }
      return results;
    },

    pseudo: function(nodes, name, value, root, combinator) {
      if (nodes && combinator) nodes = this[combinator](nodes);
      if (!nodes) nodes = root.getElementsByTagName("*");
      return Selector.pseudos[name](nodes, value, root);
    }
  },

  pseudos: {
    'first-child': function(nodes, value, root) {
      for (var i = 0, results = [], node; node = nodes[i]; i++) {
        if (Selector.handlers.previousElementSibling(node)) continue;
          results.push(node);
      }
      return results;
    },
    'last-child': function(nodes, value, root) {
      for (var i = 0, results = [], node; node = nodes[i]; i++) {
        if (Selector.handlers.nextElementSibling(node)) continue;
          results.push(node);
      }
      return results;
    },
    'only-child': function(nodes, value, root) {
      var h = Selector.handlers;
      for (var i = 0, results = [], node; node = nodes[i]; i++)
        if (!h.previousElementSibling(node) && !h.nextElementSibling(node))
          results.push(node);
      return results;
    },
    'nth-child':        function(nodes, formula, root) {
      return Selector.pseudos.nth(nodes, formula, root);
    },
    'nth-last-child':   function(nodes, formula, root) {
      return Selector.pseudos.nth(nodes, formula, root, true);
    },
    'nth-of-type':      function(nodes, formula, root) {
      return Selector.pseudos.nth(nodes, formula, root, false, true);
    },
    'nth-last-of-type': function(nodes, formula, root) {
      return Selector.pseudos.nth(nodes, formula, root, true, true);
    },
    'first-of-type':    function(nodes, formula, root) {
      return Selector.pseudos.nth(nodes, "1", root, false, true);
    },
    'last-of-type':     function(nodes, formula, root) {
      return Selector.pseudos.nth(nodes, "1", root, true, true);
    },
    'only-of-type':     function(nodes, formula, root) {
      var p = Selector.pseudos;
      return p['last-of-type'](p['first-of-type'](nodes, formula, root), formula, root);
    },

    // handles the an+b logic
    getIndices: function(a, b, total) {
      if (a == 0) return b > 0 ? [b] : [];
      return $R(1, total).inject([], function(memo, i) {
        if (0 == (i - b) % a && (i - b) / a >= 0) memo.push(i);
        return memo;
      });
    },

    // handles nth(-last)-child, nth(-last)-of-type, and (first|last)-of-type
    nth: function(nodes, formula, root, reverse, ofType) {
      if (nodes.length == 0) return [];
      if (formula == 'even') formula = '2n+0';
      if (formula == 'odd')  formula = '2n+1';
      var h = Selector.handlers, results = [], indexed = [], m;
      h.mark(nodes);
      for (var i = 0, node; node = nodes[i]; i++) {
        if (!node.parentNode._counted) {
          h.index(node.parentNode, reverse, ofType);
          indexed.push(node.parentNode);
        }
      }
      if (formula.match(/^\d+$/)) { // just a number
        formula = Number(formula);
        for (var i = 0, node; node = nodes[i]; i++)
          if (node.nodeIndex == formula) results.push(node);
      } else if (m = formula.match(/^(-?\d*)?n(([+-])(\d+))?/)) { // an+b
        if (m[1] == "-") m[1] = -1;
        var a = m[1] ? Number(m[1]) : 1;
        var b = m[2] ? Number(m[2]) : 0;
        var indices = Selector.pseudos.getIndices(a, b, nodes.length);
        for (var i = 0, node, l = indices.length; node = nodes[i]; i++) {
          for (var j = 0; j < l; j++)
            if (node.nodeIndex == indices[j]) results.push(node);
        }
      }
      h.unmark(nodes);
      h.unmark(indexed);
      return results;
    },

    'empty': function(nodes, value, root) {
      for (var i = 0, results = [], node; node = nodes[i]; i++) {
        // IE treats comments as element nodes
        if (node.tagName == '!' || (node.firstChild && !node.innerHTML.match(/^\s*$/))) continue;
        results.push(node);
      }
      return results;
    },

    'not': function(nodes, selector, root) {
      var h = Selector.handlers, selectorType, m;
      var exclusions = new Selector(selector).findElements(root);
      h.mark(exclusions);
      for (var i = 0, results = [], node; node = nodes[i]; i++)
        if (!node._counted) results.push(node);
      h.unmark(exclusions);
      return results;
    },

    'enabled': function(nodes, value, root) {
      for (var i = 0, results = [], node; node = nodes[i]; i++)
        if (!node.disabled) results.push(node);
      return results;
    },

    'disabled': function(nodes, value, root) {
      for (var i = 0, results = [], node; node = nodes[i]; i++)
        if (node.disabled) results.push(node);
      return results;
    },

    'checked': function(nodes, value, root) {
      for (var i = 0, results = [], node; node = nodes[i]; i++)
        if (node.checked) results.push(node);
      return results;
    }
  },

  operators: {
    '=':  function(nv, v) { return nv == v; },
    '!=': function(nv, v) { return nv != v; },
    '^=': function(nv, v) { return nv.startsWith(v); },
    '$=': function(nv, v) { return nv.endsWith(v); },
    '*=': function(nv, v) { return nv.include(v); },
    '~=': function(nv, v) { return (' ' + nv + ' ').include(' ' + v + ' '); },
    '|=': function(nv, v) { return ('-' + nv.toUpperCase() + '-').include('-' + v.toUpperCase() + '-'); }
  },

  matchElements: function(elements, expression) {
    var matches = new Selector(expression).findElements(), h = Selector.handlers;
    h.mark(matches);
    for (var i = 0, results = [], element; element = elements[i]; i++)
      if (element._counted) results.push(element);
    h.unmark(matches);
    return results;
  },

  findElement: function(elements, expression, index) {
    if (typeof expression == 'number') {
      index = expression; expression = false;
    }
    return Selector.matchElements(elements, expression || '*')[index || 0];
  },

  findChildElements: function(element, expressions) {
    var exprs = expressions.join(','), expressions = [];
    exprs.scan(/(([\w#:.~>+()\s-]+|\*|\[.*?\])+)\s*(,|$)/, function(m) {
      expressions.push(m[1].strip());
    });
    var results = [], h = Selector.handlers;
    for (var i = 0, l = expressions.length, selector; i < l; i++) {
      selector = new Selector(expressions[i].strip());
      h.concat(results, selector.findElements(element));
    }
    return (l > 1) ? h.unique(results) : results;
  }
});

function $$() {
  return Selector.findChildElements(document, $A(arguments));
}
var Form = {
  reset: function(form) {
    $(form).reset();
    return form;
  },

  serializeElements: function(elements, getHash) {
    var data = elements.inject({}, function(result, element) {
      if (!element.disabled && element.name) {
        var key = element.name, value = $(element).getValue();
        if (value != null) {
         	if (key in result) {
            if (result[key].constructor != Array) result[key] = [result[key]];
            result[key].push(value);
          }
          else result[key] = value;
        }
      }
      return result;
    });

    return getHash ? data : Hash.toQueryString(data);
  }
};

Form.Methods = {
  serialize: function(form, getHash) {
    return Form.serializeElements(Form.getElements(form), getHash);
  },

  getElements: function(form) {
    return $A($(form).getElementsByTagName('*')).inject([],
      function(elements, child) {
        if (Form.Element.Serializers[child.tagName.toLowerCase()])
          elements.push(Element.extend(child));
        return elements;
      }
    );
  },

  getInputs: function(form, typeName, name) {
    form = $(form);
    var inputs = form.getElementsByTagName('input');

    if (!typeName && !name) return $A(inputs).map(Element.extend);

    for (var i = 0, matchingInputs = [], length = inputs.length; i < length; i++) {
      var input = inputs[i];
      if ((typeName && input.type != typeName) || (name && input.name != name))
        continue;
      matchingInputs.push(Element.extend(input));
    }

    return matchingInputs;
  },

  disable: function(form) {
    form = $(form);
    Form.getElements(form).invoke('disable');
    return form;
  },

  enable: function(form) {
    form = $(form);
    Form.getElements(form).invoke('enable');
    return form;
  },

  findFirstElement: function(form) {
    return $(form).getElements().find(function(element) {
      return element.type != 'hidden' && !element.disabled &&
        ['input', 'select', 'textarea'].include(element.tagName.toLowerCase());
    });
  },

  focusFirstElement: function(form) {
    form = $(form);
    form.findFirstElement().activate();
    return form;
  },

  request: function(form, options) {
    form = $(form), options = Object.clone(options || {});

    var params = options.parameters;
    options.parameters = form.serialize(true);

    if (params) {
      if (typeof params == 'string') params = params.toQueryParams();
      Object.extend(options.parameters, params);
    }

    if (form.hasAttribute('method') && !options.method)
      options.method = form.method;

    return new Ajax.Request(form.readAttribute('action'), options);
  }
}

/*--------------------------------------------------------------------------*/

Form.Element = {
  focus: function(element) {
    $(element).focus();
    return element;
  },

  select: function(element) {
    $(element).select();
    return element;
  }
}

Form.Element.Methods = {
  serialize: function(element) {
    element = $(element);
    if (!element.disabled && element.name) {
      var value = element.getValue();
      if (value != undefined) {
        var pair = {};
        pair[element.name] = value;
        return Hash.toQueryString(pair);
      }
    }
    return '';
  },

  getValue: function(element) {
    element = $(element);
    var method = element.tagName.toLowerCase();
    return Form.Element.Serializers[method](element);
  },

  clear: function(element) {
    $(element).value = '';
    return element;
  },

  present: function(element) {
    return $(element).value != '';
  },

  activate: function(element) {
    element = $(element);
    try {
      element.focus();
      if (element.select && (element.tagName.toLowerCase() != 'input' ||
        !['button', 'reset', 'submit'].include(element.type)))
        element.select();
    } catch (e) {}
    return element;
  },

  disable: function(element) {
    element = $(element);
    element.blur();
    element.disabled = true;
    return element;
  },

  enable: function(element) {
    element = $(element);
    element.disabled = false;
    return element;
  }
}

/*--------------------------------------------------------------------------*/

var Field = Form.Element;
var $F = Form.Element.Methods.getValue;

/*--------------------------------------------------------------------------*/

Form.Element.Serializers = {
  input: function(element) {
    switch (element.type.toLowerCase()) {
      case 'checkbox':
      case 'radio':
        return Form.Element.Serializers.inputSelector(element);
      default:
        return Form.Element.Serializers.textarea(element);
    }
  },

  inputSelector: function(element) {
    return element.checked ? element.value : null;
  },

  textarea: function(element) {
    return element.value;
  },

  select: function(element) {
    return this[element.type == 'select-one' ?
      'selectOne' : 'selectMany'](element);
  },

  selectOne: function(element) {
    var index = element.selectedIndex;
    return index >= 0 ? this.optionValue(element.options[index]) : null;
  },

  selectMany: function(element) {
    var values, length = element.length;
    if (!length) return null;

    for (var i = 0, values = []; i < length; i++) {
      var opt = element.options[i];
      if (opt.selected) values.push(this.optionValue(opt));
    }
    return values;
  },

  optionValue: function(opt) {
    // extend element because hasAttribute may not be native
    return Element.extend(opt).hasAttribute('value') ? opt.value : opt.text;
  }
}

/*--------------------------------------------------------------------------*/

Abstract.TimedObserver = function() {}
Abstract.TimedObserver.prototype = {
  initialize: function(element, frequency, callback) {
    this.frequency = frequency;
    this.element   = $(element);
    this.callback  = callback;

    this.lastValue = this.getValue();
    this.registerCallback();
  },

  registerCallback: function() {
    setInterval(this.onTimerEvent.bind(this), this.frequency * 1000);
  },

  onTimerEvent: function() {
    var value = this.getValue();
    var changed = ('string' == typeof this.lastValue && 'string' == typeof value
      ? this.lastValue != value : String(this.lastValue) != String(value));
    if (changed) {
      this.callback(this.element, value);
      this.lastValue = value;
    }
  }
}

Form.Element.Observer = Class.create();
Form.Element.Observer.prototype = Object.extend(new Abstract.TimedObserver(), {
  getValue: function() {
    return Form.Element.getValue(this.element);
  }
});

Form.Observer = Class.create();
Form.Observer.prototype = Object.extend(new Abstract.TimedObserver(), {
  getValue: function() {
    return Form.serialize(this.element);
  }
});

/*--------------------------------------------------------------------------*/

Abstract.EventObserver = function() {}
Abstract.EventObserver.prototype = {
  initialize: function(element, callback) {
    this.element  = $(element);
    this.callback = callback;

    this.lastValue = this.getValue();
    if (this.element.tagName.toLowerCase() == 'form')
      this.registerFormCallbacks();
    else
      this.registerCallback(this.element);
  },

  onElementEvent: function() {
    var value = this.getValue();
    if (this.lastValue != value) {
      this.callback(this.element, value);
      this.lastValue = value;
    }
  },

  registerFormCallbacks: function() {
    Form.getElements(this.element).each(this.registerCallback.bind(this));
  },

  registerCallback: function(element) {
    if (element.type) {
      switch (element.type.toLowerCase()) {
        case 'checkbox':
        case 'radio':
          Event.observe(element, 'click', this.onElementEvent.bind(this));
          break;
        default:
          Event.observe(element, 'change', this.onElementEvent.bind(this));
          break;
      }
    }
  }
}

Form.Element.EventObserver = Class.create();
Form.Element.EventObserver.prototype = Object.extend(new Abstract.EventObserver(), {
  getValue: function() {
    return Form.Element.getValue(this.element);
  }
});

Form.EventObserver = Class.create();
Form.EventObserver.prototype = Object.extend(new Abstract.EventObserver(), {
  getValue: function() {
    return Form.serialize(this.element);
  }
});
if (!window.Event) {
  var Event = new Object();
}

Object.extend(Event, {
  KEY_BACKSPACE: 8,
  KEY_TAB:       9,
  KEY_RETURN:   13,
  KEY_ESC:      27,
  KEY_LEFT:     37,
  KEY_UP:       38,
  KEY_RIGHT:    39,
  KEY_DOWN:     40,
  KEY_DELETE:   46,
  KEY_HOME:     36,
  KEY_END:      35,
  KEY_PAGEUP:   33,
  KEY_PAGEDOWN: 34,

  element: function(event) {
    return $(event.target || event.srcElement);
  },

  isLeftClick: function(event) {
    return (((event.which) && (event.which == 1)) ||
            ((event.button) && (event.button == 1)));
  },

  pointerX: function(event) {
    return event.pageX || (event.clientX +
      (document.documentElement.scrollLeft || document.body.scrollLeft));
  },

  pointerY: function(event) {
    return event.pageY || (event.clientY +
      (document.documentElement.scrollTop || document.body.scrollTop));
  },

  stop: function(event) {
    if (event.preventDefault) {
      event.preventDefault();
      event.stopPropagation();
    } else {
      event.returnValue = false;
      event.cancelBubble = true;
    }
  },

  // find the first node with the given tagName, starting from the
  // node the event was triggered on; traverses the DOM upwards
  findElement: function(event, tagName) {
    var element = Event.element(event);
    while (element.parentNode && (!element.tagName ||
        (element.tagName.toUpperCase() != tagName.toUpperCase())))
      element = element.parentNode;
    return element;
  },

  observers: false,

  _observeAndCache: function(element, name, observer, useCapture) {
    if (!this.observers) this.observers = [];
    if (element.addEventListener) {
      this.observers.push([element, name, observer, useCapture]);
      element.addEventListener(name, observer, useCapture);
    } else if (element.attachEvent) {
      this.observers.push([element, name, observer, useCapture]);
      element.attachEvent('on' + name, observer);
    }
  },

  unloadCache: function() {
    if (!Event.observers) return;
    for (var i = 0, length = Event.observers.length; i < length; i++) {
      Event.stopObserving.apply(this, Event.observers[i]);
      Event.observers[i][0] = null;
    }
    Event.observers = false;
  },

  observe: function(element, name, observer, useCapture) {
    element = $(element);
    useCapture = useCapture || false;

    if (name == 'keypress' &&
      (Prototype.Browser.WebKit || element.attachEvent))
      name = 'keydown';

    Event._observeAndCache(element, name, observer, useCapture);
  },

  stopObserving: function(element, name, observer, useCapture) {
    element = $(element);
    useCapture = useCapture || false;

    if (name == 'keypress' &&
        (Prototype.Browser.WebKit || element.attachEvent))
      name = 'keydown';

    if (element.removeEventListener) {
      element.removeEventListener(name, observer, useCapture);
    } else if (element.detachEvent) {
      try {
        element.detachEvent('on' + name, observer);
      } catch (e) {}
    }
  }
});

/* prevent memory leaks in IE */
if (Prototype.Browser.IE)
  Event.observe(window, 'unload', Event.unloadCache, false);
var Position = {
  // set to true if needed, warning: firefox performance problems
  // NOT neeeded for page scrolling, only if draggable contained in
  // scrollable elements
  includeScrollOffsets: false,

  // must be called before calling withinIncludingScrolloffset, every time the
  // page is scrolled
  prepare: function() {
    this.deltaX =  window.pageXOffset
                || document.documentElement.scrollLeft
                || document.body.scrollLeft
                || 0;
    this.deltaY =  window.pageYOffset
                || document.documentElement.scrollTop
                || document.body.scrollTop
                || 0;
  },

  realOffset: function(element) {
    var valueT = 0, valueL = 0;
    do {
      valueT += element.scrollTop  || 0;
      valueL += element.scrollLeft || 0;
      element = element.parentNode;
    } while (element);
    return [valueL, valueT];
  },

  cumulativeOffset: function(element) {
    var valueT = 0, valueL = 0;
    do {
      valueT += element.offsetTop  || 0;
      valueL += element.offsetLeft || 0;
      element = element.offsetParent;
    } while (element);
    return [valueL, valueT];
  },

  positionedOffset: function(element) {
    var valueT = 0, valueL = 0;
    do {
      valueT += element.offsetTop  || 0;
      valueL += element.offsetLeft || 0;
      element = element.offsetParent;
      if (element) {
        if(element.tagName=='BODY') break;
        var p = Element.getStyle(element, 'position');
        if (p == 'relative' || p == 'absolute') break;
      }
    } while (element);
    return [valueL, valueT];
  },

  offsetParent: function(element) {
    if (element.offsetParent) return element.offsetParent;
    if (element == document.body) return element;

    while ((element = element.parentNode) && element != document.body)
      if (Element.getStyle(element, 'position') != 'static')
        return element;

    return document.body;
  },

  // caches x/y coordinate pair to use with overlap
  within: function(element, x, y) {
    if (this.includeScrollOffsets)
      return this.withinIncludingScrolloffsets(element, x, y);
    this.xcomp = x;
    this.ycomp = y;
    this.offset = this.cumulativeOffset(element);

    return (y >= this.offset[1] &&
            y <  this.offset[1] + element.offsetHeight &&
            x >= this.offset[0] &&
            x <  this.offset[0] + element.offsetWidth);
  },

  withinIncludingScrolloffsets: function(element, x, y) {
    var offsetcache = this.realOffset(element);

    this.xcomp = x + offsetcache[0] - this.deltaX;
    this.ycomp = y + offsetcache[1] - this.deltaY;
    this.offset = this.cumulativeOffset(element);

    return (this.ycomp >= this.offset[1] &&
            this.ycomp <  this.offset[1] + element.offsetHeight &&
            this.xcomp >= this.offset[0] &&
            this.xcomp <  this.offset[0] + element.offsetWidth);
  },

  // within must be called directly before
  overlap: function(mode, element) {
    if (!mode) return 0;
    if (mode == 'vertical')
      return ((this.offset[1] + element.offsetHeight) - this.ycomp) /
        element.offsetHeight;
    if (mode == 'horizontal')
      return ((this.offset[0] + element.offsetWidth) - this.xcomp) /
        element.offsetWidth;
  },

  page: function(forElement) {
    var valueT = 0, valueL = 0;

    var element = forElement;
    do {
      valueT += element.offsetTop  || 0;
      valueL += element.offsetLeft || 0;

      // Safari fix
      if (element.offsetParent == document.body)
        if (Element.getStyle(element,'position')=='absolute') break;

    } while (element = element.offsetParent);

    element = forElement;
    do {
      if (!window.opera || element.tagName=='BODY') {
        valueT -= element.scrollTop  || 0;
        valueL -= element.scrollLeft || 0;
      }
    } while (element = element.parentNode);

    return [valueL, valueT];
  },

  clone: function(source, target) {
    var options = Object.extend({
      setLeft:    true,
      setTop:     true,
      setWidth:   true,
      setHeight:  true,
      offsetTop:  0,
      offsetLeft: 0
    }, arguments[2] || {})

    // find page position of source
    source = $(source);
    var p = Position.page(source);

    // find coordinate system to use
    target = $(target);
    var delta = [0, 0];
    var parent = null;
    // delta [0,0] will do fine with position: fixed elements,
    // position:absolute needs offsetParent deltas
    if (Element.getStyle(target,'position') == 'absolute') {
      parent = Position.offsetParent(target);
      delta = Position.page(parent);
    }

    // correct by body offsets (fixes Safari)
    if (parent == document.body) {
      delta[0] -= document.body.offsetLeft;
      delta[1] -= document.body.offsetTop;
    }

    // set position
    if(options.setLeft)   target.style.left  = (p[0] - delta[0] + options.offsetLeft) + 'px';
    if(options.setTop)    target.style.top   = (p[1] - delta[1] + options.offsetTop) + 'px';
    if(options.setWidth)  target.style.width = source.offsetWidth + 'px';
    if(options.setHeight) target.style.height = source.offsetHeight + 'px';
  },

  absolutize: function(element) {
    element = $(element);
    if (element.style.position == 'absolute') return;
    Position.prepare();

    var offsets = Position.positionedOffset(element);
    var top     = offsets[1];
    var left    = offsets[0];
    var width   = element.clientWidth;
    var height  = element.clientHeight;

    element._originalLeft   = left - parseFloat(element.style.left  || 0);
    element._originalTop    = top  - parseFloat(element.style.top || 0);
    element._originalWidth  = element.style.width;
    element._originalHeight = element.style.height;

    element.style.position = 'absolute';
    element.style.top    = top + 'px';
    element.style.left   = left + 'px';
    element.style.width  = width + 'px';
    element.style.height = height + 'px';
  },

  relativize: function(element) {
    element = $(element);
    if (element.style.position == 'relative') return;
    Position.prepare();

    element.style.position = 'relative';
    var top  = parseFloat(element.style.top  || 0) - (element._originalTop || 0);
    var left = parseFloat(element.style.left || 0) - (element._originalLeft || 0);

    element.style.top    = top + 'px';
    element.style.left   = left + 'px';
    element.style.height = element._originalHeight;
    element.style.width  = element._originalWidth;
  }
}

// Safari returns margins on body which is incorrect if the child is absolutely
// positioned.  For performance reasons, redefine Position.cumulativeOffset for
// KHTML/WebKit only.
if (Prototype.Browser.WebKit) {
  Position.cumulativeOffset = function(element) {
    var valueT = 0, valueL = 0;
    do {
      valueT += element.offsetTop  || 0;
      valueL += element.offsetLeft || 0;
      if (element.offsetParent == document.body)
        if (Element.getStyle(element, 'position') == 'absolute') break;

      element = element.offsetParent;
    } while (element);

    return [valueL, valueT];
  }
}

Element.addMethods();
        ? x      20241209150345-8lo? K   https://asiointi.kela.fi/palvelutuottajarekisteri/theme/script/prototype.js      Ex /*  Prototype JavaScript framework, version 1.5.1.1
 *  (c) 2005-2007 Sam Stephenson
 *
 *  Prototype is freely distributable under the terms of an MIT-style license.
 *  For details, see the Prototype web site: http://www.prototypejs.org/
 *
/*--------------------------------------------------------------------------*/

var Prototype = {
  Version: '1.5.1.1',

  Browser: {
    IE:     !!(window.attachEvent && !window.opera),
    Opera:  !!window.opera,
    WebKit: navigator.userAgent.indexOf('AppleWebKit/') > -1,
    Gecko:  navigator.userAgent.indexOf('Gecko') > -1 && navigator.userAgent.indexOf('KHTML') == -1
  },

  BrowserFeatures: {
    XPath: !!document.evaluate,
    ElementExtensions: !!window.HTMLElement,
    SpecificElementExtensions:
      (document.createElement('div').__proto__ !==
       document.createElement('form').__proto__)
  },

  ScriptFragment: '<script[^>]*>([\\S\\s]*?)<\/script>',
  JSONFilter: /^\/\*-secure-([\s\S]*)\*\/\s*$/,

  emptyFunction: function() { },
  K: function(x) { return x }
}

var Class = {
  create: function() {
    return function() {
      this.initialize.apply(this, arguments);
    }
  }
}

var Abstract = new Object();

Object.extend = function(destination, source) {
  for (var property in source) {
    destination[property] = source[property];
  }
  return destination;
}

Object.extend(Object, {
  inspect: function(object) {
    try {
      if (object === undefined) return 'undefined';
      if (object === null) return 'null';
      return object.inspect ? object.inspect() : object.toString();
    } catch (e) {
      if (e instanceof RangeError) return '...';
      throw e;
    }
  },

  toJSON: function(object) {
    var type = typeof object;
    switch(type) {
      case 'undefined':
      case 'function':
      case 'unknown': return;
      case 'boolean': return object.toString();
    }
    if (object === null) return 'null';
    if (object.toJSON) return object.toJSON();
    if (object.ownerDocument === document) return;
    var results = [];
    for (var property in object) {
      var value = Object.toJSON(object[property]);
      if (value !== undefined)
        results.push(property.toJSON() + ': ' + value);
    }
    return '{' + results.join(', ') + '}';
  },

  keys: function(object) {
    var keys = [];
    for (var property in object)
      keys.push(property);
    return keys;
  },

  values: function(object) {
    var values = [];
    for (var property in object)
      values.push(object[property]);
    return values;
  },

  clone: function(object) {
    return Object.extend({}, object);
  }
});

Function.prototype.bind = function() {
  var __method = this, args = $A(arguments), object = args.shift();
  return function() {
    return __method.apply(object, args.concat($A(arguments)));
  }
}

Function.prototype.bindAsEventListener = function(object) {
  var __method = this, args = $A(arguments), object = args.shift();
  return function(event) {
    return __method.apply(object, [event || window.event].concat(args));
  }
}

Object.extend(Number.prototype, {
  toColorPart: function() {
    return this.toPaddedString(2, 16);
  },

  succ: function() {
    return this + 1;
  },

  times: function(iterator) {
    $R(0, this, true).each(iterator);
    return this;
  },

  toPaddedString: function(length, radix) {
    var string = this.toString(radix || 10);
    return '0'.times(length - string.length) + string;
  },

  toJSON: function() {
    return isFinite(this) ? this.toString() : 'null';
  }
});

Date.prototype.toJSON = function() {
  return '"' + this.getFullYear() + '-' +
    (this.getMonth() + 1).toPaddedString(2) + '-' +
    this.getDate().toPaddedString(2) + 'T' +
    this.getHours().toPaddedString(2) + ':' +
    this.getMinutes().toPaddedString(2) + ':' +
    this.getSeconds().toPaddedString(2) + '"';
};

var Try = {
  these: function() {
    var returnValue;

    for (var i = 0, length = arguments.length; i < length; i++) {
      var lambda = arguments[i];
      try {
        returnValue = lambda();
        break;
      } catch (e) {}
    }

    return returnValue;
  }
}

/*--------------------------------------------------------------------------*/

var PeriodicalExecuter = Class.create();
PeriodicalExecuter.prototype = {
  initialize: function(callback, frequency) {
    this.callback = callback;
    this.frequency = frequency;
    this.currentlyExecuting = false;

    this.registerCallback();
  },

  registerCallback: function() {
    this.timer = setInterval(this.onTimerEvent.bind(this), this.frequency * 1000);
  },

  stop: function() {
    if (!this.timer) return;
    clearInterval(this.timer);
    this.timer = null;
  },

  onTimerEvent: function() {
    if (!this.currentlyExecuting) {
      try {
        this.currentlyExecuting = true;
        this.callback(this);
      } finally {
        this.currentlyExecuting = false;
      }
    }
  }
}
Object.extend(String, {
  interpret: function(value) {
    return value == null ? '' : String(value);
  },
  specialChar: {
    '\b': '\\b',
    '\t': '\\t',
    '\n': '\\n',
    '\f': '\\f',
    '\r': '\\r',
    '\\': '\\\\'
  }
});

Object.extend(String.prototype, {
  gsub: function(pattern, replacement) {
    var result = '', source = this, match;
    replacement = arguments.callee.prepareReplacement(replacement);

    while (source.length > 0) {
      if (match = source.match(pattern)) {
        result += source.slice(0, match.index);
        result += String.interpret(replacement(match));
        source  = source.slice(match.index + match[0].length);
      } else {
        result += source, source = '';
      }
    }
    return result;
  },

  sub: function(pattern, replacement, count) {
    replacement = this.gsub.prepareReplacement(replacement);
    count = count === undefined ? 1 : count;

    return this.gsub(pattern, function(match) {
      if (--count < 0) return match[0];
      return replacement(match);
    });
  },

  scan: function(pattern, iterator) {
    this.gsub(pattern, iterator);
    return this;
  },

  truncate: function(length, truncation) {
    length = length || 30;
    truncation = truncation === undefined ? '...' : truncation;
    return this.length > length ?
      this.slice(0, length - truncation.length) + truncation : this;
  },

  strip: function() {
    return this.replace(/^\s+/, '').replace(/\s+$/, '');
  },

  stripTags: function() {
    return this.replace(/<\/?[^>]+>/gi, '');
  },

  stripScripts: function() {
    return this.replace(new RegExp(Prototype.ScriptFragment, 'img'), '');
  },

  extractScripts: function() {
    var matchAll = new RegExp(Prototype.ScriptFragment, 'img');
    var matchOne = new RegExp(Prototype.ScriptFragment, 'im');
    return (this.match(matchAll) || []).map(function(scriptTag) {
      return (scriptTag.match(matchOne) || ['', ''])[1];
    });
  },

  evalScripts: function() {
    return this.extractScripts().map(function(script) { return eval(script) });
  },

  escapeHTML: function() {
    var self = arguments.callee;
    self.text.data = this;
    return self.div.innerHTML;
  },

  unescapeHTML: function() {
    var div = document.createElement('div');
    div.innerHTML = this.stripTags();
    return div.childNodes[0] ? (div.childNodes.length > 1 ?
      $A(div.childNodes).inject('', function(memo, node) { return memo+node.nodeValue }) :
      div.childNodes[0].nodeValue) : '';
  },

  toQueryParams: function(separator) {
    var match = this.strip().match(/([^?#]*)(#.*)?$/);
    if (!match) return {};

    return match[1].split(separator || '&').inject({}, function(hash, pair) {
      if ((pair = pair.split('='))[0]) {
        var key = decodeURIComponent(pair.shift());
        var value = pair.length > 1 ? pair.join('=') : pair[0];
        if (value != undefined) value = decodeURIComponent(value);

        if (key in hash) {
          if (hash[key].constructor != Array) hash[key] = [hash[key]];
          hash[key].push(value);
        }
        else hash[key] = value;
      }
      return hash;
    });
  },

  toArray: function() {
    return this.split('');
  },

  succ: function() {
    return this.slice(0, this.length - 1) +
      String.fromCharCode(this.charCodeAt(this.length - 1) + 1);
  },

  times: function(count) {
    var result = '';
    for (var i = 0; i < count; i++) result += this;
    return result;
  },

  camelize: function() {
    var parts = this.split('-'), len = parts.length;
    if (len == 1) return parts[0];

    var camelized = this.charAt(0) == '-'
      ? parts[0].charAt(0).toUpperCase() + parts[0].substring(1)
      : parts[0];

    for (var i = 1; i < len; i++)
      camelized += parts[i].charAt(0).toUpperCase() + parts[i].substring(1);

    return camelized;
  },

  capitalize: function() {
    return this.charAt(0).toUpperCase() + this.substring(1).toLowerCase();
  },

  underscore: function() {
    return this.gsub(/::/, '/').gsub(/([A-Z]+)([A-Z][a-z])/,'#{1}_#{2}').gsub(/([a-z\d])([A-Z])/,'#{1}_#{2}').gsub(/-/,'_').toLowerCase();
  },

  dasherize: function() {
    return this.gsub(/_/,'-');
  },

  inspect: function(useDoubleQuotes) {
    var escapedString = this.gsub(/[\x00-\x1f\\]/, function(match) {
      var character = String.specialChar[match[0]];
      return character ? character : '\\u00' + match[0].charCodeAt().toPaddedString(2, 16);
    });
    if (useDoubleQuotes) return '"' + escapedString.replace(/"/g, '\\"') + '"';
    return "'" + escapedString.replace(/'/g, '\\\'') + "'";
  },

  toJSON: function() {
    return this.inspect(true);
  },

  unfilterJSON: function(filter) {
    return this.sub(filter || Prototype.JSONFilter, '#{1}');
  },

  isJSON: function() {
    var str = this.replace(/\\./g, '@').replace(/"[^"\\\n\r]*"/g, '');
    return (/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/).test(str);
  },

  evalJSON: function(sanitize) {
    var json = this.unfilterJSON();
    try {
      if (!sanitize || json.isJSON()) return eval('(' + json + ')');
    } catch (e) { }
    throw new SyntaxError('Badly formed JSON string: ' + this.inspect());
  },

  include: function(pattern) {
    return this.indexOf(pattern) > -1;
  },

  startsWith: function(pattern) {
    return this.indexOf(pattern) === 0;
  },

  endsWith: function(pattern) {
    var d = this.length - pattern.length;
    return d >= 0 && this.lastIndexOf(pattern) === d;
  },

  empty: function() {
    return this == '';
  },

  blank: function() {
    return /^\s*$/.test(this);
  }
});

if (Prototype.Browser.WebKit || Prototype.Browser.IE) Object.extend(String.prototype, {
  escapeHTML: function() {
    return this.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
  },
  unescapeHTML: function() {
    return this.replace(/&amp;/g,'&').replace(/&lt;/g,'<').replace(/&gt;/g,'>');
  }
});

String.prototype.gsub.prepareReplacement = function(replacement) {
  if (typeof replacement == 'function') return replacement;
  var template = new Template(replacement);
  return function(match) { return template.evaluate(match) };
}

String.prototype.parseQuery = String.prototype.toQueryParams;

Object.extend(String.prototype.escapeHTML, {
  div:  document.createElement('div'),
  text: document.createTextNode('')
});

with (String.prototype.escapeHTML) div.appendChild(text);

var Template = Class.create();
Template.Pattern = /(^|.|\r|\n)(#\{(.*?)\})/;
Template.prototype = {
  initialize: function(template, pattern) {
    this.template = template.toString();
    this.pattern  = pattern || Template.Pattern;
  },

  evaluate: function(object) {
    return this.template.gsub(this.pattern, function(match) {
      var before = match[1];
      if (before == '\\') return match[2];
      return before + String.interpret(object[match[3]]);
    });
  }
}

var $break = {}, $continue = new Error('"throw $continue" is deprecated, use "return" instead');

var Enumerable = {
  each: function(iterator) {
    var index = 0;
    try {
      this._each(function(value) {
        iterator(value, index++);
      });
    } catch (e) {
      if (e != $break) throw e;
    }
    return this;
  },

  eachSlice: function(number, iterator) {
    var index = -number, slices = [], array = this.toArray();
    while ((index += number) < array.length)
      slices.push(array.slice(index, index+number));
    return slices.map(iterator);
  },

  all: function(iterator) {
    var result = true;
    this.each(function(value, index) {
      result = result && !!(iterator || Prototype.K)(value, index);
      if (!result) throw $break;
    });
    return result;
  },

  any: function(iterator) {
    var result = false;
    this.each(function(value, index) {
      if (result = !!(iterator || Prototype.K)(value, index))
        throw $break;
    });
    return result;
  },

  collect: function(iterator) {
    var results = [];
    this.each(function(value, index) {
      results.push((iterator || Prototype.K)(value, index));
    });
    return results;
  },

  detect: function(iterator) {
    var result;
    this.each(function(value, index) {
      if (iterator(value, index)) {
        result = value;
        throw $break;
      }
    });
    return result;
  },

  findAll: function(iterator) {
    var results = [];
    this.each(function(value, index) {
      if (iterator(value, index))
        results.push(value);
    });
    return results;
  },

  grep: function(pattern, iterator) {
    var results = [];
    this.each(function(value, index) {
      var stringValue = value.toString();
      if (stringValue.match(pattern))
        results.push((iterator || Prototype.K)(value, index));
    })
    return results;
  },

  include: function(object) {
    var found = false;
    this.each(function(value) {
      if (value == object) {
        found = true;
        throw $break;
      }
    });
    return found;
  },

  inGroupsOf: function(number, fillWith) {
    fillWith = fillWith === undefined ? null : fillWith;
    return this.eachSlice(number, function(slice) {
      while(slice.length < number) slice.push(fillWith);
      return slice;
    });
  },

  inject: function(memo, iterator) {
    this.each(function(value, index) {
      memo = iterator(memo, value, index);
    });
    return memo;
  },

  invoke: function(method) {
    var args = $A(arguments).slice(1);
    return this.map(function(value) {
      return value[method].apply(value, args);
    });
  },

  max: function(iterator) {
    var result;
    this.each(function(value, index) {
      value = (iterator || Prototype.K)(value, index);
      if (result == undefined || value >= result)
        result = value;
    });
    return result;
  },

  min: function(iterator) {
    var result;
    this.each(function(value, index) {
      value = (iterator || Prototype.K)(value, index);
      if (result == undefined || value < result)
        result = value;
    });
    return result;
  },

  partition: function(iterator) {
    var trues = [], falses = [];
    this.each(function(value, index) {
      ((iterator || Prototype.K)(value, index) ?
        trues : falses).push(value);
    });
    return [trues, falses];
  },

  pluck: function(property) {
    var results = [];
    this.each(function(value, index) {
      results.push(value[property]);
    });
    return results;
  },

  reject: function(iterator) {
    var results = [];
    this.each(function(value, index) {
      if (!iterator(value, index))
        results.push(value);
    });
    return results;
  },

  sortBy: function(iterator) {
    return this.map(function(value, index) {
      return {value: value, criteria: iterator(value, index)};
    }).sort(function(left, right) {
      var a = left.criteria, b = right.criteria;
      return a < b ? -1 : a > b ? 1 : 0;
    }).pluck('value');
  },

  toArray: function() {
    return this.map();
  },

  zip: function() {
    var iterator = Prototype.K, args = $A(arguments);
    if (typeof args.last() == 'function')
      iterator = args.pop();

    var collections = [this].concat(args).map($A);
    return this.map(function(value, index) {
      return iterator(collections.pluck(index));
    });
  },

  size: function() {
    return this.toArray().length;
  },

  inspect: function() {
    return '#<Enumerable:' + this.toArray().inspect() + '>';
  }
}

Object.extend(Enumerable, {
  map:     Enumerable.collect,
  find:    Enumerable.detect,
  select:  Enumerable.findAll,
  member:  Enumerable.include,
  entries: Enumerable.toArray
});
var $A = Array.from = function(iterable) {
  if (!iterable) return [];
  if (iterable.toArray) {
    return iterable.toArray();
  } else {
    var results = [];
    for (var i = 0, length = iterable.length; i < length; i++)
      results.push(iterable[i]);
    return results;
  }
}

if (Prototype.Browser.WebKit) {
  $A = Array.from = function(iterable) {
    if (!iterable) return [];
    if (!(typeof iterable == 'function' && iterable == '[object NodeList]') &&
      iterable.toArray) {
      return iterable.toArray();
    } else {
      var results = [];
      for (var i = 0, length = iterable.length; i < length; i++)
        results.push(iterable[i]);
      return results;
    }
  }
}

Object.extend(Array.prototype, Enumerable);

if (!Array.prototype._reverse)
  Array.prototype._reverse = Array.prototype.reverse;

Object.extend(Array.prototype, {
  _each: function(iterator) {
    for (var i = 0, length = this.length; i < length; i++)
      iterator(this[i]);
  },

  clear: function() {
    this.length = 0;
    return this;
  },

  first: function() {
    return this[0];
  },

  last: function() {
    return this[this.length - 1];
  },

  compact: function() {
    return this.select(function(value) {
      return value != null;
    });
  },

  flatten: function() {
    return this.inject([], function(array, value) {
      return array.concat(value && value.constructor == Array ?
        value.flatten() : [value]);
    });
  },

  without: function() {
    var values = $A(arguments);
    return this.select(function(value) {
      return !values.include(value);
    });
  },

  indexOf: function(object) {
    for (var i = 0, length = this.length; i < length; i++)
      if (this[i] == object) return i;
    return -1;
  },

  reverse: function(inline) {
    return (inline !== false ? this : this.toArray())._reverse();
  },

  reduce: function() {
    return this.length > 1 ? this : this[0];
  },

  uniq: function(sorted) {
    return this.inject([], function(array, value, index) {
      if (0 == index || (sorted ? array.last() != value : !array.include(value)))
        array.push(value);
      return array;
    });
  },

  clone: function() {
    return [].concat(this);
  },

  size: function() {
    return this.length;
  },

  inspect: function() {
    return '[' + this.map(Object.inspect).join(', ') + ']';
  },

  toJSON: function() {
    var results = [];
    this.each(function(object) {
      var value = Object.toJSON(object);
      if (value !== undefined) results.push(value);
    });
    return '[' + results.join(', ') + ']';
  }
});

Array.prototype.toArray = Array.prototype.clone;

function $w(string) {
  string = string.strip();
  return string ? string.split(/\s+/) : [];
}

if (Prototype.Browser.Opera){
  Array.prototype.concat = function() {
    var array = [];
    for (var i = 0, length = this.length; i < length; i++) array.push(this[i]);
    for (var i = 0, length = arguments.length; i < length; i++) {
      if (arguments[i].constructor == Array) {
        for (var j = 0, arrayLength = arguments[i].length; j < arrayLength; j++)
          array.push(arguments[i][j]);
      } else {
        array.push(arguments[i]);
      }
    }
    return array;
  }
}
var Hash = function(object) {
  if (object instanceof Hash) this.merge(object);
  else Object.extend(this, object || {});
};

Object.extend(Hash, {
  toQueryString: function(obj) {
    var parts = [];
    parts.add = arguments.callee.addPair;

    this.prototype._each.call(obj, function(pair) {
      if (!pair.key) return;
      var value = pair.value;

      if (value && typeof value == 'object') {
        if (value.constructor == Array) value.each(function(value) {
          parts.add(pair.key, value);
        });
        return;
      }
      parts.add(pair.key, value);
    });

    return parts.join('&');
  },

  toJSON: function(object) {
    var results = [];
    this.prototype._each.call(object, function(pair) {
      var value = Object.toJSON(pair.value);
      if (value !== undefined) results.push(pair.key.toJSON() + ': ' + value);
    });
    return '{' + results.join(', ') + '}';
  }
});

Hash.toQueryString.addPair = function(key, value, prefix) {
  key = encodeURIComponent(key);
  if (value === undefined) this.push(key);
  else this.push(key + '=' + (value == null ? '' : encodeURIComponent(value)));
}

Object.extend(Hash.prototype, Enumerable);
Object.extend(Hash.prototype, {
  _each: function(iterator) {
    for (var key in this) {
      var value = this[key];
      if (value && value == Hash.prototype[key]) continue;

      var pair = [key, value];
      pair.key = key;
      pair.value = value;
      iterator(pair);
    }
  },

  keys: function() {
    return this.pluck('key');
  },

  values: function() {
    return this.pluck('value');
  },

  merge: function(hash) {
    return $H(hash).inject(this, function(mergedHash, pair) {
      mergedHash[pair.key] = pair.value;
      return mergedHash;
    });
  },

  remove: function() {
    var result;
    for(var i = 0, length = arguments.length; i < length; i++) {
      var value = this[arguments[i]];
      if (value !== undefined){
        if (result === undefined) result = value;
        else {
          if (result.constructor != Array) result = [result];
          result.push(value)
        }
      }
      delete this[arguments[i]];
    }
    return result;
  },

  toQueryString: function() {
    return Hash.toQueryString(this);
  },

  inspect: function() {
    return '#<Hash:{' + this.map(function(pair) {
      return pair.map(Object.inspect).join(': ');
    }).join(', ') + '}>';
  },

  toJSON: function() {
    return Hash.toJSON(this);
  }
});

function $H(object) {
  if (object instanceof Hash) return object;
  return new Hash(object);
};

// Safari iterates over shadowed properties
if (function() {
  var i = 0, Test = function(value) { this.key = value };
  Test.prototype.key = 'foo';
  for (var property in new Test('bar')) i++;
  return i > 1;
}()) Hash.prototype._each = function(iterator) {
  var cache = [];
  for (var key in this) {
    var value = this[key];
    if ((value && value == Hash.prototype[key]) || cache.include(key)) continue;
    cache.push(key);
    var pair = [key, value];
    pair.key = key;
    pair.value = value;
    iterator(pair);
  }
};
ObjectRange = Class.create();
Object.extend(ObjectRange.prototype, Enumerable);
Object.extend(ObjectRange.prototype, {
  initialize: function(start, end, exclusive) {
    this.start = start;
    this.end = end;
    this.exclusive = exclusive;
  },

  _each: function(iterator) {
    var value = this.start;
    while (this.include(value)) {
      iterator(value);
      value = value.succ();
    }
  },

  include: function(value) {
    if (value < this.start)
      return false;
    if (this.exclusive)
      return value < this.end;
    return value <= this.end;
  }
});

var $R = function(start, end, exclusive) {
  return new ObjectRange(start, end, exclusive);
}

var Ajax = {
  getTransport: function() {
    return Try.these(
      function() {return new XMLHttpRequest()},
      function() {return new ActiveXObject('Msxml2.XMLHTTP')},
      function() {return new ActiveXObject('Microsoft.XMLHTTP')}
    ) || false;
  },

  activeRequestCount: 0
}

Ajax.Responders = {
  responders: [],

  _each: function(iterator) {
    this.responders._each(iterator);
  },

  register: function(responder) {
    if (!this.include(responder))
      this.responders.push(responder);
  },

  unregister: function(responder) {
    this.responders = this.responders.without(responder);
  },

  dispatch: function(callback, request, transport, json) {
    this.each(function(responder) {
      if (typeof responder[callback] == 'function') {
        try {
          responder[callback].apply(responder, [request, transport, json]);
        } catch (e) {}
      }
    });
  }
};

Object.extend(Ajax.Responders, Enumerable);

Ajax.Responders.register({
  onCreate: function() {
    Ajax.activeRequestCount++;
  },
  onComplete: function() {
    Ajax.activeRequestCount--;
  }
});

Ajax.Base = function() {};
Ajax.Base.prototype = {
  setOptions: function(options) {
    this.options = {
      method:       'post',
      asynchronous: true,
      contentType:  'application/x-www-form-urlencoded',
      encoding:     'UTF-8',
      parameters:   ''
    }
    Object.extend(this.options, options || {});

    this.options.method = this.options.method.toLowerCase();
    if (typeof this.options.parameters == 'string')
      this.options.parameters = this.options.parameters.toQueryParams();
  }
}

Ajax.Request = Class.create();
Ajax.Request.Events =
  ['Uninitialized', 'Loading', 'Loaded', 'Interactive', 'Complete'];

Ajax.Request.prototype = Object.extend(new Ajax.Base(), {
  _complete: false,

  initialize: function(url, options) {
    this.transport = Ajax.getTransport();
    this.setOptions(options);
    this.request(url);
  },

  request: function(url) {
    this.url = url;
    this.method = this.options.method;
    var params = Object.clone(this.options.parameters);

    if (!['get', 'post'].include(this.method)) {
      // simulate other verbs over post
      params['_method'] = this.method;
      this.method = 'post';
    }

    this.parameters = params;

    if (params = Hash.toQueryString(params)) {
      // when GET, append parameters to URL
      if (this.method == 'get')
        this.url += (this.url.include('?') ? '&' : '?') + params;
      else if (/Konqueror|Safari|KHTML/.test(navigator.userAgent))
        params += '&_=';
    }

    try {
      if (this.options.onCreate) this.options.onCreate(this.transport);
      Ajax.Responders.dispatch('onCreate', this, this.transport);

      this.transport.open(this.method.toUpperCase(), this.url,
        this.options.asynchronous);

      if (this.options.asynchronous)
        setTimeout(function() { this.respondToReadyState(1) }.bind(this), 10);

      this.transport.onreadystatechange = this.onStateChange.bind(this);
      this.setRequestHeaders();

      this.body = this.method == 'post' ? (this.options.postBody || params) : null;
      this.transport.send(this.body);

      /* Force Firefox to handle ready state 4 for synchronous requests */
      if (!this.options.asynchronous && this.transport.overrideMimeType)
        this.onStateChange();

    }
    catch (e) {
      this.dispatchException(e);
    }
  },

  onStateChange: function() {
    var readyState = this.transport.readyState;
    if (readyState > 1 && !((readyState == 4) && this._complete))
      this.respondToReadyState(this.transport.readyState);
  },

  setRequestHeaders: function() {
    var headers = {
      'X-Requested-With': 'XMLHttpRequest',
      'X-Prototype-Version': Prototype.Version,
      'Accept': 'text/javascript, text/html, application/xml, text/xml, */*'
    };

    if (this.method == 'post') {
      headers['Content-type'] = this.options.contentType +
        (this.options.encoding ? '; charset=' + this.options.encoding : '');

      /* Force "Connection: close" for older Mozilla browsers to work
       * around a bug where XMLHttpRequest sends an incorrect
       * Content-length header. See Mozilla Bugzilla #246651.
       */
      if (this.transport.overrideMimeType &&
          (navigator.userAgent.match(/Gecko\/(\d{4})/) || [0,2005])[1] < 2005)
            headers['Connection'] = 'close';
    }

    // user-defined headers
    if (typeof this.options.requestHeaders == 'object') {
      var extras = this.options.requestHeaders;

      if (typeof extras.push == 'function')
        for (var i = 0, length = extras.length; i < length; i += 2)
          headers[extras[i]] = extras[i+1];
      else
        $H(extras).each(function(pair) { headers[pair.key] = pair.value });
    }

    for (var name in headers)
      this.transport.setRequestHeader(name, headers[name]);
  },

  success: function() {
    return !this.transport.status
        || (this.transport.status >= 200 && this.transport.status < 300);
  },

  respondToReadyState: function(readyState) {
    var state = Ajax.Request.Events[readyState];
    var transport = this.transport, json = this.evalJSON();

    if (state == 'Complete') {
      try {
        this._complete = true;
        (this.options['on' + this.transport.status]
         || this.options['on' + (this.success() ? 'Success' : 'Failure')]
         || Prototype.emptyFunction)(transport, json);
      } catch (e) {
        this.dispatchException(e);
      }

      var contentType = this.getHeader('Content-type');
      if (contentType && contentType.strip().
        match(/^(text|application)\/(x-)?(java|ecma)script(;.*)?$/i))
          this.evalResponse();
    }

    try {
      (this.options['on' + state] || Prototype.emptyFunction)(transport, json);
      Ajax.Responders.dispatch('on' + state, this, transport, json);
    } catch (e) {
      this.dispatchException(e);
    }

    if (state == 'Complete') {
      // avoid memory leak in MSIE: clean up
      this.transport.onreadystatechange = Prototype.emptyFunction;
    }
  },

  getHeader: function(name) {
    try {
      return this.transport.getResponseHeader(name);
    } catch (e) { return null }
  },

  evalJSON: function() {
    try {
      var json = this.getHeader('X-JSON');
      return json ? json.evalJSON() : null;
    } catch (e) { return null }
  },

  evalResponse: function() {
    try {
      return eval((this.transport.responseText || '').unfilterJSON());
    } catch (e) {
      this.dispatchException(e);
    }
  },

  dispatchException: function(exception) {
    (this.options.onException || Prototype.emptyFunction)(this, exception);
    Ajax.Responders.dispatch('onException', this, exception);
  }
});

Ajax.Updater = Class.create();

Object.extend(Object.extend(Ajax.Updater.prototype, Ajax.Request.prototype), {
  initialize: function(container, url, options) {
    this.container = {
      success: (container.success || container),
      failure: (container.failure || (container.success ? null : container))
    }

    this.transport = Ajax.getTransport();
    this.setOptions(options);

    var onComplete = this.options.onComplete || Prototype.emptyFunction;
    this.options.onComplete = (function(transport, param) {
      this.updateContent();
      onComplete(transport, param);
    }).bind(this);

    this.request(url);
  },

  updateContent: function() {
    var receiver = this.container[this.success() ? 'success' : 'failure'];
    var response = this.transport.responseText;

    if (!this.options.evalScripts) response = response.stripScripts();

    if (receiver = $(receiver)) {
      if (this.options.insertion)
        new this.options.insertion(receiver, response);
      else
        receiver.update(response);
    }

    if (this.success()) {
      if (this.onComplete)
        setTimeout(this.onComplete.bind(this), 10);
    }
  }
});

Ajax.PeriodicalUpdater = Class.create();
Ajax.PeriodicalUpdater.prototype = Object.extend(new Ajax.Base(), {
  initialize: function(container, url, options) {
    this.setOptions(options);
    this.onComplete = this.options.onComplete;

    this.frequency = (this.options.frequency || 2);
    this.decay = (this.options.decay || 1);

    this.updater = {};
    this.container = container;
    this.url = url;

    this.start();
  },

  start: function() {
    this.options.onComplete = this.updateComplete.bind(this);
    this.onTimerEvent();
  },

  stop: function() {
    this.updater.options.onComplete = undefined;
    clearTimeout(this.timer);
    (this.onComplete || Prototype.emptyFunction).apply(this, arguments);
  },

  updateComplete: function(request) {
    if (this.options.decay) {
      this.decay = (request.responseText == this.lastText ?
        this.decay * this.options.decay : 1);

      this.lastText = request.responseText;
    }
    this.timer = setTimeout(this.onTimerEvent.bind(this),
      this.decay * this.frequency * 1000);
  },

  onTimerEvent: function() {
    this.updater = new Ajax.Updater(this.container, this.url, this.options);
  }
});
function $(element) {
  if (arguments.length > 1) {
    for (var i = 0, elements = [], length = arguments.length; i < length; i++)
      elements.push($(arguments[i]));
    return elements;
  }
  if (typeof element == 'string')
    element = document.getElementById(element);
  return Element.extend(element);
}

if (Prototype.BrowserFeatures.XPath) {
  document._getElementsByXPath = function(expression, parentElement) {
    var results = [];
    var query = document.evaluate(expression, $(parentElement) || document,
      null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
    for (var i = 0, length = query.snapshotLength; i < length; i++)
      results.push(query.snapshotItem(i));
    return results;
  };

  document.getElementsByClassName = function(className, parentElement) {
    var q = ".//*[contains(concat(' ', @class, ' '), ' " + className + " ')]";
    return document._getElementsByXPath(q, parentElement);
  }

} else document.getElementsByClassName = function(className, parentElement) {
  var children = ($(parentElement) || document.body).getElementsByTagName('*');
  var elements = [], child, pattern = new RegExp("(^|\\s)" + className + "(\\s|$)");
  for (var i = 0, length = children.length; i < length; i++) {
    child = children[i];
    var elementClassName = child.className;
    if (elementClassName.length == 0) continue;
    if (elementClassName == className || elementClassName.match(pattern))
      elements.push(Element.extend(child));
  }
  return elements;
};

/*--------------------------------------------------------------------------*/

if (!window.Element) var Element = {};

Element.extend = function(element) {
  var F = Prototype.BrowserFeatures;
  if (!element || !element.tagName || element.nodeType == 3 ||
   element._extended || F.SpecificElementExtensions || element == window)
    return element;

  var methods = {}, tagName = element.tagName, cache = Element.extend.cache,
   T = Element.Methods.ByTag;

  // extend methods for all tags (Safari doesn't need this)
  if (!F.ElementExtensions) {
    Object.extend(methods, Element.Methods),
    Object.extend(methods, Element.Methods.Simulated);
  }

  // extend methods for specific tags
  if (T[tagName]) Object.extend(methods, T[tagName]);

  for (var property in methods) {
    var value = methods[property];
    if (typeof value == 'function' && !(property in element))
      element[property] = cache.findOrStore(value);
  }

  element._extended = Prototype.emptyFunction;
  return element;
};

Element.extend.cache = {
  findOrStore: function(value) {
    return this[value] = this[value] || function() {
      return value.apply(null, [this].concat($A(arguments)));
    }
  }
};

Element.Methods = {
  visible: function(element) {
    return $(element).style.display != 'none';
  },

  toggle: function(element) {
    element = $(element);
    Element[Element.visible(element) ? 'hide' : 'show'](element);
    return element;
  },

  hide: function(element) {
    $(element).style.display = 'none';
    return element;
  },

  show: function(element) {
    $(element).style.display = '';
    return element;
  },

  remove: function(element) {
    element = $(element);
    element.parentNode.removeChild(element);
    return element;
  },

  update: function(element, html) {
    html = typeof html == 'undefined' ? '' : html.toString();
    $(element).innerHTML = html.stripScripts();
    setTimeout(function() {html.evalScripts()}, 10);
    return element;
  },

  replace: function(element, html) {
    element = $(element);
    html = typeof html == 'undefined' ? '' : html.toString();
    if (element.outerHTML) {
      element.outerHTML = html.stripScripts();
    } else {
      var range = element.ownerDocument.createRange();
      range.selectNodeContents(element);
      element.parentNode.replaceChild(
        range.createContextualFragment(html.stripScripts()), element);
    }
    setTimeout(function() {html.evalScripts()}, 10);
    return element;
  },

  inspect: function(element) {
    element = $(element);
    var result = '<' + element.tagName.toLowerCase();
    $H({'id': 'id', 'className': 'class'}).each(function(pair) {
      var property = pair.first(), attribute = pair.last();
      var value = (element[property] || '').toString();
      if (value) result += ' ' + attribute + '=' + value.inspect(true);
    });
    return result + '>';
  },

  recursivelyCollect: function(element, property) {
    element = $(element);
    var elements = [];
    while (element = element[property])
      if (element.nodeType == 1)
        elements.push(Element.extend(element));
    return elements;
  },

  ancestors: function(element) {
    return $(element).recursivelyCollect('parentNode');
  },

  descendants: function(element) {
    return $A($(element).getElementsByTagName('*')).each(Element.extend);
  },

  firstDescendant: function(element) {
    element = $(element).firstChild;
    while (element && element.nodeType != 1) element = element.nextSibling;
    return $(element);
  },

  immediateDescendants: function(element) {
    if (!(element = $(element).firstChild)) return [];
    while (element && element.nodeType != 1) element = element.nextSibling;
    if (element) return [element].concat($(element).nextSiblings());
    return [];
  },

  previousSiblings: function(element) {
    return $(element).recursivelyCollect('previousSibling');
  },

  nextSiblings: function(element) {
    return $(element).recursivelyCollect('nextSibling');
  },

  siblings: function(element) {
    element = $(element);
    return element.previousSiblings().reverse().concat(element.nextSiblings());
  },

  match: function(element, selector) {
    if (typeof selector == 'string')
      selector = new Selector(selector);
    return selector.match($(element));
  },

  up: function(element, expression, index) {
    element = $(element);
    if (arguments.length == 1) return $(element.parentNode);
    var ancestors = element.ancestors();
    return expression ? Selector.findElement(ancestors, expression, index) :
      ancestors[index || 0];
  },

  down: function(element, expression, index) {
    element = $(element);
    if (arguments.length == 1) return element.firstDescendant();
    var descendants = element.descendants();
    return expression ? Selector.findElement(descendants, expression, index) :
      descendants[index || 0];
  },

  previous: function(element, expression, index) {
    element = $(element);
    if (arguments.length == 1) return $(Selector.handlers.previousElementSibling(element));
    var previousSiblings = element.previousSiblings();
    return expression ? Selector.findElement(previousSiblings, expression, index) :
      previousSiblings[index || 0];
  },

  next: function(element, expression, index) {
    element = $(element);
    if (arguments.length == 1) return $(Selector.handlers.nextElementSibling(element));
    var nextSiblings = element.nextSiblings();
    return expression ? Selector.findElement(nextSiblings, expression, index) :
      nextSiblings[index || 0];
  },

  getElementsBySelector: function() {
    var args = $A(arguments), element = $(args.shift());
    return Selector.findChildElements(element, args);
  },

  getElementsByClassName: function(element, className) {
    return document.getElementsByClassName(className, element);
  },

  readAttribute: function(element, name) {
    element = $(element);
    if (Prototype.Browser.IE) {
      if (!element.attributes) return null;
      var t = Element._attributeTranslations;
      if (t.values[name]) return t.values[name](element, name);
      if (t.names[name])  name = t.names[name];
      var attribute = element.attributes[name];
      return attribute ? attribute.nodeValue : null;
    }
    return element.getAttribute(name);
  },

  getHeight: function(element) {
    return $(element).getDimensions().height;
  },

  getWidth: function(element) {
    return $(element).getDimensions().width;
  },

  classNames: function(element) {
    return new Element.ClassNames(element);
  },

  hasClassName: function(element, className) {
    if (!(element = $(element))) return;
    var elementClassName = element.className;
    if (elementClassName.length == 0) return false;
    if (elementClassName == className ||
        elementClassName.match(new RegExp("(^|\\s)" + className + "(\\s|$)")))
      return true;
    return false;
  },

  addClassName: function(element, className) {
    if (!(element = $(element))) return;
    Element.classNames(element).add(className);
    return element;
  },

  removeClassName: function(element, className) {
    if (!(element = $(element))) return;
    Element.classNames(element).remove(className);
    return element;
  },

  toggleClassName: function(element, className) {
    if (!(element = $(element))) return;
    Element.classNames(element)[element.hasClassName(className) ? 'remove' : 'add'](className);
    return element;
  },

  observe: function() {
    Event.observe.apply(Event, arguments);
    return $A(arguments).first();
  },

  stopObserving: function() {
    Event.stopObserving.apply(Event, arguments);
    return $A(arguments).first();
  },

  // removes whitespace-only text node children
  cleanWhitespace: function(element) {
    element = $(element);
    var node = element.firstChild;
    while (node) {
      var nextNode = node.nextSibling;
      if (node.nodeType == 3 && !/\S/.test(node.nodeValue))
        element.removeChild(node);
      node = nextNode;
    }
    return element;
  },

  empty: function(element) {
    return $(element).innerHTML.blank();
  },

  descendantOf: function(element, ancestor) {
    element = $(element), ancestor = $(ancestor);
    while (element = element.parentNode)
      if (element == ancestor) return true;
    return false;
  },

  scrollTo: function(element) {
    element = $(element);
    var pos = Position.cumulativeOffset(element);
    window.scrollTo(pos[0], pos[1]);
    return element;
  },

  getStyle: function(element, style) {
    element = $(element);
    style = style == 'float' ? 'cssFloat' : style.camelize();
    var value = element.style[style];
    if (!value) {
      var css = document.defaultView.getComputedStyle(element, null);
      value = css ? css[style] : null;
    }
    if (style == 'opacity') return value ? parseFloat(value) : 1.0;
    return value == 'auto' ? null : value;
  },

  getOpacity: function(element) {
    return $(element).getStyle('opacity');
  },

  setStyle: function(element, styles, camelized) {
    element = $(element);
    var elementStyle = element.style;

    for (var property in styles)
      if (property == 'opacity') element.setOpacity(styles[property])
      else
        elementStyle[(property == 'float' || property == 'cssFloat') ?
          (elementStyle.styleFloat === undefined ? 'cssFloat' : 'styleFloat') :
          (camelized ? property : property.camelize())] = styles[property];

    return element;
  },

  setOpacity: function(element, value) {
    element = $(element);
    element.style.opacity = (value == 1 || value === '') ? '' :
      (value < 0.00001) ? 0 : value;
    return element;
  },

  getDimensions: function(element) {
    element = $(element);
    var display = $(element).getStyle('display');
    if (display != 'none' && display != null) // Safari bug
      return {width: element.offsetWidth, height: element.offsetHeight};

    // All *Width and *Height properties give 0 on elements with display none,
    // so enable the element temporarily
    var els = element.style;
    var originalVisibility = els.visibility;
    var originalPosition = els.position;
    var originalDisplay = els.display;
    els.visibility = 'hidden';
    els.position = 'absolute';
    els.display = 'block';
    var originalWidth = element.clientWidth;
    var originalHeight = element.clientHeight;
    els.display = originalDisplay;
    els.position = originalPosition;
    els.visibility = originalVisibility;
    return {width: originalWidth, height: originalHeight};
  },

  makePositioned: function(element) {
    element = $(element);
    var pos = Element.getStyle(element, 'position');
    if (pos == 'static' || !pos) {
      element._madePositioned = true;
      element.style.position = 'relative';
      // Opera returns the offset relative to the positioning context, when an
      // element is position relative but top and left have not been defined
      if (window.opera) {
        element.style.top = 0;
        element.style.left = 0;
      }
    }
    return element;
  },

  undoPositioned: function(element) {
    element = $(element);
    if (element._madePositioned) {
      element._madePositioned = undefined;
      element.style.position =
        element.style.top =
        element.style.left =
        element.style.bottom =
        element.style.right = '';
    }
    return element;
  },

  makeClipping: function(element) {
    element = $(element);
    if (element._overflow) return element;
    element._overflow = element.style.overflow || 'auto';
    if ((Element.getStyle(element, 'overflow') || 'visible') != 'hidden')
      element.style.overflow = 'hidden';
    return element;
  },

  undoClipping: function(element) {
    element = $(element);
    if (!element._overflow) return element;
    element.style.overflow = element._overflow == 'auto' ? '' : element._overflow;
    element._overflow = null;
    return element;
  }
};

Object.extend(Element.Methods, {
  childOf: Element.Methods.descendantOf,
  childElements: Element.Methods.immediateDescendants
});

if (Prototype.Browser.Opera) {
  Element.Methods._getStyle = Element.Methods.getStyle;
  Element.Methods.getStyle = function(element, style) {
    switch(style) {
      case 'left':
      case 'top':
      case 'right':
      case 'bottom':
        if (Element._getStyle(element, 'position') == 'static') return null;
      default: return Element._getStyle(element, style);
    }
  };
}
else if (Prototype.Browser.IE) {
  Element.Methods.getStyle = function(element, style) {
    element = $(element);
    style = (style == 'float' || style == 'cssFloat') ? 'styleFloat' : style.camelize();
    var value = element.style[style];
    if (!value && element.currentStyle) value = element.currentStyle[style];

    if (style == 'opacity') {
      if (value = (element.getStyle('filter') || '').match(/alpha\(opacity=(.*)\)/))
        if (value[1]) return parseFloat(value[1]) / 100;
      return 1.0;
    }

    if (value == 'auto') {
      if ((style == 'width' || style == 'height') && (element.getStyle('display') != 'none'))
        return element['offset'+style.capitalize()] + 'px';
      return null;
    }
    return value;
  };

  Element.Methods.setOpacity = function(element, value) {
    element = $(element);
    var filter = element.getStyle('filter'), style = element.style;
    if (value == 1 || value === '') {
      style.filter = filter.replace(/alpha\([^\)]*\)/gi,'');
      return element;
    } else if (value < 0.00001) value = 0;
    style.filter = filter.replace(/alpha\([^\)]*\)/gi, '') +
      'alpha(opacity=' + (value * 100) + ')';
    return element;
  };

  // IE is missing .innerHTML support for TABLE-related elements
  Element.Methods.update = function(element, html) {
    element = $(element);
    html = typeof html == 'undefined' ? '' : html.toString();
    var tagName = element.tagName.toUpperCase();
    if (['THEAD','TBODY','TR','TD'].include(tagName)) {
      var div = document.createElement('div');
      switch (tagName) {
        case 'THEAD':
        case 'TBODY':
          div.innerHTML = '<table><tbody>' +  html.stripScripts() + '</tbody></table>';
          depth = 2;
          break;
        case 'TR':
          div.innerHTML = '<table><tbody><tr>' +  html.stripScripts() + '</tr></tbody></table>';
          depth = 3;
          break;
        case 'TD':
          div.innerHTML = '<table><tbody><tr><td>' +  html.stripScripts() + '</td></tr></tbody></table>';
          depth = 4;
      }
      $A(element.childNodes).each(function(node) { element.removeChild(node) });
      depth.times(function() { div = div.firstChild });
      $A(div.childNodes).each(function(node) { element.appendChild(node) });
    } else {
      element.innerHTML = html.stripScripts();
    }
    setTimeout(function() { html.evalScripts() }, 10);
    return element;
  }
}
else if (Prototype.Browser.Gecko) {
  Element.Methods.setOpacity = function(element, value) {
    element = $(element);
    element.style.opacity = (value == 1) ? 0.999999 :
      (value === '') ? '' : (value < 0.00001) ? 0 : value;
    return element;
  };
}

Element._attributeTranslations = {
  names: {
    colspan:   "colSpan",
    rowspan:   "rowSpan",
    valign:    "vAlign",
    datetime:  "dateTime",
    accesskey: "accessKey",
    tabindex:  "tabIndex",
    enctype:   "encType",
    maxlength: "maxLength",
    readonly:  "readOnly",
    longdesc:  "longDesc"
  },
  values: {
    _getAttr: function(element, attribute) {
      return element.getAttribute(attribute, 2);
    },
    _flag: function(element, attribute) {
      return $(element).hasAttribute(attribute) ? attribute : null;
    },
    style: function(element) {
      return element.style.cssText.toLowerCase();
    },
    title: function(element) {
      var node = element.getAttributeNode('title');
      return node.specified ? node.nodeValue : null;
    }
  }
};

(function() {
  Object.extend(this, {
    href: this._getAttr,
    src:  this._getAttr,
    type: this._getAttr,
    disabled: this._flag,
    checked:  this._flag,
    readonly: this._flag,
    multiple: this._flag
  });
}).call(Element._attributeTranslations.values);

Element.Methods.Simulated = {
  hasAttribute: function(element, attribute) {
    var t = Element._attributeTranslations, node;
    attribute = t.names[attribute] || attribute;
    node = $(element).getAttributeNode(attribute);
    return node && node.specified;
  }
};

Element.Methods.ByTag = {};

Object.extend(Element, Element.Methods);

if (!Prototype.BrowserFeatures.ElementExtensions &&
 document.createElement('div').__proto__) {
  window.HTMLElement = {};
  window.HTMLElement.prototype = document.createElement('div').__proto__;
  Prototype.BrowserFeatures.ElementExtensions = true;
}

Element.hasAttribute = function(element, attribute) {
  if (element.hasAttribute) return element.hasAttribute(attribute);
  return Element.Methods.Simulated.hasAttribute(element, attribute);
};

Element.addMethods = function(methods) {
  var F = Prototype.BrowserFeatures, T = Element.Methods.ByTag;

  if (!methods) {
    Object.extend(Form, Form.Methods);
    Object.extend(Form.Element, Form.Element.Methods);
    Object.extend(Element.Methods.ByTag, {
      "FORM":     Object.clone(Form.Methods),
      "INPUT":    Object.clone(Form.Element.Methods),
      "SELECT":   Object.clone(Form.Element.Methods),
      "TEXTAREA": Object.clone(Form.Element.Methods)
    });
  }

  if (arguments.length == 2) {
    var tagName = methods;
    methods = arguments[1];
  }

  if (!tagName) Object.extend(Element.Methods, methods || {});
  else {
    if (tagName.constructor == Array) tagName.each(extend);
    else extend(tagName);
  }

  function extend(tagName) {
    tagName = tagName.toUpperCase();
    if (!Element.Methods.ByTag[tagName])
      Element.Methods.ByTag[tagName] = {};
    Object.extend(Element.Methods.ByTag[tagName], methods);
  }

  function copy(methods, destination, onlyIfAbsent) {
    onlyIfAbsent = onlyIfAbsent || false;
    var cache = Element.extend.cache;
    for (var property in methods) {
      var value = methods[property];
      if (!onlyIfAbsent || !(property in destination))
        destination[property] = cache.findOrStore(value);
    }
  }

  function findDOMClass(tagName) {
    var klass;
    var trans = {
      "OPTGROUP": "OptGroup", "TEXTAREA": "TextArea", "P": "Paragraph",
      "FIELDSET": "FieldSet", "UL": "UList", "OL": "OList", "DL": "DList",
      "DIR": "Directory", "H1": "Heading", "H2": "Heading", "H3": "Heading",
      "H4": "Heading", "H5": "Heading", "H6": "Heading", "Q": "Quote",
      "INS": "Mod", "DEL": "Mod", "A": "Anchor", "IMG": "Image", "CAPTION":
      "TableCaption", "COL": "TableCol", "COLGROUP": "TableCol", "THEAD":
      "TableSection", "TFOOT": "TableSection", "TBODY": "TableSection", "TR":
      "TableRow", "TH": "TableCell", "TD": "TableCell", "FRAMESET":
      "FrameSet", "IFRAME": "IFrame"
    };
    if (trans[tagName]) klass = 'HTML' + trans[tagName] + 'Element';
    if (window[klass]) return window[klass];
    klass = 'HTML' + tagName + 'Element';
    if (window[klass]) return window[klass];
    klass = 'HTML' + tagName.capitalize() + 'Element';
    if (window[klass]) return window[klass];

    window[klass] = {};
    window[klass].prototype = document.createElement(tagName).__proto__;
    return window[klass];
  }

  if (F.ElementExtensions) {
    copy(Element.Methods, HTMLElement.prototype);
    copy(Element.Methods.Simulated, HTMLElement.prototype, true);
  }

  if (F.SpecificElementExtensions) {
    for (var tag in Element.Methods.ByTag) {
      var klass = findDOMClass(tag);
      if (typeof klass == "undefined") continue;
      copy(T[tag], klass.prototype);
    }
  }

  Object.extend(Element, Element.Methods);
  delete Element.ByTag;
};

var Toggle = { display: Element.toggle };

/*--------------------------------------------------------------------------*/

Abstract.Insertion = function(adjacency) {
  this.adjacency = adjacency;
}

Abstract.Insertion.prototype = {
  initialize: function(element, content) {
    this.element = $(element);
    this.content = content.stripScripts();

    if (this.adjacency && this.element.insertAdjacentHTML) {
      try {
        this.element.insertAdjacentHTML(this.adjacency, this.content);
      } catch (e) {
        var tagName = this.element.tagName.toUpperCase();
        if (['TBODY', 'TR'].include(tagName)) {
          this.insertContent(this.contentFromAnonymousTable());
        } else {
          throw e;
        }
      }
    } else {
      this.range = this.element.ownerDocument.createRange();
      if (this.initializeRange) this.initializeRange();
      this.insertContent([this.range.createContextualFragment(this.content)]);
    }

    setTimeout(function() {content.evalScripts()}, 10);
  },

  contentFromAnonymousTable: function() {
    var div = document.createElement('div');
    div.innerHTML = '<table><tbody>' + this.content + '</tbody></table>';
    return $A(div.childNodes[0].childNodes[0].childNodes);
  }
}

var Insertion = new Object();

Insertion.Before = Class.create();
Insertion.Before.prototype = Object.extend(new Abstract.Insertion('beforeBegin'), {
  initializeRange: function() {
    this.range.setStartBefore(this.element);
  },

  insertContent: function(fragments) {
    fragments.each((function(fragment) {
      this.element.parentNode.insertBefore(fragment, this.element);
    }).bind(this));
  }
});

Insertion.Top = Class.create();
Insertion.Top.prototype = Object.extend(new Abstract.Insertion('afterBegin'), {
  initializeRange: function() {
    this.range.selectNodeContents(this.element);
    this.range.collapse(true);
  },

  insertContent: function(fragments) {
    fragments.reverse(false).each((function(fragment) {
      this.element.insertBefore(fragment, this.element.firstChild);
    }).bind(this));
  }
});

Insertion.Bottom = Class.create();
Insertion.Bottom.prototype = Object.extend(new Abstract.Insertion('beforeEnd'), {
  initializeRange: function() {
    this.range.selectNodeContents(this.element);
    this.range.collapse(this.element);
  },

  insertContent: function(fragments) {
    fragments.each((function(fragment) {
      this.element.appendChild(fragment);
    }).bind(this));
  }
});

Insertion.After = Class.create();
Insertion.After.prototype = Object.extend(new Abstract.Insertion('afterEnd'), {
  initializeRange: function() {
    this.range.setStartAfter(this.element);
  },

  insertContent: function(fragments) {
    fragments.each((function(fragment) {
      this.element.parentNode.insertBefore(fragment,
        this.element.nextSibling);
    }).bind(this));
  }
});

/*--------------------------------------------------------------------------*/

Element.ClassNames = Class.create();
Element.ClassNames.prototype = {
  initialize: function(element) {
    this.element = $(element);
  },

  _each: function(iterator) {
    this.element.className.split(/\s+/).select(function(name) {
      return name.length > 0;
    })._each(iterator);
  },

  set: function(className) {
    this.element.className = className;
  },

  add: function(classNameToAdd) {
    if (this.include(classNameToAdd)) return;
    this.set($A(this).concat(classNameToAdd).join(' '));
  },

  remove: function(classNameToRemove) {
    if (!this.include(classNameToRemove)) return;
    this.set($A(this).without(classNameToRemove).join(' '));
  },

  toString: function() {
    return $A(this).join(' ');
  }
};

Object.extend(Element.ClassNames.prototype, Enumerable);
/* Portions of the Selector class are derived from Jack Slocums DomQuery,
 * part of YUI-Ext version 0.40, distributed under the terms of an MIT-style
 * license.  Please see http://www.yui-ext.com/ for more information. */

var Selector = Class.create();

Selector.prototype = {
  initialize: function(expression) {
    this.expression = expression.strip();
    this.compileMatcher();
  },

  compileMatcher: function() {
    // Selectors with namespaced attributes can't use the XPath version
    if (Prototype.BrowserFeatures.XPath && !(/\[[\w-]*?:/).test(this.expression))
      return this.compileXPathMatcher();

    var e = this.expression, ps = Selector.patterns, h = Selector.handlers,
        c = Selector.criteria, le, p, m;

    if (Selector._cache[e]) {
      this.matcher = Selector._cache[e]; return;
    }
    this.matcher = ["this.matcher = function(root) {",
                    "var r = root, h = Selector.handlers, c = false, n;"];

    while (e && le != e && (/\S/).test(e)) {
      le = e;
      for (var i in ps) {
        p = ps[i];
        if (m = e.match(p)) {
          this.matcher.push(typeof c[i] == 'function' ? c[i](m) :
    	      new Template(c[i]).evaluate(m));
          e = e.replace(m[0], '');
          break;
        }
      }
    }

    this.matcher.push("return h.unique(n);\n}");
    eval(this.matcher.join('\n'));
    Selector._cache[this.expression] = this.matcher;
  },

  compileXPathMatcher: function() {
    var e = this.expression, ps = Selector.patterns,
        x = Selector.xpath, le,  m;

    if (Selector._cache[e]) {
      this.xpath = Selector._cache[e]; return;
    }

    this.matcher = ['.//*'];
    while (e && le != e && (/\S/).test(e)) {
      le = e;
      for (var i in ps) {
        if (m = e.match(ps[i])) {
          this.matcher.push(typeof x[i] == 'function' ? x[i](m) :
            new Template(x[i]).evaluate(m));
          e = e.replace(m[0], '');
          break;
        }
      }
    }

    this.xpath = this.matcher.join('');
    Selector._cache[this.expression] = this.xpath;
  },

  findElements: function(root) {
    root = root || document;
    if (this.xpath) return document._getElementsByXPath(this.xpath, root);
    return this.matcher(root);
  },

  match: function(element) {
    return this.findElements(document).include(element);
  },

  toString: function() {
    return this.expression;
  },

  inspect: function() {
    return "#<Selector:" + this.expression.inspect() + ">";
  }
};

Object.extend(Selector, {
  _cache: {},

  xpath: {
    descendant:   "//*",
    child:        "/*",
    adjacent:     "/following-sibling::*[1]",
    laterSibling: '/following-sibling::*',
    tagName:      function(m) {
      if (m[1] == '*') return '';
      return "[local-name()='" + m[1].toLowerCase() +
             "' or local-name()='" + m[1].toUpperCase() + "']";
    },
    className:    "[contains(concat(' ', @class, ' '), ' #{1} ')]",
    id:           "[@id='#{1}']",
    attrPresence: "[@#{1}]",
    attr: function(m) {
      m[3] = m[5] || m[6];
      return new Template(Selector.xpath.operators[m[2]]).evaluate(m);
    },
    pseudo: function(m) {
      var h = Selector.xpath.pseudos[m[1]];
      if (!h) return '';
      if (typeof h === 'function') return h(m);
      return new Template(Selector.xpath.pseudos[m[1]]).evaluate(m);
    },
    operators: {
      '=':  "[@#{1}='#{3}']",
      '!=': "[@#{1}!='#{3}']",
      '^=': "[starts-with(@#{1}, '#{3}')]",
      '$=': "[substring(@#{1}, (string-length(@#{1}) - string-length('#{3}') + 1))='#{3}']",
      '*=': "[contains(@#{1}, '#{3}')]",
      '~=': "[contains(concat(' ', @#{1}, ' '), ' #{3} ')]",
      '|=': "[contains(concat('-', @#{1}, '-'), '-#{3}-')]"
    },
    pseudos: {
      'first-child': '[not(preceding-sibling::*)]',
      'last-child':  '[not(following-sibling::*)]',
      'only-child':  '[not(preceding-sibling::* or following-sibling::*)]',
      'empty':       "[count(*) = 0 and (count(text()) = 0 or translate(text(), ' \t\r\n', '') = '')]",
      'checked':     "[@checked]",
      'disabled':    "[@disabled]",
      'enabled':     "[not(@disabled)]",
      'not': function(m) {
        var e = m[6], p = Selector.patterns,
            x = Selector.xpath, le, m, v;

        var exclusion = [];
        while (e && le != e && (/\S/).test(e)) {
          le = e;
          for (var i in p) {
            if (m = e.match(p[i])) {
              v = typeof x[i] == 'function' ? x[i](m) : new Template(x[i]).evaluate(m);
              exclusion.push("(" + v.substring(1, v.length - 1) + ")");
              e = e.replace(m[0], '');
              break;
            }
          }
        }
        return "[not(" + exclusion.join(" and ") + ")]";
      },
      'nth-child':      function(m) {
        return Selector.xpath.pseudos.nth("(count(./preceding-sibling::*) + 1) ", m);
      },
      'nth-last-child': function(m) {
        return Selector.xpath.pseudos.nth("(count(./following-sibling::*) + 1) ", m);
      },
      'nth-of-type':    function(m) {
        return Selector.xpath.pseudos.nth("position() ", m);
      },
      'nth-last-of-type': function(m) {
        return Selector.xpath.pseudos.nth("(last() + 1 - position()) ", m);
      },
      'first-of-type':  function(m) {
        m[6] = "1"; return Selector.xpath.pseudos['nth-of-type'](m);
      },
      'last-of-type':   function(m) {
        m[6] = "1"; return Selector.xpath.pseudos['nth-last-of-type'](m);
      },
      'only-of-type':   function(m) {
        var p = Selector.xpath.pseudos; return p['first-of-type'](m) + p['last-of-type'](m);
      },
      nth: function(fragment, m) {
        var mm, formula = m[6], predicate;
        if (formula == 'even') formula = '2n+0';
        if (formula == 'odd')  formula = '2n+1';
        if (mm = formula.match(/^(\d+)$/)) // digit only
          return '[' + fragment + "= " + mm[1] + ']';
        if (mm = formula.match(/^(-?\d*)?n(([+-])(\d+))?/)) { // an+b
          if (mm[1] == "-") mm[1] = -1;
          var a = mm[1] ? Number(mm[1]) : 1;
          var b = mm[2] ? Number(mm[2]) : 0;
          predicate = "[((#{fragment} - #{b}) mod #{a} = 0) and " +
          "((#{fragment} - #{b}) div #{a} >= 0)]";
          return new Template(predicate).evaluate({
            fragment: fragment, a: a, b: b });
        }
      }
    }
  },

  criteria: {
    tagName:      'n = h.tagName(n, r, "#{1}", c);   c = false;',
    className:    'n = h.className(n, r, "#{1}", c); c = false;',
    id:           'n = h.id(n, r, "#{1}", c);        c = false;',
    attrPresence: 'n = h.attrPresence(n, r, "#{1}"); c = false;',
    attr: function(m) {
      m[3] = (m[5] || m[6]);
      return new Template('n = h.attr(n, r, "#{1}", "#{3}", "#{2}"); c = false;').evaluate(m);
    },
    pseudo:       function(m) {
      if (m[6]) m[6] = m[6].replace(/"/g, '\\"');
      return new Template('n = h.pseudo(n, "#{1}", "#{6}", r, c); c = false;').evaluate(m);
    },
    descendant:   'c = "descendant";',
    child:        'c = "child";',
    adjacent:     'c = "adjacent";',
    laterSibling: 'c = "laterSibling";'
  },

  patterns: {
    // combinators must be listed first
    // (and descendant needs to be last combinator)
    laterSibling: /^\s*~\s*/,
    child:        /^\s*>\s*/,
    adjacent:     /^\s*\+\s*/,
    descendant:   /^\s/,

    // selectors follow
    tagName:      /^\s*(\*|[\w\-]+)(\b|$)?/,
    id:           /^#([\w\-\*]+)(\b|$)/,
    className:    /^\.([\w\-\*]+)(\b|$)/,
    pseudo:       /^:((first|last|nth|nth-last|only)(-child|-of-type)|empty|checked|(en|dis)abled|not)(\((.*?)\))?(\b|$|\s|(?=:))/,
    attrPresence: /^\[([\w]+)\]/,
    attr:         /\[((?:[\w-]*:)?[\w-]+)\s*(?:([!^$*~|]?=)\s*((['"])([^\]]*?)\4|([^'"][^\]]*?)))?\]/
  },

  handlers: {
    // UTILITY FUNCTIONS
    // joins two collections
    concat: func   tion(a, b) {
      for (var i = 0, node; node = b[i]; i++)
        a.push(node);
      return a;
    },

    // marks an array of nodes for counting
    mark: function(nodes) {
      for (var i = 0, node; node = nodes[i]; i++)
        node._counted = true;
      return nodes;
    },

    unmark: function(nodes) {
      for (var i = 0, node; node = nodes[i]; i++)
        node._counted = undefined;
      return nodes;
    },

    // mark each child node with its position (for nth calls)
    // "ofType" flag indicates whether we're indexing for nth-of-type
    // rather than nth-child
    index: function(parentNode, reverse, ofType) {
      parentNode._counted = true;
      if (reverse) {
        for (var nodes = parentNode.childNodes, i = nodes.length - 1, j = 1; i >= 0; i--) {
          node = nodes[i];
          if (node.nodeType == 1 && (!ofType || node._counted)) node.nodeIndex = j++;
        }
      } else {
        for (var i = 0, j = 1, nodes = parentNode.childNodes; node = nodes[i]; i++)
          if (node.nodeType == 1 && (!ofType || node._counted)) node.nodeIndex = j++;
      }
    },

    // filters out duplicates and extends all nodes
    unique: function(nodes) {
      if (nodes.length == 0) return nodes;
      var results = [], n;
      for (var i = 0, l = nodes.length; i < l; i++)
        if (!(n = nodes[i])._counted) {
          n._counted = true;
          results.push(Element.extend(n));
        }
      return Selector.handlers.unmark(results);
    },

    // COMBINATOR FUNCTIONS
    descendant: function(nodes) {
      var h = Selector.handlers;
      for (var i = 0, results = [], node; node = nodes[i]; i++)
        h.concat(results, node.getElementsByTagName('*'));
      return results;
    },

    child: function(nodes) {
      var h = Selector.handlers;
      for (var i = 0, results = [], node; node = nodes[i]; i++) {
        for (var j = 0, children = [], child; child = node.childNodes[j]; j++)
          if (child.nodeType == 1 && child.tagName != '!') results.push(child);
      }
      return results;
    },

    adjacent: function(nodes) {
      for (var i = 0, results = [], node; node = nodes[i]; i++) {
        var next = this.nextElementSibling(node);
        if (next) results.push(next);
      }
      return results;
    },

    laterSibling: function(nodes) {
      var h = Selector.handlers;
      for (var i = 0, results = [], node; node = nodes[i]; i++)
        h.concat(results, Element.nextSiblings(node));
      return results;
    },

    nextElementSibling: function(node) {
      while (node = node.nextSibling)
	      if (node.nodeType == 1) return node;
      return null;
    },

    previousElementSibling: function(node) {
      while (node = node.previousSibling)
        if (node.nodeType == 1) return node;
      return null;
    },

    // TOKEN FUNCTIONS
    tagName: function(nodes, root, tagName, combinator) {
      tagName = tagName.toUpperCase();
      var results = [], h = Selector.handlers;
      if (nodes) {
        if (combinator) {
          // fastlane for ordinary descendant combinators
          if (combinator == "descendant") {
            for (var i = 0, node; node = nodes[i]; i++)
              h.concat(results, node.getElementsByTagName(tagName));
            return results;
          } else nodes = this[combinator](nodes);
          if (tagName == "*") return nodes;
        }
        for (var i = 0, node; node = nodes[i]; i++)
          if (node.tagName.toUpperCase() == tagName) results.push(node);
        return results;
      } else return root.getElementsByTagName(tagName);
    },

    id: function(nodes, root, id, combinator) {
      var targetNode = $(id), h = Selector.handlers;
      if (!nodes && root == document) return targetNode ? [targetNode] : [];
      if (nodes) {
        if (combinator) {
          if (combinator == 'child') {
            for (var i = 0, node; node = nodes[i]; i++)
              if (targetNode.parentNode == node) return [targetNode];
          } else if (combinator == 'descendant') {
            for (var i = 0, node; node = nodes[i]; i++)
              if (Element.descendantOf(targetNode, node)) return [targetNode];
          } else if (combinator == 'adjacent') {
            for (var i = 0, node; node = nodes[i]; i++)
              if (Selector.handlers.previousElementSibling(targetNode) == node)
                return [targetNode];
          } else nodes = h[combinator](nodes);
        }
        for (var i = 0, node; node = nodes[i]; i++)
          if (node == targetNode) return [targetNode];
        return [];
      }
      return (targetNode && Element.descendantOf(targetNode, root)) ? [targetNode] : [];
    },

    className: function(nodes, root, className, combinator) {
      if (nodes && combinator) nodes = this[combinator](nodes);
      return Selector.handlers.byClassName(nodes, root, className);
    },

    byClassName: function(nodes, root, className) {
      if (!nodes) nodes = Selector.handlers.descendant([root]);
      var needle = ' ' + className + ' ';
      for (var i = 0, results = [], node, nodeClassName; node = nodes[i]; i++) {
        nodeClassName = node.className;
        if (nodeClassName.length == 0) continue;
        if (nodeClassName == className || (' ' + nodeClassName + ' ').include(needle))
          results.push(node);
      }
      return results;
    },

    attrPresence: function(nodes, root, attr) {
      var results = [];
      for (var i = 0, node; node = nodes[i]; i++)
        if (Element.hasAttribute(node, attr)) results.push(node);
      return results;
    },

    attr: function(nodes, root, attr, value, operator) {
      if (!nodes) nodes = root.getElementsByTagName("*");
      var handler = Selector.operators[operator], results = [];
      for (var i = 0, node; node = nodes[i]; i++) {
        var nodeValue = Element.readAttribute(node, attr);
        if (nodeValue === null) continue;
        if (handler(nodeValue, value)) results.push(node);
      }
      return results;
    },

    pseudo: function(nodes, name, value, root, combinator) {
      if (nodes && combinator) nodes = this[combinator](nodes);
      if (!nodes) nodes = root.getElementsByTagName("*");
      return Selector.pseudos[name](nodes, value, root);
    }
  },

  pseudos: {
    'first-child': function(nodes, value, root) {
      for (var i = 0, results = [], node; node = nodes[i]; i++) {
        if (Selector.handlers.previousElementSibling(node)) continue;
          results.push(node);
      }
      return results;
    },
    'last-child': function(nodes, value, root) {
      for (var i = 0, results = [], node; node = nodes[i]; i++) {
        if (Selector.handlers.nextElementSibling(node)) continue;
          results.push(node);
      }
      return results;
    },
    'only-child': function(nodes, value, root) {
      var h = Selector.handlers;
      for (var i = 0, results = [], node; node = nodes[i]; i++)
        if (!h.previousElementSibling(node) && !h.nextElementSibling(node))
          results.push(node);
      return results;
    },
    'nth-child':        function(nodes, formula, root) {
      return Selector.pseudos.nth(nodes, formula, root);
    },
    'nth-last-child':   function(nodes, formula, root) {
      return Selector.pseudos.nth(nodes, formula, root, true);
    },
    'nth-of-type':      function(nodes, formula, root) {
      return Selector.pseudos.nth(nodes, formula, root, false, true);
    },
    'nth-last-of-type': function(nodes, formula, root) {
      return Selector.pseudos.nth(nodes, formula, root, true, true);
    },
    'first-of-type':    function(nodes, formula, root) {
      return Selector.pseudos.nth(nodes, "1", root, false, true);
    },
    'last-of-type':     function(nodes, formula, root) {
      return Selector.pseudos.nth(nodes, "1", root, true, true);
    },
    'only-of-type':     function(nodes, formula, root) {
      var p = Selector.pseudos;
      return p['last-of-type'](p['first-of-type'](nodes, formula, root), formula, root);
    },

    // handles the an+b logic
    getIndices: function(a, b, total) {
      if (a == 0) return b > 0 ? [b] : [];
      return $R(1, total).inject([], function(memo, i) {
        if (0 == (i - b) % a && (i - b) / a >= 0) memo.push(i);
        return memo;
      });
    },

    // handles nth(-last)-child, nth(-last)-of-type, and (first|last)-of-type
    nth: function(nodes, formula, root, reverse, ofType) {
      if (nodes.length == 0) return [];
      if (formula == 'even') formula = '2n+0';
      if (formula == 'odd')  formula = '2n+1';
      var h = Selector.handlers, results = [], indexed = [], m;
      h.mark(nodes);
      for (var i = 0, node; node = nodes[i]; i++) {
        if (!node.parentNode._counted) {
          h.index(node.parentNode, reverse, ofType);
          indexed.push(node.parentNode);
        }
      }
      if (formula.match(/^\d+$/)) { // just a number
        formula = Number(formula);
        for (var i = 0, node; node = nodes[i]; i++)
          if (node.nodeIndex == formula) results.push(node);
      } else if (m = formula.match(/^(-?\d*)?n(([+-])(\d+))?/)) { // an+b
        if (m[1] == "-") m[1] = -1;
        var a = m[1] ? Number(m[1]) : 1;
        var b = m[2] ? Number(m[2]) : 0;
        var indices = Selector.pseudos.getIndices(a, b, nodes.length);
        for (var i = 0, node, l = indices.length; node = nodes[i]; i++) {
          for (var j = 0; j < l; j++)
            if (node.nodeIndex == indices[j]) results.push(node);
        }
      }
      h.unmark(nodes);
      h.unmark(indexed);
      return results;
    },

    'empty': function(nodes, value, root) {
      for (var i = 0, results = [], node; node = nodes[i]; i++) {
        // IE treats comments as element nodes
        if (node.tagName == '!' || (node.firstChild && !node.innerHTML.match(/^\s*$/))) continue;
        results.push(node);
      }
      return results;
    },

    'not': function(nodes, selector, root) {
      var h = Selector.handlers, selectorType, m;
      var exclusions = new Selector(selector).findElements(root);
      h.mark(exclusions);
      for (var i = 0, results = [], node; node = nodes[i]; i++)
        if (!node._counted) results.push(node);
      h.unmark(exclusions);
      return results;
    },

    'enabled': function(nodes, value, root) {
      for (var i = 0, results = [], node; node = nodes[i]; i++)
        if (!node.disabled) results.push(node);
      return results;
    },

    'disabled': function(nodes, value, root) {
      for (var i = 0, results = [], node; node = nodes[i]; i++)
        if (node.disabled) results.push(node);
      return results;
    },

    'checked': function(nodes, value, root) {
      for (var i = 0, results = [], node; node = nodes[i]; i++)
        if (node.checked) results.push(node);
      return results;
    }
  },

  operators: {
    '=':  function(nv, v) { return nv == v; },
    '!=': function(nv, v) { return nv != v; },
    '^=': function(nv, v) { return nv.startsWith(v); },
    '$=': function(nv, v) { return nv.endsWith(v); },
    '*=': function(nv, v) { return nv.include(v); },
    '~=': function(nv, v) { return (' ' + nv + ' ').include(' ' + v + ' '); },
    '|=': function(nv, v) { return ('-' + nv.toUpperCase() + '-').include('-' + v.toUpperCase() + '-'); }
  },

  matchElements: function(elements, expression) {
    var matches = new Selector(expression).findElements(), h = Selector.handlers;
    h.mark(matches);
    for (var i = 0, results = [], element; element = elements[i]; i++)
      if (element._counted) results.push(element);
    h.unmark(matches);
    return results;
  },

  findElement: function(elements, expression, index) {
    if (typeof expression == 'number') {
      index = expression; expression = false;
    }
    return Selector.matchElements(elements, expression || '*')[index || 0];
  },

  findChildElements: function(element, expressions) {
    var exprs = expressions.join(','), expressions = [];
    exprs.scan(/(([\w#:.~>+()\s-]+|\*|\[.*?\])+)\s*(,|$)/, function(m) {
      expressions.push(m[1].strip());
    });
    var results = [], h = Selector.handlers;
    for (var i = 0, l = expressions.length, selector; i < l; i++) {
      selector = new Selector(expressions[i].strip());
      h.concat(results, selector.findElements(element));
    }
    return (l > 1) ? h.unique(results) : results;
  }
});

function $$() {
  return Selector.findChildElements(document, $A(arguments));
}
var Form = {
  reset: function(form) {
    $(form).reset();
    return form;
  },

  serializeElements: function(elements, getHash) {
    var data = elements.inject({}, function(result, element) {
      if (!element.disabled && element.name) {
        var key = element.name, value = $(element).getValue();
        if (value != null) {
         	if (key in result) {
            if (result[key].constructor != Array) result[key] = [result[key]];
            result[key].push(value);
          }
          else result[key] = value;
        }
      }
      return result;
    });

    return getHash ? data : Hash.toQueryString(data);
  }
};

Form.Methods = {
  serialize: function(form, getHash) {
    return Form.serializeElements(Form.getElements(form), getHash);
  },

  getElements: function(form) {
    return $A($(form).getElementsByTagName('*')).inject([],
      function(elements, child) {
        if (Form.Element.Serializers[child.tagName.toLowerCase()])
          elements.push(Element.extend(child));
        return elements;
      }
    );
  },

  getInputs: function(form, typeName, name) {
    form = $(form);
    var inputs = form.getElementsByTagName('input');

    if (!typeName && !name) return $A(inputs).map(Element.extend);

    for (var i = 0, matchingInputs = [], length = inputs.length; i < length; i++) {
      var input = inputs[i];
      if ((typeName && input.type != typeName) || (name && input.name != name))
        continue;
      matchingInputs.push(Element.extend(input));
    }

    return matchingInputs;
  },

  disable: function(form) {
    form = $(form);
    Form.getElements(form).invoke('disable');
    return form;
  },

  enable: function(form) {
    form = $(form);
    Form.getElements(form).invoke('enable');
    return form;
  },

  findFirstElement: function(form) {
    return $(form).getElements().find(function(element) {
      return element.type != 'hidden' && !element.disabled &&
        ['input', 'select', 'textarea'].include(element.tagName.toLowerCase());
    });
  },

  focusFirstElement: function(form) {
    form = $(form);
    form.findFirstElement().activate();
    return form;
  },

  request: function(form, options) {
    form = $(form), options = Object.clone(options || {});

    var params = options.parameters;
    options.parameters = form.serialize(true);

    if (params) {
      if (typeof params == 'string') params = params.toQueryParams();
      Object.extend(options.parameters, params);
    }

    if (form.hasAttribute('method') && !options.method)
      options.method = form.method;

    return new Ajax.Request(form.readAttribute('action'), options);
  }
}

/*--------------------------------------------------------------------------*/

Form.Element = {
  focus: function(element) {
    $(element).focus();
    return element;
  },

  select: function(element) {
    $(element).select();
    return element;
  }
}

Form.Element.Methods = {
  serialize: function(element) {
    element = $(element);
    if (!element.disabled && element.name) {
      var value = element.getValue();
      if (value != undefined) {
        var pair = {};
        pair[element.name] = value;
        return Hash.toQueryString(pair);
      }
    }
    return '';
  },

  getValue: function(element) {
    element = $(element);
    var method = element.tagName.toLowerCase();
    return Form.Element.Serializers[method](element);
  },

  clear: function(element) {
    $(element).value = '';
    return element;
  },

  present: function(element) {
    return $(element).value != '';
  },

  activate: function(element) {
    element = $(element);
    try {
      element.focus();
      if (element.select && (element.tagName.toLowerCase() != 'input' ||
        !['button', 'reset', 'submit'].include(element.type)))
        element.select();
    } catch (e) {}
    return element;
  },

  disable: function(element) {
    element = $(element);
    element.blur();
    element.disabled = true;
    return element;
  },

  enable: function(element) {
    element = $(element);
    element.disabled = false;
    return element;
  }
}

/*--------------------------------------------------------------------------*/

var Field = Form.Element;
var $F = Form.Element.Methods.getValue;

/*--------------------------------------------------------------------------*/

Form.Element.Serializers = {
  input: function(element) {
    switch (element.type.toLowerCase()) {
      case 'checkbox':
      case 'radio':
        return Form.Element.Serializers.inputSelector(element);
      default:
        return Form.Element.Serializers.textarea(element);
    }
  },

  inputSelector: function(element) {
    return element.checked ? element.value : null;
  },

  textarea: function(element) {
    return element.value;
  },

  select: function(element) {
    return this[element.type == 'select-one' ?
      'selectOne' : 'selectMany'](element);
  },

  selectOne: function(element) {
    var index = element.selectedIndex;
    return index >= 0 ? this.optionValue(element.options[index]) : null;
  },

  selectMany: function(element) {
    var values, length = element.length;
    if (!length) return null;

    for (var i = 0, values = []; i < length; i++) {
      var opt = element.options[i];
      if (opt.selected) values.push(this.optionValue(opt));
    }
    return values;
  },

  optionValue: function(opt) {
    // extend element because hasAttribute may not be native
    return Element.extend(opt).hasAttribute('value') ? opt.value : opt.text;
  }
}

/*--------------------------------------------------------------------------*/

Abstract.TimedObserver = function() {}
Abstract.TimedObserver.prototype = {
  initialize: function(element, frequency, callback) {
    this.frequency = frequency;
    this.element   = $(element);
    this.callback  = callback;

    this.lastValue = this.getValue();
    this.registerCallback();
  },

  registerCallback: function() {
    setInterval(this.onTimerEvent.bind(this), this.frequency * 1000);
  },

  onTimerEvent: function() {
    var value = this.getValue();
    var changed = ('string' == typeof this.lastValue && 'string' == typeof value
      ? this.lastValue != value : String(this.lastValue) != String(value));
    if (changed) {
      this.callback(this.element, value);
      this.lastValue = value;
    }
  }
}

Form.Element.Observer = Class.create();
Form.Element.Observer.prototype = Object.extend(new Abstract.TimedObserver(), {
  getValue: function() {
    return Form.Element.getValue(this.element);
  }
});

Form.Observer = Class.create();
Form.Observer.prototype = Object.extend(new Abstract.TimedObserver(), {
  getValue: function() {
    return Form.serialize(this.element);
  }
});

/*--------------------------------------------------------------------------*/

Abstract.EventObserver = function() {}
Abstract.EventObserver.prototype = {
  initialize: function(element, callback) {
    this.element  = $(element);
    this.callback = callback;

    this.lastValue = this.getValue();
    if (this.element.tagName.toLowerCase() == 'form')
      this.registerFormCallbacks();
    else
      this.registerCallback(this.element);
  },

  onElementEvent: function() {
    var value = this.getValue();
    if (this.lastValue != value) {
      this.callback(this.element, value);
      this.lastValue = value;
    }
  },

  registerFormCallbacks: function() {
    Form.getElements(this.element).each(this.registerCallback.bind(this));
  },

  registerCallback: function(element) {
    if (element.type) {
      switch (element.type.toLowerCase()) {
        case 'checkbox':
        case 'radio':
          Event.observe(element, 'click', this.onElementEvent.bind(this));
          break;
        default:
          Event.observe(element, 'change', this.onElementEvent.bind(this));
          break;
      }
    }
  }
}

Form.Element.EventObserver = Class.create();
Form.Element.EventObserver.prototype = Object.extend(new Abstract.EventObserver(), {
  getValue: function() {
    return Form.Element.getValue(this.element);
  }
});

Form.EventObserver = Class.create();
Form.EventObserver.prototype = Object.extend(new Abstract.EventObserver(), {
  getValue: function() {
    return Form.serialize(this.element);
  }
});
if (!window.Event) {
  var Event = new Object();
}

Object.extend(Event, {
  KEY_BACKSPACE: 8,
  KEY_TAB:       9,
  KEY_RETURN:   13,
  KEY_ESC:      27,
  KEY_LEFT:     37,
  KEY_UP:       38,
  KEY_RIGHT:    39,
  KEY_DOWN:     40,
  KEY_DELETE:   46,
  KEY_HOME:     36,
  KEY_END:      35,
  KEY_PAGEUP:   33,
  KEY_PAGEDOWN: 34,

  element: function(event) {
    return $(event.target || event.srcElement);
  },

  isLeftClick: function(event) {
    return (((event.which) && (event.which == 1)) ||
            ((event.button) && (event.button == 1)));
  },

  pointerX: function(event) {
    return event.pageX || (event.clientX +
      (document.documentElement.scrollLeft || document.body.scrollLeft));
  },

  pointerY: function(event) {
    return event.pageY || (event.clientY +
      (document.documentElement.scrollTop || document.body.scrollTop));
  },

  stop: function(event) {
    if (event.preventDefault) {
      event.preventDefault();
      event.stopPropagation();
    } else {
      event.returnValue = false;
      event.cancelBubble = true;
    }
  },

  // find the first node with the given tagName, starting from the
  // node the event was triggered on; traverses the DOM upwards
  findElement: function(event, tagName) {
    var element = Event.element(event);
    while (element.parentNode && (!element.tagName ||
        (element.tagName.toUpperCase() != tagName.toUpperCase())))
      element = element.parentNode;
    return element;
  },

  observers: false,

  _observeAndCache: function(element, name, observer, useCapture) {
    if (!this.observers) this.observers = [];
    if (element.addEventListener) {
      this.observers.push([element, name, observer, useCapture]);
      element.addEventListener(name, observer, useCapture);
    } else if (element.attachEvent) {
      this.observers.push([element, name, observer, useCapture]);
      element.attachEvent('on' + name, observer);
    }
  },

  unloadCache: function() {
    if (!Event.observers) return;
    for (var i = 0, length = Event.observers.length; i < length; i++) {
      Event.stopObserving.apply(this, Event.observers[i]);
      Event.observers[i][0] = null;
    }
    Event.observers = false;
  },

  observe: function(element, name, observer, useCapture) {
    element = $(element);
    useCapture = useCapture || false;

    if (name == 'keypress' &&
      (Prototype.Browser.WebKit || element.attachEvent))
      name = 'keydown';

    Event._observeAndCache(element, name, observer, useCapture);
  },

  stopObserving: function(element, name, observer, useCapture) {
    element = $(element);
    useCapture = useCapture || false;

    if (name == 'keypress' &&
        (Prototype.Browser.WebKit || element.attachEvent))
      name = 'keydown';

    if (element.removeEventListener) {
      element.removeEventListener(name, observer, useCapture);
    } else if (element.detachEvent) {
      try {
        element.detachEvent('on' + name, observer);
      } catch (e) {}
    }
  }
});

/* prevent memory leaks in IE */
if (Prototype.Browser.IE)
  Event.observe(window, 'unload', Event.unloadCache, false);
var Position = {
  // set to true if needed, warning: firefox performance problems
  // NOT neeeded for page scrolling, only if draggable contained in
  // scrollable elements
  includeScrollOffsets: false,

  // must be called before calling withinIncludingScrolloffset, every time the
  // page is scrolled
  prepare: function() {
    this.deltaX =  window.pageXOffset
                || document.documentElement.scrollLeft
                || document.body.scrollLeft
                || 0;
    this.deltaY =  window.pageYOffset
                || document.documentElement.scrollTop
                || document.body.scrollTop
                || 0;
  },

  realOffset: function(element) {
    var valueT = 0, valueL = 0;
    do {
      valueT += element.scrollTop  || 0;
      valueL += element.scrollLeft || 0;
      element = element.parentNode;
    } while (element);
    return [valueL, valueT];
  },

  cumulativeOffset: function(element) {
    var valueT = 0, valueL = 0;
    do {
      valueT += element.offsetTop  || 0;
      valueL += element.offsetLeft || 0;
      element = element.offsetParent;
    } while (element);
    return [valueL, valueT];
  },

  positionedOffset: function(element) {
    var valueT = 0, valueL = 0;
    do {
      valueT += element.offsetTop  || 0;
      valueL += element.offsetLeft || 0;
      element = element.offsetParent;
      if (element) {
        if(element.tagName=='BODY') break;
        var p = Element.getStyle(element, 'position');
        if (p == 'relative' || p == 'absolute') break;
      }
    } while (element);
    return [valueL, valueT];
  },

  offsetParent: function(element) {
    if (element.offsetParent) return element.offsetParent;
    if (element == document.body) return element;

    while ((element = element.parentNode) && element != document.body)
      if (Element.getStyle(element, 'position') != 'static')
        return element;

    return document.body;
  },

  // caches x/y coordinate pair to use with overlap
  within: function(element, x, y) {
    if (this.includeScrollOffsets)
      return this.withinIncludingScrolloffsets(element, x, y);
    this.xcomp = x;
    this.ycomp = y;
    this.offset = this.cumulativeOffset(element);

    return (y >= this.offset[1] &&
            y <  this.offset[1] + element.offsetHeight &&
            x >= this.offset[0] &&
            x <  this.offset[0] + element.offsetWidth);
  },

  withinIncludingScrolloffsets: function(element, x, y) {
    var offsetcache = this.realOffset(element);

    this.xcomp = x + offsetcache[0] - this.deltaX;
    this.ycomp = y + offsetcache[1] - this.deltaY;
    this.offset = this.cumulativeOffset(element);

    return (this.ycomp >= this.offset[1] &&
            this.ycomp <  this.offset[1] + element.offsetHeight &&
            this.xcomp >= this.offset[0] &&
            this.xcomp <  this.offset[0] + element.offsetWidth);
  },

  // within must be called directly before
  overlap: function(mode, element) {
    if (!mode) return 0;
    if (mode == 'vertical')
      return ((this.offset[1] + element.offsetHeight) - this.ycomp) /
        element.offsetHeight;
    if (mode == 'horizontal')
      return ((this.offset[0] + element.offsetWidth) - this.xcomp) /
        element.offsetWidth;
  },

  page: function(forElement) {
    var valueT = 0, valueL = 0;

    var element = forElement;
    do {
      valueT += element.offsetTop  || 0;
      valueL += element.offsetLeft || 0;

      // Safari fix
      if (element.offsetParent == document.body)
        if (Element.getStyle(element,'position')=='absolute') break;

    } while (element = element.offsetParent);

    element = forElement;
    do {
      if (!window.opera || element.tagName=='BODY') {
        valueT -= element.scrollTop  || 0;
        valueL -= element.scrollLeft || 0;
      }
    } while (element = element.parentNode);

    return [valueL, valueT];
  },

  clone: function(source, target) {
    var options = Object.extend({
      setLeft:    true,
      setTop:     true,
      setWidth:   true,
      setHeight:  true,
      offsetTop:  0,
      offsetLeft: 0
    }, arguments[2] || {})

    // find page position of source
    source = $(source);
    var p = Position.page(source);

    // find coordinate system to use
    target = $(target);
    var delta = [0, 0];
    var parent = null;
    // delta [0,0] will do fine with position: fixed elements,
    // position:absolute needs offsetParent deltas
    if (Element.getStyle(target,'position') == 'absolute') {
      parent = Position.offsetParent(target);
      delta = Position.page(parent);
    }

    // correct by body offsets (fixes Safari)
    if (parent == document.body) {
      delta[0] -= document.body.offsetLeft;
      delta[1] -= document.body.offsetTop;
    }

    // set position
    if(options.setLeft)   target.style.left  = (p[0] - delta[0] + options.offsetLeft) + 'px';
    if(options.setTop)    target.style.top   = (p[1] - delta[1] + options.offsetTop) + 'px';
    if(options.setWidth)  target.style.width = source.offsetWidth + 'px';
    if(options.setHeight) target.style.height = source.offsetHeight + 'px';
  },

  absolutize: function(element) {
    element = $(element);
    if (element.style.position == 'absolute') return;
    Position.prepare();

    var offsets = Position.positionedOffset(element);
    var top     = offsets[1];
    var left    = offsets[0];
    var width   = element.clientWidth;
    var height  = element.clientHeight;

    element._originalLeft   = left - parseFloat(element.style.left  || 0);
    element._originalTop    = top  - parseFloat(element.style.top || 0);
    element._originalWidth  = element.style.width;
    element._originalHeight = element.style.height;

    element.style.position = 'absolute';
    element.style.top    = top + 'px';
    element.style.left   = left + 'px';
    element.style.width  = width + 'px';
    element.style.height = height + 'px';
  },

  relativize: function(element) {
    element = $(element);
    if (element.style.position == 'relative') return;
    Position.prepare();

    element.style.position = 'relative';
    var top  = parseFloat(element.style.top  || 0) - (element._originalTop || 0);
    var left = parseFloat(element.style.left || 0) - (element._originalLeft || 0);

    element.style.top    = top + 'px';
    element.style.left   = left + 'px';
    element.style.height = element._originalHeight;
    element.style.width  = element._originalWidth;
  }
}

// Safari returns margins on body which is incorrect if the child is absolutely
// positioned.  For performance reasons, redefine Position.cumulativeOffset for
// KHTML/WebKit only.
if (Prototype.Browser.WebKit) {
  Position.cumulativeOffset = function(element) {
    var valueT = 0, valueL = 0;
    do {
      valueT += element.offsetTop  || 0;
      valueL += element.offsetLeft || 0;
      if (element.offsetParent == document.body)
        if (Element.getStyle(element, 'position') == 'absolute') break;

      element = element.offsetParent;
    } while (element);

    return [valueL, valueT];
  }
}

Element.addMethods();
         ~	      Prototype            Version    1      1.5.1.1    7      Browser    2      window     VZ/      attachEvent    t9,      opera      ,      Opera      b      WebKit	     +	      navigator
      	      userAgent      E      indexOf    '      AppleWebKit/   <      Gecko      %n      KHTML      *AW      BrowserFeatures    	&      XPath      O      document   ES      evaluate   x      ElementExtensions      *q      HTMLElement    ]      SpecificElementExtensions      DC      createElement            div    *g      form   m,      ScriptFragment     ?       <script[^>]*>([\S\s]*?)</script>   %x0^
      JSONFilter     wj      ^\/\*-secure-([\s\S]*)\*\/\s*$           emptyFunction      F8      Class      :	#      create      
X
      initialize!     []      Abstract"   l      extend#     /      destination$          property%   I      inspect&    ^Nz      ...'    J      ownerDocument(      u2      push)   8      : *     ^v      , +     4      clone,            bind-   -O      __method.         args/   =O      shift0            concat1     {      bindAsEventListener2    IIP      event3      Y      toColorPart4    A0V      toPaddedString5     n      succ6   P      times7      )      radix8      %k5      getFullYear9    "      getMonth:         getDate;    }:C      getHours<   *?
      getMinutes=     
      getSeconds>           Try?    *      these@      !'      returnValueA    K&]      lambdaB           PeriodicalExecuterC           callbackD   " 	      frequencyE      E      currentlyExecutingF     B      registerCallbackG         timerH             setIntervalI    S      onTimerEventJ   m      stopK   bPk      clearIntervalL      sBy}	      interpretM      :`      specialCharN          \bO     :W      \tP           \nQ           \fR     a`i      \rS     5      \\T     M|+      gsubU   6\      replacementV    TP      prepareReplacementW            sliceX      sc      subY    J<)      scanZ   v      truncate[   + 
      truncation\     "F      strip]      J!	      ^\s+^   OK      \s+$_   -	      stripTags`      
      <\/?[^>]+>a     Lp      stripScriptsb   e       imgc    z      extractScriptsd     6      matchOnee   9      mapf    	      scriptTagg      D      evalScriptsh    ur
      escapeHTMLi     \l      selfj   3      textk   6(      datal   Q:	      innerHTMLm            unescapeHTMLn   Ba
      childNodeso           injectp           memoq   &`      noder   	      nodeValues      ])      toQueryParamst      	      separatoru            ([^?#]*)(#.*)?$v    yn      hashw         pairx   B;      keyy          toArrayz    >      fromCharCode{   (=S:
      charCodeAt|     NW#      camelize}   !T      parts~      X      len    tOC	      camelized      v      charAt     s      toUpperCase    Y	      substring      [
      capitalize     RDo      toLowerCase    
      underscore     t      ::     A      ([A-Z]+)([A-Z][a-z])   V	      #{1}_#{2}      v      ([a-z\d])([A-Z])   K	      dasherize      ~{      useDoubleQuotes    P      escapedString            [\x00-\x1f\\]      $	      character      4B&8      \u00         \"           \'     p      unfilterJSON   >	      filter     
      #{1}   '~O      isJSON     61      str          \\.          "[^"\\\n\r]*"      Pc`$      ^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$   B-      evalJSON   Jx&      sanitize   b\      Badly formed JSON string:      $|      include    JX?
      startsWith     la      endsWith         lastIndexOf          empty            blank      	"0      ^\s*$            &amp;      a @      &lt;         &gt;   s      template   y%      Template   )
      parseQuery     6!      createTextNode     $~      appendChild    )      Pattern    L!      (^|.|\r|\n)(#\{(.*?)\})    O      before     <#      $break     ii	      $continue      I(5      "throw $continue" is deprecated, use "return" instead      B
      Enumerable     C	      _each      [	      eachSlice      r$      slices     1      array      /      all          collect    mK      detect     ?`5      findAll    0
%9      grep   @      stringValue    W58      found      AJo
      inGroupsOf     03W      fillWith         invoke     pwm      method     Kk.      max    U       min    o8	      partition      4      trues      tF      falses     @EZ      pluck      v      sortBy     x      criteria   }      sort   ]      left    .      right            last   i4      pop    P/      #<Enumerable:      1<      select     W*      member      >      iterable   i      [object NodeList]      N?      _reverse   e=?      reverse    /}      clear      `~      first      hv      flatten    U(      without    Tn      inline     ?
      reduce           uniq   3O/      sorted     _      \s+          arrayLength    x2      Hash   q      merge            toQueryString      N#9      obj          addPair    2      prefix     ,
      mergedHash     *N      remove           #<Hash:{   flt      }>     #      Test   O      foo    -$      bar    
,      cache      +>      ObjectRange    C 	      exclusive      L(      Ajax          getTransport   $      XMLHttpRequest     CKr      ActiveXObject      I      Msxml2.XMLHTTP     !j      Microsoft.XMLHTTP      	,      activeRequestCount     ty
      Responders     Lc
      responders     ^+z	      responder      M      dispatch   l(      request    E	      transport      '6      onCreate   
      onComplete     q      Base   .m
      setOptions     :y      options   b+      post  on      asynchronous  Y      contentType   YI!      application/x-www-form-urlencoded           encoding        UTF-8     g8      Request	         Events
    Fw      Uninitialized     GQ      Loading   "i      Loaded    ro      Interactive   |A      Complete  $b	      _complete     &<      params    h      _method   ;e      Konqueror|Safari|KHTML    XQ      &_=   x5      open  3At
      setTimeout    U}      respondToReadyState   W      onreadystatechange    ~      onStateChange     -
      setRequestHeaders     h;      body  nac      postBody  ,      send        overrideMimeType  &      dispatchException     U
      readyState     y      headers!   EQ8      X-Requested-With"  M1      X-Prototype-Version#   fMW      Accept$    ^:      text/javascript, text/html, application/xml, text/xml, */*%    mDo      Content-type&  Y
      ; charset='    Rv2      Gecko\/(\d{4})(    
J
      Connection)    6@      requestHeaders*    &i      extras+    f      setRequestHeader,  \9      success-   V      Success.   Q      Failure/   u	      getHeader0     Du2      ^(text|application)\/(x-)?(java|ecma)script(;.*)?$1    Mf*      evalResponse2  p      getResponseHeader3     ^      X-JSON4    H}#      responseText5  _	      exception6     >X>      onException7   bT      Updater8   -
	      container9     >R      failure:   U      param;     b}      updateContent<     &U      receiver=  O      response>  	      insertion?     c9      update@    J
#      PeriodicalUpdaterA     l#      decayB     s      updaterC   f      updateCompleteD    Q8u      clearTimeoutE  [b      lastTextF  _T      elementsG  t      getElementByIdH    %      ElementI   Pv0      _getElementsByXPathJ   k
      expressionK    X      parentElementL     XN_      queryM     
@      XPathResultN   3,      ORDERED_NODE_SNAPSHOT_TYPEO    ;      snapshotLengthP          snapshotItemQ        getElementsByClassNameR    6CY>	      classNameS     4*      .//*[contains(concat(' ', @class, ' '), ' T    %       ')]U  
}N      childrenV  XFZ      getElementsByTagNameW  Qj^      childX     <      (^|\s)Y    9      (\s|$)Z    ^      elementClassName[        tagName\   'J(      nodeType]  m	      _extended^     n-	      methods_   Jp      Methods`   SN      ByTaga     >	      Simulatedb      u8      findOrStorec   ?Iq      visibled   e}      displaye   ,      nonef  Og      toggleg    v}      hideh  HK      showi  _
      parentNodej    K      removeChildk   X      htmll  v(	      outerHTMLm     S#      createRangen   ru      selectNodeContentso    ,[uh      replaceChildp  bA      createContextualFragmentq  G	      attributer     @"M      recursivelyCollects    Y 	      ancestorst     A'      descendantsu   \8      firstDescendantv   ~X
      firstChildw    'n      nextSiblingx   ]U      immediateDescendantsy  5      nextSiblingsz  7      previousSiblings{  x X      previousSibling|   s      siblings}   _l$      selector~  5
      Selector  3 z      findElement   V      down  V      previous  AQ
      handlers  "?      previousElementSibling    }      nextElementSibling    vU      getElementsBySelector           findChildElements     L}n      readAttribute     5
      attributes    Q      _attributeTranslations          names     4>E      getAttribute  |	      getHeight     }3!      getDimensions           height    YW*      getWidth  J      width     Li
      classNames    c
      ClassNames    S      hasClassName        addClassName  >ol      removeClassName   /      toggleClassName   d      observe   t3       Event     "T`      stopObserving     `'W      cleanWhitespace   6p      nextNode  B=      \S    %8      descendantOf  A:      ancestor  V      scrollTo  U,2      pos   *      Position  @@      cumulativeOffset  O      getStyle  [      float     (z      cssFloat  >      css   &      defaultView         getComputedStyle  ue      opacity   zS      auto  CN
      getOpacity    W       setStyle  V
n      styles    n^      elementStyle  QYE
      setOpacity    G
      styleFloat    Z      offsetWidth   Bw      offsetHeight  ^Mk      els   E1      originalVisibility    1 
      visibility    e      originalPosition        position  g      originalDisplay   W      hidden    H<*      absolute        block           originalWidth     G      clientWidth   	      originalHeight          clientHeight  \      makePositioned    M8e      _madePositioned   -k      relative  $      top   cHv      undoPositioned    @~      bottom    I      makeClipping  	      _overflow     fRS      undoClipping  T=`      childOf   A      childElements     ~z	      _getStyle     >      currentStyle  :      alpha\(opacity=(.*)\)     eo      alpha\([^\)]*\)   3      alpha(opacity=    ;      THEAD     =      TBODY     DP      <table><tbody>    J      </tbody></table>  \<      depth     e<      <table><tbody><tr>    w      </tr></tbody></table>     H.      <table><tbody><tr><td>    =      </td></tr></tbody></table>    m      colspan   ~:      colSpan         rowspan   H      rowSpan   '      valign    POg      vAlign    	      datetime  PM*d      dateTime  @j	      accesskey     'nz	      accessKey     Rz      tabindex  xvfG      tabIndex        enctype   S-      encType   >	      maxlength     -8	      maxLength     
      readonly        readOnly  Xc      longdesc  d      longDesc  )U      _getAttr  :`      _flag     KhU.      hasAttribute  dMC      cssText   E      title     `      getAttributeNode  	      specified     `X      href        src   zw      disabled  :0      checked   ZA)      multiple  ^D
      addMethods    >o      Form  }}      FORM  {      INPUT     '
      SELECT    ;      TEXTAREA        copy   '      onlyIfAbsent  V	=      findDOMClass  )      klass     @      trans           OPTGROUP  bm      OptGroup  
      TextArea  |q	      Paragraph     A      FIELDSET	  "j      FieldSet
  <W3      UList           OList     0      DList     :      DIR   	      Directory     Nz      Heading         Quote     5c      INS         Mod   ;b      DEL         Anchor    6E      IMG         Image     -+      CAPTION   "#      TableCaption  }      COL         TableCol  B$<      COLGROUP        TableSection  B<      TFOOT     \y      TableRow  S!	      TableCell      N\X      FRAMESET!  C|p      FrameSet"  .      IFRAME#    Gr      IFrame$    {&      HTML%  sN1G      tag&   dg      Toggle'    s7	      Insertion(     6	      adjacency)     4W      content*   A      insertAdjacentHTML+    b      insertContent,     l      contentFromAnonymousTable-     -z      initializeRange.   .k      Before/    _      beforeBegin0   -"w      setStartBefore1    	      fragments2     0 ]      fragment3  L2      insertBefore4  Z      Top5   l
      afterBegin6    #      collapse7  #1;      Bottom8    gv	      beforeEnd9           After:     n{1      afterEnd;  "f      setStartAfter<     d%      classNameToAdd=    x[cl      classNameToRemove>     o      compileMatcher?    
      \[[\w-]*?:@    p5      compileXPathMatcherA   k      patternsB  *f      _cacheC    aK      matcherD   9c      this.matcher = function(root) {E   -2      var r = root, h = Selector.handlers, c = false, n;F    v;      return h.unique(n);
}G     ]      xpathH     ?      .//*I  #      findElementsJ  R      rootK        #<Selector:L   I
      descendantM    GB      //*N   3      /*O    yR      adjacentP  
"5      /following-sibling::*[1]Q        laterSiblingR        /following-sibling::*S     +;      [local-name()='T   6<      ' or local-name()='U   NTh      ']V    .      [contains(concat(' ', @class, ' '), ' #{1} ')]W    Se      [@id='#{1}']X  v      attrPresenceY  ?      [@#{1}]Z   A      attr[  6Kw	      operators\     Zr      pseudo]          pseudos^   5      [@#{1}='#{3}']_    I+      !=`    s      [@#{1}!='#{3}']a         ^=b    A^      [starts-with(@#{1}, '#{3}')]c  j0d      $=d    M      [substring(@#{1}, (string-length(@#{1}) - string-length('#{3}') + 1))='#{3}']e     6Q      *=f    {F      [contains(@#{1}, '#{3}')]g     65      ~=h    c-      [contains(concat(' ', @#{1}, ' '), ' #{3} ')]i     !)      |=j    Y -      [contains(concat('-', @#{1}, '-'), '-#{3}-')]k     o0      first-childl   	      [not(preceding-sibling::*)]m   )]
      last-childn    .Sf      [not(following-sibling::*)]o   "`
      only-childp    k%3      [not(preceding-sibling::* or following-sibling::*)]q    9L      [count(*) = 0 and (count(text()) = 0 or translate(text(), ' 	
', '') = '')]r  9-
      [@checked]s           [@disabled]t   h?D      enabledu   +Z.      [not(@disabled)]v  q      notw   w;	      exclusionx     P      [not(y     `Q       and z           )]{    urd	      nth-child|     r      nth}   X(6$      (count(./preceding-sibling::*) + 1) ~  05      nth-last-child    )$      (count(./following-sibling::*) + 1)   3      nth-of-type   C~P      position()    0`      nth-last-of-type  3RRS      (last() + 1 - position())     c      first-of-type            last-of-type  -      only-of-type  ;/      formula   Te	      predicate     *      even  _?      2n+0  P      odd   L^      2n+1  $      ^(\d+)$   f      =     	dH      ^(-?\d*)?n(([+-])(\d+))?  $,      n = h.tagName(n, r, "#{1}", c);   c = false;  gc,      n = h.className(n, r, "#{1}", c); c = false;  {Gr,      n = h.id(n, r, "#{1}", c);        c = false;  _,      n = h.attrPresence(n, r, "#{1}"); c = false;  ux\4      n = h.attr(n, r, "#{1}", "#{3}", "#{2}"); c = false;  *o1      n = h.pseudo(n, "#{1}", "#{6}", r, c); c = false;     +B      c = "descendant";     K      c = "child";  EE;6      c = "adjacent";   Kk      c = "laterSibling";   f&8      ^\s*~\s*  0       ^\s*>\s*  eX	      ^\s*\+\s*     q      ^\s         ^\s*(\*|[\w\-]+)(\b|$)?   93H      ^#([\w\-\*]+)(\b|$)   PE*      ^\.([\w\-\*]+)(\b|$)  Jn      ^:((first|last|nth|nth-last|only)(-child|-of-type)|empty|checked|(en|dis)abled|not)(\((.*?)\))?(\b|$|\s|(?=:))    '@J      ^\[([\w]+)\]  IQ      \[((?:[\w-]*:)?[\w-]+)\s*(?:([!^$*~|]?=)\s*((['"])([^\]]*?)\4|([^'"][^\]]*?)))?\]     q      mark  h      nodes     9>      _counted  E      unmark    -%      ofType    #Dp	      nodeIndex     2      unique    n
      combinator    TC
      targetNode          byClassName   A_      needle    ?;      nodeClassName     A5	      operator  Z`      handler   n[L
      getIndices    TW      total     aG      indexed         ^\d+$     kN      selectorType  t,rv
      exclusions    \      matchElements     ~      matches   +!      expressions   L
=O      exprs     -!(      (([\w#:.~>+()\s-]+|\*|\[.*?\])+)\s*(,|$)  W      reset     ::2      serializeElements     K?      getHash         getValue  	      serialize     uGe      getElements   l_      Serializers   '	      getInputs     \      typeName  4      inputs    y$      matchingInputs    7R      disable   d      enable    XaF      findFirstElement        textarea  tna      focusFirstElement     4P      activate  	      action    K      focus     $!3      present   U~      button    d      submit    %      blur        Field     y*      checkbox  6zg      radio     u      inputSelector      
      select-one    {RP	      selectOne     g3P
      selectMany    3      selectedIndex     0      optionValue   <]FO      opt   .      selected  `*      TimedObserver     e	      lastValue     f      changed   ko      Observer  X      EventObserver     z      registerFormCallbacks     y      onElementEvent    X      click           change    J      KEY_BACKSPACE     C      KEY_TAB   }
      KEY_RETURN          KEY_ESC   +      KEY_LEFT        KEY_UP    D	      KEY_RIGHT           KEY_DOWN  g
      KEY_DELETE    )      KEY_HOME  ^(      KEY_END   {6
      KEY_PAGEUP    I      KEY_PAGEDOWN  |5
      srcElement    !      isLeftClick   0      which     n      pointerX        pageX           clientX   ,p      documentElement   |cr
      scrollLeft    p7      pointerY   9I      pageY     3&      clientY   G	      scrollTop     B9      preventDefault    /F/      stopPropagation    E      cancelBubble  N^W	      observers           _observeAndCache  Uyh      observer	  I
      useCapture
     rO      addEventListener  ?\	J      unloadCache   V      keypress        keydown   ]      removeEventListener   ZP      detachEvent   (y      unload    QQEN      includeScrollOffsets  !Qd      prepare   B      deltaX    {n,      pageXOffset   Q$|      deltaY    d      pageYOffset   r|uo
      realOffset    IT      valueT    ME      valueL    D>	      offsetTop     
      offsetLeft    t      offsetParent  K7      positionedOffset        BODY  3      within     w[      withinIncludingScrolloffsets!  Y      xcomp"     
x      ycomp#     Hl      offsetcache$   lF      overlap%   ){      vertical&  z>%
      horizontal'          page(  z
      forElement)    61      setLeft*   x	P      setTop+    0R      setWidth,  `&	      setHeight-     0      delta.     2      parent/    O
      absolutize0    %      offsets1         _originalLeft2           _originalTop3  |"      _originalWidth4          _originalHeight5   p)
      relativize6    &vN      [((#{fragment} - #{b}) mod #{a} = 0) and ((#{fragment} - #{b}) div #{a} >= 0)]7          create/<8  j      Object.extend9     kE      Function.prototype.bind:   l      Function.prototype.bind/<;     e\B&      Function.prototype.bindAsEventListener<    4u(      Function.prototype.bindAsEventListener/<=  X      Date.prototype.toJSON>     |CA      sub/<?           extractScripts/<@        evalScripts/<A     (B      unescapeHTML/<B    o(      toQueryParams/<C   Zb      inspect/escapedString<D    @(      String.prototype.gsub.prepareReplacementE  AX*      String.prototype.gsub.prepareReplacement/<F    Ae
      evaluate/<G    d2\      each/<H    *      all/<I     E[9M      any/<J     H	      collect/<K     e      detect/<L  {	      findAll/<M     "H      grep/<N    S	      include/<O     g:$      inGroupsOf/<P  +      inject/<Q  -t\      invoke/<R  oE      max/<S     e,      min/<T     @      partition/<U         pluck/<V   "      reject/<W  Jj      sortBy/<X  :6      zip/<Y     p@
      Array.fromZ    r	      compact/<[     	      flatten/<\     fp	      without/<]     ^      uniq/<^    7      toJSON/<_  %v      Array.prototype.concat`    hG#      toQueryString/<a         toQueryString/</<b     U<      Hash.toQueryString.addPairc    6      merge/<d   [=	      inspect/<e     w_U      Hash.prototype._eachf  g      getTransport/<g    c1J
      dispatch/<h    8	      Ajax.Basei     SX	      request/<j     %q      setRequestHeaders/<k   #      initialize/this.options.onComplete<l   h      document._getElementsByXPathm        document.getElementsByClassNamen   &      Element.extendo    %      findOrStore/this[value]<p  "ovF      update/<q  w}	      replace/<r     >      Element.Methods.getStyles  X      Element.Methods.setOpacityt    B      Element.Methods.updateu          Element.Methods.update/<v  Z      Element.hasAttributew  B{      Element.addMethods{    !      Abstract.Insertion|    T      initialize/<}  )?      insertContent/<~   h      _each/<   )X%      getIndices/<  Ck      findChildElements/<   p      serializeElements/data<   $      getElements/<     'e      findFirstElement/<    !W      Abstract.TimedObserver          Abstract.EventObserver          Position.cumulativeOffset       d      6       `   %,                                                                                      g                                                                                                                
                                                                 	                  
                                                                                                                                                                                                                                                                                                                                                     "                                                                                    !                  "                 #      )           $                 %      +          &                  '                  (      .           )                  *      0           +                  ,                  -                  .                  /                  0                  1                  2                  3      9           4                  5                  6                  7                 8      >                            9                  :                  ;                  <                  =                  >                  ?                 @      G           A                      	              B                 C      K           D                 E      M           F      M                            G                 H      Q           I                 J      S           K                 L      U           M                 N      W           O                 P      Y           Q                 R      [           S                 T      ]           U                 V      _           W                 X      a           Y                 Z      c           [                 \      e           ]                 ^      g           _                 `      i           a                 b      k           c                 d      m           e                 f      o           g      o           h                  i                 j      s           k                  l                  m                  n                  o                  p                  q                  r                  s                  t      }           u                  v                 w                 x                 y                  z                  {                  |                 }                 ~                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               	               
                                                                                                                                                                                       "                                                 %                                                 (                                                 +                                                              !                 "                 #                $                 %                 &                 '                 (                 )                 *                 +                 ,                 -                 .                 /                 0                 1                 2                 3                 4                 5                 6                 7                 8                 9                 :                 ;                 <                 =                 >                 ?                 @                 A                 B                 C                 D                 E                 F                 G                 H                 I                 J                 K                 L                 M                 N                 O                 P                 Q                 R                 S                T     b          U                 V                 W                 X                 Y                 Z                 [                 \                 ]                 ^                 _                 `                 a                 b                 c                 d                e     s          f                 h                 i     v          j                 k                 l     y          m                 n                 o                 p                 q     ~          r                 s                 t                 u                 v                 w                 x                 y                 z                 {                                 |                 }                 ~                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Oc           P  P P` PH P P  PB  P  P& P   P~ P`  P P' P`$ >  P  P  P!  P             i               g                 i  F @                                                   x                                                     #    $               g           e              g  "    $  B              g  :  $              g  D  $               g                -  P.  Pg `                                   g `-  P.  P                   2                                                                 @  7  i                                                     @  i  @  A              e              C  D                                                                     B                U                            U  PS  `                                                 @  [                                                                        d  P                f                   `  `  `              `  `  `  `              i                                        p  q              t                   v  w  x  B                                                S     i                   }  ~    i                                                                                                                                                               P9 `  `  `  `          e `                                                d                                                                                      U    P                                              g `                                `  `                B           e              j                           ` `                B                  ` `                B                  ` `                B                  ` `                B                  ` `                B                  ` ` `               B                   g `  P                B              j `  P                W              p  P `                B                   P.  P                   B               ` `                B                  ` `                B                  `  P  P                B                 $  P `                B                  ` `                B                  `                B                     a  b                                  `.  B  `                   B                                                       i  @                  i  @                i  @                                                                                      B                                  B                D `                   B              g  i  @                                                     P                  B                                                                       `               g  B                  i  @  j                      g                   }  P                  w  PB               B              g   `               w  B              x  B                     x  B  w                                                   v                    w                  i  @  B                                                       w                                 i    $              B                     x  B  w                                         B                 B                                                                                                                                                        C  P  P  P9 `                           e                                                                              <                  <                                e                                    P* i  @  r                  w                                    9               e           e              r              e                9              e                   `  `  `          e `            5                8 <     P                 :                  < =                8 <                                                                                         J K   L i  @              R K q  	            R K U F W   i  @  Z                F  ^ [   T  $  B              B `                                                                                                                       k P                               k P                                 ` `            w  $  q B                 $  F                                                                                                                                 }                J    s                J    t                J    z                J    y               .                        R                r  t  q                                                                R Z                 R                 R                 R                                                  q                                                                     B                                      $                  B                 d                                                                                                          B                 B                    `k P[   P             q                               q                                  B                  q                 q                                q                                  q t  q                  q 
   	         ^ PF  T  [ "    %                  [             ^ #      $  B              [               (                   ) P[             e                                                                  1                2                                 1                2                                 1                2                                 1                2                                                    r              R                <                =                                 J                   e `\`h `c `N`p `m `i `  `  `  `              e  \ x  N m  i                 J                                                                     m               m              m  h              m  e  p  x  N v  w i               m               m               m               m               m               m              m  p              2 m     a  b               m               m              a  b  i  q               i  q               i  q              i     i  j                 n  i  l               h  i    q               h  i    q  j  U W              i    q  y                  h  i    q               q               q  	             J [    h  i  q                  J    h  i  q               J R                  J R  i    q                J Z   i  q  
             J Z B      i  q  r               r  B  J                  B  J i    q               B  J i    q               B  J h  i    q                 J                J                J                J                J                J               J p               a `b `              p  i                J    h     m  i  q  a  b     l  j               B  J i    q  
             } J h   m   i    q               B  J i    q               B  J i    q               B  J i    q                v                v                v                v                v                v                v              F J  h  i                    F J                    P   h  i  l  }              m                             F  k                   x  B                                              F W                r   i   @                                                                                                                                               B  w                                                                            e                                                                                                                                        D  @  i                                                   D  C                                    B                                                                       C                   B                                                                                       2               2               2               2               2              2  [                   r   	                  i  @                     r   	                 r   	          e                                                                      p                                 x  y                    x  y  #                f                    (                       p  - .                   0                                         0      ]      ^      `     u                        -      _            "     '                           &     <     >                                     '     0                            ?                              "                                                                            I$KE   #                  K        (                                      %    :  D  +                 3  5  6  4            ?             F  J  I     
      L  M     6      N  	  O  
  P    Q    R  \  S         T  X  Y  Z  \  _  a  c  g  h  m  s  y  5  6  |        %                                       
   h  m     
      j     
                    n          	               o                y  d    %     
    B           e               K             F               +    %               
             (      :  D        %                       
                    4       
                                             -        
                        7             ,  /   1        ! " #    
      ;    
    , 9             J  C I                                   b .        c f g h   ?   %  r s t u x z y |      y   Q                            
     R    
         
         
         
     D  
   Z                                       #        "                                                P   /  	  
 
 
 
 
 
 Q    A              "                                   d    
        ,    
    - +    
    - +    
    - +    
    - +                         #       > @ I     %  
   2   B G   A  ] [               <   L W O Q [ R  X Z \ [ ]    ?      =  ^ _ ` a b c d e f g h i j    P   k m o     t v { ~      |          2 a  b  
   2   [ R  X Z \ L W O Q 
   2    Q W O L [  R \ X Z    Z    0        L W O Q   [  R  X Z \    U    k m o { ~       |   v t      #     =  _ a c e g i    
                (                       
           #                       #                        F  I                               F                        x                        J           A               $ ' +  / 5         ) * + ,           &!!  p+   ! 4`+  8                a            9      <   9	   
   J         
   J   
   <   
   J   <      J   J      s <      J   J      s '         J   J      s #   <   <   9      J   <   
   J   <      J      s J      J       s J   <!   <"   #   <$   l%   <&   m'   <(   m)   <*      +   9,   m-   <.   +   /   0       /   0   m1   L2   0   J2   0   93   m4   <5   m6   <7   m8   <9   m:   <;   m<   <=   w >   J?   m@   LA   >   J?   mB   LC   0   J2   D   J?   9E   mF   <G   mH   <I   mJ   <K   mL   <M   mN   <7   w O   J?   mP   L7   Q   9R   mS   <T   Q   U   +   J.   s  U   U   9V   mW   <X   mY   <Z   m[   <\   m]   <^   L?   0   J2   _   9`   ma   <b   :c   <d   w 0   J2   _   J?   9e   mf   <g   mh   <i   mj   <k   ml   <m   mn   <o   mp   <q   mr   <s   mt   <u   mv   <w   mx   <y   mz   <{   m|   <}   m~   <   m   <I   m   <K   m   <   m   <   m   <   m   <   m   <5   m   <7   m   <   m   <   m   <   m   <   m   <   m   <   m   <   m   <   w    J   J            J   J      =      0   J2   _   J?   9   m   <y   m   <{   w    _   J?   Jg   m   L   _   J?   _   J?   J}   L   0   J2   _   J?   Jy   9      J      s <      J      s <   w _   J?   Jy         J      w    +   J.   s        l   L      9   m   <X   m   <   L?      9                        9   m   <   m   <   m   <   m   <   m   <   m   <   m   <   m   <   m   <   m   <   m   <   m   <   m   <   m   <   m   <   m   <   m   <   m   <   m   <   m   <   m   <   m   <5      0   J2      9      J   <      J   <      J   <      J   <      J   <   w       m   L         J   J   $           m   L        0   J2      J?      w    J?   J   )   (     J?      J?   J   L   .  0   J2      J?   9   m   <   m   <   m   <   m   <   m   <   m   <   m   <   m   <   m   <   m   <   m   <   m   <=   m  <   m  <5   m  <7   w    J?      J?   J=   L      J   J      M     J?   m  L  P    m    0   J2     9  m	  <
  m  <7   w   J
  m  L  0   J2     J?      w 0   J2     J?   9  m  <   m  <9   m  <;   m  <  m  <  m  <
  m  <5   m  <7   w m   s     r    J?   m  L   u    +   J.   s    0   J2     J?      w 0   J2     J?   9  m  <X   m  <   m  <   w    m!     "  9#  m$  <%  <&  "  "  9'  h    <(  m)  <   m*  <+  m,  <-  m.  </  L0  0   J2   "  J0     w "  J0  J+  91  m2  <3  m4  <5  w "  m6  L7  "  J7  98  m9  <:  L?   "  +   J.   s  L;  "  J;  :<  L=  "  J;  0   J2   "  J7      9>  <?  m@  <X   mA  <B  mC  <D  mE  <F  mG  <H  mI  <J  mK  <L  mM  <   mN  <O  mP  <Q  s L?   "  +   J.   s  LR  0   J2   0   J2   "  JR  J?   "  J;  J?   s 9S  mT  <X   mU  <V  w "  +   J.   s  LW  "  JW  0   J2   "  J7      9X  mY  <X   mZ  <[  m\  <\   m]  <^  m_  <^   s L?      J"   J   /        m`  La     mb  Lc          md  Lc    
   Je       e  9f  e    e  mg  L2   e  J2   9h  mi  <j  Lk  e  9l  mm  <n  mo  <p  mq  <r  ms  <t  mu  <  mv  <w  mx  <y  mz  <5   m{  <|  m}  <~  m  <  m  <  m  <  m  <  m  <  m  <  m  <  m  <  m  <  m  <  m  <  m  <  m  <c  m  <  m  <  m  <  m  <  m  <  m  <  m  <  m  <  m  <  m  <  m  <  m  <   m  <  m  <  m  <  m  <  m  <  m  <  m  <  m  <  m  <  m  <  m  <  L  0   J2   e  J  9  e  J  J  <  e  J  J  <  w    J   J   C   L  e  J  e  J  J  L  e  J  m  L     U     J   J   N   Y  e  J  m  L  e  J  m  L  e  J  m  Lw  8   b     J   J      f  e  J  m  L  i  e  9  :  <  9  m  <  m  <  m  <  m  <  <;   L  m  J  e  J  J;   w e  J  9  m  <  L  e  J  9  L  0   J2   e  e  J  w    J"   J   $        J      s J     T     
   9  L   
   J      J      s J   L?      J"   L     e  m  L  e  m  L    9  e  Jp  <    /   m  L  /   J  9  m  <X   m  <  L?     0           +   J.   s  L    J  0   J2   /   J       9  m  <  m  <  s L?     +   J.   s  L    J  0   J2   /   J       9  m  <  m  <  s L?     +   J.   s  L    J  0   J2   /   J       9  m   <  m  <  s L?     +   J.   s  L    J  0   J2   /   J       9  m  <  m  <  s L?   e  +   J.   s  L  e  J  9  m	  <X   m
  <   m  <  m  <  m  <  m  <  L?   0   J2   e  J  J?      w   +   J.   s      9  m  <X   m  <  m  <  m  <  m  <  m  <  m  <5   L?   0   J2     9  9  <   9!  "  <#  $  <%  &  <'  (  <)  m*  <+  ,  <-  .  </  0  <1  m2  <3  m4  <5  :6  <7  98  9  <:  ;  <<  =  <>  ?  <   @  <A  B  <C  D  <E  mF  <G  mH  <I  mJ  <K  mL  <M  mN  <O  mP  <Q  mR  <S  mT  <U  mV  <W  <X  <Y  9Z  [  <+  \  <-  ]  </  ^  <1  m_  <3  m`  <5  a  <#  b  <%  c  <'  d  <)  <e  9f  lg  <)  lh  <%  li  <'  lj  <#  lk  <+  ll  </  lm  <-  ln  <5  lo  <1  lp  <3  <q  9r  ms  <  mt  <u  mv  <w  mx  <y  mz  <{  m|  <#  m}  <%  m~  <'  m  <)  m  <  m  <  m  <+  m  </  m  <-  m  <  m  <1  m  <3  m  <5  <  9  m  <:  m  <<  m  <>  m  <I  m  <K  m  <M  m  <O  m  <Q  m  <S  m  <U  m  <  m  <W  m  <   m  <G  m  <E  m  <C  m  <A  <X  9  m  <  m  <  m  <  m  <  m  <  m  <  m  <  <7  m  <  m  <  m  <  w   9  m  <  m  <      9  m  <  m  <  m  <  m  <  m  <  m  <  m  <  m  <B  L    9  m  <  m  <   Le    Je  9  m  <  m  <  m  <   m  <  m  <  m  <  m  <  L      Je        Je  J  J      Je  9  m  <  m  <  m  <  m  <   m  <  m  <  m  <  L  /   m  L  /   J  9  m  <X   m  <Z   m  <^   L?     Je  +   J.   s  L    Je  J  0   J2   /   J      9  m  <  s L?     +   J.   s  L    J  0   J2   /   J      9  m  <  s L?   /   m  L  /   J  9  m  <X   m  <  m  <  m  <Z   L?     Je  +   J.   s  L    Je  J  0   J2   /   J      9  m   <  s L?     +   J.   s  L    J  0   J2   /   J      9  m  <  s L?   
   J  "       0         !  0   J2     9  <  	<  <  <  %<	  &<
  '<  (<  .<  $<  #<  !<  "<  m  <  m  <  m  <  m  <  m  <\   m  <  <  m  <  m  <   m!  <  m"  <  w    J   J   /   B    J  
   #    J   w H  $  9%  <&  m'  <(  m)  <*  m+  <,  m-  <.  m/  <0  m1  <2  m3  <4  m5  <6  m7  <8  m9  <=   m:  <;  m<  <=  $     J   J      \  $  m>  L,  ^  e  J  w  Ee%J%        P+ P -P@%       P( 	P@*J*@!e%@)e0+`02`%J>JRJYJ`J2P4e`0l`0s`
%JxJ|J  J  JsP4  `@  e%@  eP`*J   J  0  `% J  P4  `
%J  J  J  J     J  J J  J 4 J =J CJ Q   J f  J sJ {  J  J  PD ` 2`
% J >P9 `0 ``% P( PH PD ` `P eP``*J @ e ` e%J J J J J J J J J J J "J )J 3J =J FJ NJ WJ ` J o 0 x`%////O xPD 
e@ ` `0 `
P ` ``
%J J   J J J J   J    J P4 `@ ` `@ e; `%J "J P4 ,`0 2`
P`
%J @  J OJ _ J iJ 3P4 q `F yP`0 ` P`
P`
%J J J PD 
e e%J `*  J  0 `
P` % J P4 ``/0 ` P`` '_% J J #J )J LJ QJ rJ xJ J J !P9 ` P`P8%J J P4 ` P` 1_%J J J J J +PI ` `@ `@ `@ 	` ``0 '`/0 /`* J :J ?J DJ JJ QJ `J kJ t  J J   J J J J J J J  J    J J J J J J J  J J #J / J AJ HJ _J oJ |J 0 `
% @ PD ` ` `@ 
` `@ `@ `@ 
` `0 `*J %   @ `L 	P`/0 ``	
P ` P ` ` (P.``0 ,`@ e``/J @ e` P` +P'% J %P9 ` P` (P&%J J "P9 ` P` +P%%J J %P9 ` P` *P$% J $P9 ` P`/ J  J J 0 `PD eP`*J J /J HJ N  0 [`
% %****J h*** J uJ ~%*******J        @ %****  ***  *** *****  J J J J 	J 	J 	J 	'J 	/J 	6J 	<J 	CJ 	VJ 	nJ 	sJ 	J 	J 	O 	%J 	J 	J 	      J 	J 	J 	J 	J 
J 
J 
O 
%****** J 
'J 
.J [PD 
?e%J 
E0 
X`* J 
gJ 
wJ 
}J 
J 
J 
0 
`*J 
0 
`/J 
J 
J 
 J 
J 
@ 
e 
e`/J 
  J J 
J 0 ``/J ( 0 7` P` 0_%J 8*P9 >` P` (_%J ?"P9 G``/J TJ \ 0 o` #P` 5_%J p/P9 v` P` -_%J w'PI |` e`%''''''''''''  J J J J J  J J J J PD ` `
P)e  J J 	J J "J .J ;J IJ SJ lJ J @ ` `0 `PPp+     l     $   Hc$                                ,   ! ,                                `	Q0   0                              m    `EQ\   
\   )                               J   J        w ,` P$P   x   <                        ^   _`%                  KN   a   ` $`@L`Q            -   L                           $                               J           J   s          J   s  
   ?   
                !                  !``E	F``E	F` P PH	N+` `E	H`K	PL  <     ~   2                            u   0     }         
       $                 B         1                                     J   s          	      	     J           J   s       J   	             h        ^   _`m        
   J       Ks      2        J     J   s     &  &w         a     J      s &   & `)` `AF`
PCF	``EF		` `
PCF
	` 
`AF`*` $`P(`
,	`	P	PIL` P*Q0           u      l   I                       h         ^   _`'           J     w    a    `*` $`
PDL`$Q            /      PN   M                       h         ^   _`+           J       Kw    a    `*` $`PDL`$Q            3   L   r`L                               J   9     s  `P#Q   H<E   E                                         s       J   s     m   ,`
`P	`P)`5Q|   #|   8         	                     J         J          s s s &`PPP#Q   r   N                                             s       J   s     m    `
`P	`P)`5Q   V   L                            J      h              J      i    J      s s  ` PP#QD   9yD                                 J   s &`P#Q8   8                                 &&`&Qd   g	2d   )                                 s J     w    &`P
P$`$Q   }   Q                           J          
   s       J        J   's    &&` P(`	
P %Qx   o`x   A                                  s          J   s              &`P P Q                    #                 J   s  &   &   J   s  &J   s &   &   J   s  J   s &   &   J   s  J   s &	   &   J
   s  J   s &	   &   J   s  J   s &   &&`P*PP*P
P*PP*PP*PPQ  2)                          $      J            Y          K     s     3                   0(        @
 ``f/`!	`P(	` @<`@`$Q        a              B                h   p   wp   ;                              L       L      L      J   w  &`-`-`K`P$Px   Cx   >                                    J   J      s    J   *s L   &`
 PP)P|   |   ?                             J                    J   w    L   &	` `AF`	P$`+P      t                            J   ]         L      J      w           L                   &	`!	`+	`P $	`@	R             &   d   Od   1                                                s     ` #P(Q   h                                       J   J    s       J           J     s      	        J     J   s &.         J	       s s &.     J     J     KJ   &s   #           &.           .      ,`
`)` 2PGf `P 	` 	P*	` PP*	`	P 	`@`$Q         9         u   z                                     J   J      s                                J     m   s  ` +P)`@`	PCQl   6l   1                            0)           K         s  ` `EF`P#QX   X   !                             J      w    &`
	P$`$Q   4X                                                                   J     .         J      J   's  &            &` ` `	.		P' Ql   \l   4                              J   l      s J   l      s &`
P

P#QP   fP                                  J   l      s &`
P#Qp   op   7                              J         J            s &` PP#Q   a9                                   J                  J              J      s       h       J   m   s &` (` )`P PCQp   +p   ?                           J      s $      h      i       i      K `
P Qh   }'h   5                               5      J   s  J   m   s  `P
P#Qd   Jtd   3                                   5          z    `PQl   iel   =                              J         J     L      J   J   ,`.` `.Q  5S                               J      s         J   s  L      J   Kn   	      J   J   5             J   s J	   
   m   s          J   KJ            
      &` 	P(`P)` 
PP Q8   p8                               J   & `	Q                                 J   s  J   l   s             9         KJ        	      	   s J   9   m	   s &`P
P(	``EF` P
PCQ  tT  )                         J      s  K          J   s  s     J   !       J      s        K                    s           "c           KJ      %           h        Ki    N        KJ	     w              N       `P `
PP(` P `	`PM`.` ` `PN
`@`#QH   u H                                 J      s &` P#Q   Y   M                              J      J   's    J      J      J   's &s &&`P#PP$Q   Y"   X                                        )           &.     0(        &`*
 `f`` `$Q             7     ]  &        
       "           J      s       J                K     J   s    <   
      KJ   s J   s     KJ   s &         K              X             KJ   s J   s       KJ   s &&.    0(  "     &` P`.	` 
`FF`P ^

P	P@
 `f/` P

P 	PK`@`$Q            g   p   jp   ;                	              J   s J   s     J   s J   s  &&`P

PP
P$Q   B@    f                
              J   l      s J   l      s J   l      s J   l      s J	   s  &`
P

P
.
P
*
P
P#QP   3P                                  J   l      s &`
P#Q   C`                              J   l   m   s      /            J   l      s &   &         J   l	   
   s &   &&`
PH	``
PJF`
P*Q   (0   [                           J     KK               -           KJ   s  J   s &    ` ` )	PP)QD   >D                                 J   s &`P#Qh   Bh   8                             J              J         s &` P#Q   }:   L                            J   l      s J   l      s    l   J      s &`
P

P(`5P#QL  =,                         $           5      J   s                 J   s     *                &   &z w                              J	   s  &    `P!` P 
`PH@ `PP$PL  <                   4   Y   L   mL                                J     s &`P&QL   <+L                                J     s &`P%Q   ,r   K                           J     J   '       !        J     s       &`	.` "P*Q<   ww#<                                    &`*QL   G*L                              l   J      s &`P#Q   Nnl   H                              J   l      s J   l      s J   l      s &`
P

P

P#Q   Nnl   H                              J   l      s J   l      s J   l      s &`
P

P

P#Qp   Gp   5                                                 m    `"`3F`)`QD   :OfmD                               J     s  
`PQt   ki`t   E                              J   s  L                J      L   &`P)` Ph   ph   2                                  J   J      J   m   s /` 	PCQ   6   L                 
         K                 K         J        KKs & `*` `FF`P$Q   $   m                      $              J   m   w 7                                 /`!`P@+` `@	`$Q         8   *                 P   rP                                     0(   w  	`	P$P                                  h        J   s            &.     J   8        J     J           &s w      J    s &`	`
`P(f `PP.`P#Q         ,   U   h   Yh   1                                     J   m   w    /`'`
PD`%Q   3Rr   a                  	          6                  J          s                   	    `   P `	`+Ph   LFh   1                                     J   m   w    /`'`
PD`%Q   kF   F                                     J          s                 ` 	  P 	`+Pl   -l   5                               h          J   m   w    /`+`
PD`%Qt   >Et   :                            J               J          s w  ` PP$P`   bt`   *                                  J   m   w     `
PD`%Qh   y_hh   .                                s                   `	P-	`)	`KPl   0l   5                               h          J   m   w    /`+`
PD`%Qp   l+p   2                                s          J     w     `	P-	`P)Px   c2x   >                                   h          J   m   w     `+`
PD`%Q      n                          J   s        J      s C         J               J   	       s w     `
P(`P-	` PP)Ph   Qh   1                                     J   m   w    /`'`
PD`%QX   yX   &                                              `	 	`'	`KP   s   ^                                                               J      m   s  ` `PCQ   lS   A                              J      "        J      w       f `
P.`#Q             6   h   Th   3                                      J   m   w     `
PD`%QP   kLP                                      s     `P)P   \^   H                                        s J   s      J   m   s  `PP)`PCQP   )JP                                 KJ        s  ` P#Q`   z
`   *                                  J   m   w     `
PD`%Q   wS   f                                     J          s                                     ` "P'`
  	`.P`   z
`   *                                  J   m   w     `
PD`%Q   5   f                                     J          s                                    ` "P'`
  	`.P   
   T                               h       h          J   m   w h      i       i   /``+`
PD`
*Q   |   [                                     J          s                      J     w  	` P- P$Pl   -l   5                               h          J   m   w    /`+`
PD`%QL   nL                               J        Kw  `	P$Pl   0l   5                               h          J   m   w    /`+`
PD`%Qp   #p   2                                s          J     w     `
P-	`P)P   V:!V   B                                  J   m   s J   m   s J      s /`PJPJU#QX   X   #                         9     <          s <    `P(Q   Z,fp   _                          J       J                )                           ``-`  Q@   VPd@                                 J   s  &`P#Q  P                                 J            s       J   s        	      J   s        h     i    J      s J      s      J   m	   s ,` `P(	`P `PN` P
P)`PC	QT   1jT                                   J    s s  `PP#QH   "rH                                 J   s  J   &`P(Q\   H\   ,                                 J   s  J   s  &   &&`P

P*Q$  In                                 h         J           J   s  q      h           J            1   
      J       Kw   0(            ``5
F` `
P3
; `*
 ``f/`PD;`@`4
V$         _   @   X  QH                                 h                               J         	     J   s  q      h           J            1         J       Kw   0(            	``EF	`  `
PC; `* ``f/	`PD=`@	`DVX            @      9_   Z                             J             +              Kw    0(      &
 ``f/`		PD7`@P             :   D   DWD                                L      &`+`$Q8   58                                 K&`&Q@   s@                                    J   'K&` QL   L                                 J   m   s &`PCQ0   H0                               `%QT   jT                                  J   h    m   s &`PCQ      c                  
         J           J                J   s        h    i    	   s  `
  Z MPCQp   0p   4                                    s      J   m   s ,`P)`PCQH   Rb[H                               J     s  ` P$Q   !   m                             J             ;           K                 0(      &
 ``f/`	`DF7`@`"Q             J   p   Hp   B                                              J   s     J   s  &` 'PP#Q`   R~G_`   6                              J                     K   &` Q\   \   )                                  J   h    m   s /`PCQ   x	   u                          F                  J   s           J    s 	      
     J    w       ` P

P 	`
P)`#QL   krL                              h    J      s &`P#Q8   #J8                                 J   &`)Qp   N)^p   ;                                 J      J   s J      s &   &&`	
PP*Q   &   G                           h          J   m   w       J      s &   &&`+`
PD` P*Q   h   A                           J     s                 J      w     `P(`
`P)P|   (>|   F                           J   s      !        J   l   s       h        `
P'` PQ$  @T  a                           h           J            2         J       Kw   0(  	       J     
                 KJ      s            KJ            7         J       K  Kw   0(     "         J       Kw      0(  3       ,`*
 ``f`	P` 
 ``f/`  `` f/`PDM`0 	`	PI<`@`$Q$         *   A             F                   6@+   g                
               !!         J     w 6         J              9   	   w 
   &` `P.` PP   F)52   g                
            h             J   J   L     J   J   J     m   w    J   	   s ,`+`@` PD` P#Q  mp'     	                            J                J                     >         J         
      J   m   w          J      J      w )` `AF`O`	 `	 `PI	`AF
`


P$PP   B%P                              J      J     w  `


P$	P   3D   T                	          h          J   J   J     m   w       J      s &   &&`+` PD` P*Q      _                           J     J   s        7         J     J   J   s     &   &w     `P(`
`	P	P)P   [                                   s     !         J     w R         J        &    
         
        s    &w    &`P'`
`
P.`
	 (P	PP0  o            	                 ^   _`              K               J      K      	   N   	   h      i      i          L       L        w    V   a&` $`.`  `J`	.`.`.`	PD@
P0              H   u H                                 J      s &` P#QH   u H                                 J      s &` P#Qd   -d   '                                s J      m   s &`
P
PCQH   oXH                               J    J   N   ` `#Qp  p`           	                      J                        KK     q             	        N   	      J            h      i             J     w          KR  0(  >       	 ``f/` `
,`` `	 `
 `PI`O;`@`$Qp                L   "{L                                 J      s &`P#Ql   Cgql   6                                 J   m   s J      s &   &&`	PJU*Q\   \\   (                           J      J   s J      s  `

PP#QL   $|1EL                                 J      s &`P#Qh   sws)h   .                              !                    ` `3F`PQ   PmQ   k                           m       J      L           ^   _`           0(      a    `
`*` ` !`,`Q         6   '   <   N-?<                                 L   
`P  <2t           
               h         ^   _`            K               J     K	      
      J     s          a         J     w h     i      i         L       L        w    !   a&`*` $`.
`  &P `*`P$`	.`.`.`	PD0P              \   d\   .                              L       L       L   &`-`-`-P   7J   `                          J           J      s .            w    J   s        &`.fP-`	P$`P@P             F      T   Y                	               J               J              J           J   &	` `AF	` `JF`*QL   s<L                                       `PQd   9d   1                             J   m   m   m   s           `,%%EP>&Q<   ';<                                     `
PQ@   1@                                       `P#Q@   @                                       `P&QP   eP                                J   J     w &` P$P|   *zo|   >                             J     s !         J   J     w    &	`P-` P)PX   #~X   '                               J   J     s L   &` *P)Pp   qp   ?   *                                           J   m   w  `
PDP   Xb   t                       $     K   ^           KJ     h      i       i      i   w                  `!` 
	

P @P         b                 ?   <   n<                                J   0(L    ` P<   J,<                                J   0)L    ` P$   59$                                <  *<                              9      <   <      <      <   	   <
   L      J      J           9      w    J      J   J   J   s  L      J   J
      1         J      J   J
   J   s  L
      &`)*&**@`	 PD
` *P)	` ` 2P.P   =   D                               J   s  L      J    w    J     w &` P)`P$`P$P                   `     $      L       J   J   L      J     J   J   s    h      i       i   J	     J   s ,           J   L
        L           L      J      s            J      a        J     J   J	      s                         &&.L   =   !   l   J      J   s    &         &.   '     J   J   '   *     J   J     J   w .      J   J          J   w   J   J     J   J   s    J     J   J   w   J   J   )   ?       m   J     s 
w C     J     J   J     s L      J!   w      J      1   M     J   J"      P      P      P   P   L#     J   J$     J#   w   J   J      Y     J   J%   [      \     J   w  ^   ,   ^          J'     w `   &`-` `PH	` 	PM` `@`N	`P@` 	` P  `
P-	`0!` ` 	P)` %	PD`  P)	NPD` 	`0PPI` <P)`PD"` ` 	PD&` 	`P@*+`PJ-P    &   a                 D   )	<D                                 J   w `PP   J   }                            J   J         ,                 J         '   	     J     J   J   w    &` 	`  `P)P  <  H               =         9      <      J   <      <        J	   
      	        J   J     J   J   #           J   J   &            &L     J   J   M         J   J   l   s       h   i    i      K               L         J   J         %     J   J         J      n   +        J     ,       7   .           K     &KN  &.  3   '   3          s J   m    w 7      ^8   _`6   9       J   J!          Kw =   a&`%*/@	` ` 
 '@` & P `@	` `@`  ``f/`@=`@	`P
PI` $`  
PDL!P           F           >   @   tm@                                 J     J   N 	` P   L   V                              J   J   :         J   J              J   J   ,   &`  QX  X  S               :     $     J   J     K     J       J   s          :  	     L     J   	     J   J
   &Ka        J   	     J   s                       &K         J           w ,             J     w      J      s     (        J   s  J   l   s #      $     J   w  &     J   	      &K   *      J   ,        w    J   J   	      &      w ,   2          J     w 4         #   6     J      J   L   :   &` ``PH	`!	`+
` " P & P +	`PJ` P(` P*P `P9!` #P$` P +`PJ	`@`@PX  8                           T                k      #   A                      $      J   J     s               !` (PCN`!Y         +          9                           r)	\   o                       $    J      s                J   s                         !` P(` P@N`!Y         Y          g                     J                          	       $      5          J   J               J   s  z   .               J      w 	   !` #PPHN+`PJP         e                 B      v:   \                
             J   J            J            w    J   J           w &` 5P$` (P$P`  F`                              9     J              <     J   +        J                    <   L         J   s  L      J    w    J	   J
            J            J	   m   J      s L
      J    w &`) @` P)`PD	` `@PI`P$P`   `   &                             J   w         w &`P$`P$P  &  Q               !            J     J   s                       K     J   J       J   J      
     J   s       	       s    ^        J   J
   .        J   J
                    J     w      J   s  @        J   -            J   J     s 
w !   &` P `@	` `PM	`P ` 	`
N
	`PI	`P-` 	` PPIP  ~#                              J    w       J   J   L         J   J            L         J   J            L      9   L        L       L	      J
   w  &`P$`@` `@`/`-`M`P$Pt   t   <                              J      J   J      s L      J   w  &` 3P)`P$P   dc   k                               J   J    L         J   w   J            J   
   J        w ,` `	P$` 2P$P  p                              J   J   j           J      J   '         J      J   J   *         L        J   L                J   J      s    J      J   **s L	   &	` `& @`@`
 P#	NPI	Pt   J Nt   >                                J      J      J      J      L   &` 		
P)PT  =xD           
                 J   |         h        J             ;        J            Ks w    0(                       J     s         J     s &` 
 ``
`f/`	PPDK`@`4	F`/`"P,`PQT         9   J   4  Lbo$                         h          J          s                J   s       J            ;         J     J     s w   0(         `*`P LPH
 ``f/`PPD@`@`$Q4         b   J   d   Kbd   ,                             &   &      J       s  `//`$P#Q  ]  C                            s          J      J      s    h              &   &          J	                       K    J
       J	         `                  J     s    ,        J      J     s w      0(  F       `P "P(`
`( ``f/`.`.	` `*	` $P `PPI9`@
`Q         y        W                  :         J        e        J   Q        J   ;   
     J   (         J                            9       J     	   J
   J     	   J   J        J   K         J
     	   J   w    J
     	   J   J   w &       K'   (      J
         Kw ,     ^-   _`k   .         K       1       "3   %   4         J     s N7   7   a     J   L      `/` C `3F`
`` `@
` `	
P$	PI` `		PI` $`.	`  ` &PJL` `Q        b  s   d   $.d   :                                           K      m      N/`@Q   x   C         
                       J   h     i    J          s s s ,` PPP#QP   ` |P                                  s J   J       `	P Q   +S   Y                  	             s         J     s                      K  w    `P'` P $P$`#QT   &~T   !                               s J      L      `P `#QT   &~T   !                               s J      L      `P `#Qh   Oh   +                               s     J   J     w    `P'`P$`#Q   s   z   	                                               J   s              s    J   s  L       m   
w   )`  'P.`PP)`P$`#Q<   z<                                J   w   `PPx  4,x     	                              s                         J   s          J   '           J   s  L   f        J   J   s        J     w   J	   J
      J      J   s  s   w        m   
w   )`P'`  'P.	` `P `P(`P$`/	PP/CPI`P$`#Q<   z<                                J   w   `PP      |   	                                 s          J   J   s  &       9      <      <	   s J
   m   w       &)`P)` P*`

P
*PD`+Q   u|                             J   s       J   s          K            J   s      7   	           &   &  J   s &&.       `
P`
P(` P(``
P P   L   ~                             s   h             K  I        J   +         J      J     s w           `P'`*f ` 	`PP `$Q             Y   P   zIP                                  s J      s  `	PP#Q|   }:L|   :                  
                 s J      s s J      J   s  `
PPP
.
P#Q   Gu   g                  
            s J                  J              J              s  `P,f "` `	P#Q             >   ,                                  s J           h                    J         	     J     
     8      h     i    J         s J   s  s    h     	`P `EFf "` 	`	`P
PPCF`%Q,         *   >   P   zIP                                  s J      s  `	PP#QP   zIP                                  s J      s  `	PP#Q      @                  
             s     J   s  J   s  J     J   s  s  `P'`
P
P

PP#Q   m   C                                            J         s s  	`/`P,`
PP#Q   5Y\                                 s               J   s      J   s      (   
      J        s #                   K    `P'	``	PCF`
P(` )P Q    u                                 s           J   s       J   s      (   	      J        s #                   K    `P'	``
PCF`
P(` )P Q  9#&                                s   +             J   J     s s 
     J   s      (         J        s #                   K    `P'	``	 )PPCF`
P(` )P Q  H'%                                s   +             J   J     s s 
     J   s      (         J        s #                   K    `P'	``	 %PPCF`
P(` )P Q      M                	                s           J   s  s      J        s &`P`PP(`"	P#QH   AvPKH                               J      s  `'P#Qx  agx                               s      J   J           J               J         J    K#         J    K   s       J	    K         J	    K      J    K            J
                 J    s  `P'	` ` `AF`/` `	PCF` ` ` `@F
`
P#QP   /a P                                  s J   s  J    `	P
P(QP   /a P                                  s J   s  J    `	P
P(QH   x![H                               J         `P#Q  	                                s               J         J                5   	      J          &   &   s              	`P `AF`-	` `AF	`/  PP `AF`!Q   wh   E                               s                   J     s J    w    	`P `AF`P
P$`#Q   j   E                               s                J     s J    w    	`P `AF`P
P$`#Q   4]   t                               s                J     s   J    s    	         	      	   K w    	`P `AF`P)P ,P$`#Q   X   =                	              J   J         w        s J   s  &` P$`
P
P#Q   B\   =                	              J   J         w        s J   s  &` P$`
P
P#Q  }Eg                               s     J            |         J        J   $      l   J      J   s            J      w               `P'`-f.`.` 	P 	`
P)`@	`#Q               P   |P                                  s J   J   s   `	PP#Q   V#   `                              s        s       J     '                      `PP'f `
`A@`!Q              8      9   H                 
             s      J     s       J      K   Kw    `P'`P(`P$`#Q  xE1  "                             s                       J   s        J    K      R   	      J   J     s              K                	   6               
       s                                      `P'` .P,` 	`.` &P(`@	` ` P@
F	` QP   zIP                                  s J      s  `	PP#Q  T6  #                            s     J       ^   _`             %        J      Kw    
                         =         J                         3                       J   s        KN      a   `P'`M` $` `
PN	` ( ,P@L`#Q        !         E                     
             s     J                          /       
h>   	      	    	   L      `P'` `#Q  .  @         
                    s         s J      s                   	   *   
   9     J   <     J   <	        J
       J       J       J          L        L        L     J       J         L       L       L   9     <     <	    `P'`P
P(	` `MF`-`.`.`.`/`/`/`-`-`.`.`.`	)Q  j                                s      J        s                      Y   	     L     J      L   	   J
   (        J   L     J   L         `P'`P(	`  `*`@` 	`/	`@`#Q   )a~   }                               s     J   [         L     J     J     J     J     J      L   L   L   L   L	         `P'	` `*`@
`#Q   e                                  s     J                  J   J               L      J        s             	           J   	   L         `P'	` `CF` 
`P ` `#Q   cq   |                               s     J                J     J                       J   	   L     L      `P'	` `CF` `*`#Q   (                                B         1                         3         J        s       	   	      J      s  ` `P ,`A	F`	PC	Q`  \q`                  -             s                                    J   s        J    K              J              J    K          x        J	   
   s             J   l   s    -         K             Ks d+                          "       #   #   $     J	      s    '   (   (         J   s  &K   &-   -       `P'` IP,` 	`  `@	` `P  P ` 
`PFF	`AF	` ` 3P 	`
PKF`AF`$QP  P                                s     J      s      J                   5   	        J   l      s L     &       
h>               J   l      s 	   & d*&
   &L      `P'`P`-	` `
P)`C
K` `*`
P# `#QH  8H  x               ;                       s                          J   s           J   J   s     h      i       i      i   	   i   J
      s         J      s          B         1         ]      	                        J   s  &   &L         z               J   s  &   &L         =   "            J   s  &   &L         )          J   s J   m   w    J   m   w        J   s J   m   w $   6         J   s  L   9       m   
w     `P)`  'P.` P(	` $P-` 	P)` `
$P `-` `
(P `-` `
,P `@`
P
P$`P$`
P
P ` PN`P$`%QD   PyD                               J     w  	`PP<   $9<                                J       ` PD   PyD                               J     w  	`PP<   7/<                                J   w   `PP   8                     
             s     J          
!?Q                   /       
h>   	      	    	   L      `P'` `#QD   gWD                              J    s  `
P#Qp   9p   8                               s J    s                  `	P
P QD   q*D                              J   J   J   s   ` P#Qt   t   E                          J      s       J            J             `P(` Q   Y*                                 J      9      J   <      J   <      J   <      J   <	      J   <
      J   <      J   <   w &`%......N
P4
P   )Q   p                           J         J    K                 s J    s        
     J       `/` `	P
P(` Q   0sh   I                  	         J           J    s       J   J   J      s  ` `
P3F` .	PQ`  P  4     	          j             m     m     m        J         J   J              	   J
         J   w 	   J
      J      J   J   w 	   J
      J   J   9   	   J      J   s <   	   J      J   J   s <   	   J      J   J   s <   	   J      J   J   s <   w 6     J       9          K   :     C   ;   	   J
      J         @   9   A   w M   B     J      "   F     J     w    H        w I      J   J   K         J      J   w       J   J      J   w V      J      X      J   J   ^\   _`_   ]          s         `   %   `          K  J   w c   c   ac   	   J
         J   w    P    ``@`/`
P$`
P$`%
P(P(P(PHPI` `*`@`
`
 P 	`	 `P.
`PIC` `

P$`PIH` ` $`P(` `*`		PDI@P`	
P$`P`          g      6R   u                           J   s       J   J     K#         J   J     9   N      J      J   J     K   w  `
P'	` ` `  P$P  '             
                           J   J        ^   _`h            K      	      "   %            J     s N      a ` ` ` $`-` 	` *PJLP        0   p     g<V  G                E       9      <      <      <      <	   
   <      <      <      <      <      <      <      <      <      <      <      <      <      <       <!   "   <#   $   <%   $   <&   '   <(   '   <)   '   <*   +   <,   -   <.   -   </   0   <1   2   <3         K#   !   4       K&5   &   $   6      K   '   6      K)   4     &5   &   6      K   .   6      K0   4     J7   s  &5   &   6      K   7   6      K9   6      98   N6      K9   J:     s J;   L<   6      K `%

*


*


*


*



  
  
  
 @	` ` 	` `JF`/	` `JF`
P/	` `JF` ` 1P.`*Q<   E<                                 L   &`P  m          	       .     $              s L        J   s  L     J           J   J   
           J   J     J     J   w              J   J   J	   s     h   
   i       i   J      s ,        J     J   s  w                         J   J   J   s  L     J      #     J   w  %     J   h     J   J     J   s i    w ,       m   
w /`
P)` PI	`!	`  		P +` P(` P-`PP `0 ` (P)` `P)` $	PPI`P$P                     p   +   <   =<                                J   w   `PP   b}   `                             J      s            J   &   &L          J	   KJ	   KJ	   s &` 	P(`	# `
 P#QT   ~n!T   $                              J   J      J   w &` 	P$P`   `   (                            J   m   J      s w &`
LPCPDP`   s`   ,                             J   J   J        J   w &` %
	P$Pp   N-p   9                              J   J      J   w    J   J   w &` 	P$` P$Pp   52p   3                            J   s J   m   J      s w &`
P
LPCPDP`   h`   ,                             J   J        J   J   w &` 
P$P   _   A                              J   J      J   w    J   J      J   w &` 	P$` 	P$P`   `   (                            J   m   J      s w &`
LPCPDPP   P                                J   J     w &` P$PT   T   $                              J   J      J   w &` 	P$P`   g`   (                            J   m   J      s w &`
LPCPDPd   Td   1                             J   J   J        J   J   w &` %#	NPDPL   W_L                                     s L   &`
P)P   C   A                             J   J   J   l   s J   m   s J     w &` P
PJP$P4   +4                              J    `*QD   3D                                J     L   &` P   j;   a                             J     s              J          s J     s J      s w &	`P`AF`	P
PPP$P   nV   a                             J     s              J          s J     s J      s w &	`P`AF`	P
PPP$PX   yX   $                                  s J      s &`
P	P#Q`   =C:`   -                              J   s  L      J   w  &`P)`P$P  ox                  F       
     5      J   J   %      l   J      J   s       	      J   s        J         J	         J
         J         J      K'            J      KL          h      i       i   L         5                  l   J      s !     "            ^#   _`   $    	      	  K      J      s       (      J   J       	  K   $   .       	  K   s 1   0          	  K   J      s 5   w    J      K   s       9   9   a9      J   J      w        J   J      s z ,     J      J      J   N@	` #
P `PCF` ` ` `@	` ` #`AF`@f  P `+` %	` `P `  !P- P
PHPD`P)`J@` P$` P)` P        m              c    GC  
               5          J         J        J        J      K%   	        J      KL         h      i    L         2                 l   J	      s                 ^   _`           J
       Ks           J   J       K   !   !       K  s .   #          K   J     s (   w    J     K   s       ,   ),   a,       J   J      s L      J     J     J   N&``/`O	` ` !`AF` f  P `)` $`	P `  !P- P
PHPD`P(`J@` P)` P                        @     ?   i                
                             J   &         J      J     s       J     s &` 	` `$	PCF`P#Q`   6
>`   (                             J      s J     s &`P
P#Q8   #J8                                 J   &`)QT   RtT   '                                 J   J   s  &   &&` P*Q      S                           K                    KJ   s  &   &  KJ   s  &   & ` `EF`P$& P*Q   (2   U                             K        K   N      J   J     KK   J     s  ` ` P
6P#Q   I7                              J   J     KK                                 s 	         J   J     KK   J     s  ` ``EF` `	PCF` P
4P#Q  :Zh                  ,        K      J        J     h            2              	   l   J      s    !            ^   _`           J       Ks             K              K  s -             K   J	     s        J
        J     J   's &   &w    J     K   s       (   (   a(        J      s &   & `
`/`O`*f  P `)` $`	P `  !P P
P-`P
P$`
P(`J@	` 
P*Q                     3   b  T   1>T   #                            J   J   J        s  	` JP#QT   1>T   #                            J   J   J        s  	` JP#QT   }=T   #                            J   J   J        s  	` 1P#QT   gdT   #                            J   J   J        s  	` @P#Q`   1`   *                              N   J   J   J     s  	`` -P#Q`   7q`   *                              N   J   J   J     s  	`` 2P#Qx   ex   9                           J   J         J     s    J     s & ` `PP$Q$  Z$           	       &        K                                          J   l   s    '           &   &   K&	   &     J   l
   s             K            N      K             Ks               K             Ks                         J   9     <     <     <   s &    `+` `/` `/`P `
MF`P ` `.` P ` P `J`P
!%	I*PCV|   I|   D                             K        K   N         J     s  ` `P
NP#Q   $   W                  
         K+          KJ   l      s N            J     s  ` ` 
P*`P
KP#Q   n   N                                  K  ,        J     w    0(          `	f 	`
PD*`@`#Q             >      %   G                                   K  %        L      0(          `	f 	`K.`@`#Q             7      )   G                                   K  %         L      0(          `	f 	`K.`@`#Q             7      @|                   -        L            J         J   '                        K      J   $                J      !           0(  L        0)  p               J                 K   u         J   $   "       $      J   &   !   '        0(  L   +     0(  w-    `*`- `` `f ` `  `@V`0  ```f `  `@P`@P          :                   P  @            	               J              h           J            g          K  J   7   
     L      J      J     s w      0(        J   J      s  ` `C	F`* ``f/` `+`PPI0`@`  P#QP         :   v      g   |          
                J        h             K  @         J       J      s w   0(        `/ ``

f 	`		 PPD<`@`$Q             R   l  /|L            
                J        h             K          h           J     K  f   	     J           J                 J     w      0(       0(  F      `/ ``

f  ``
f ` -`PIK`@<`@`$Ql         K   ~                   Y                   
           h              K  W        J     s             J     w       0(   
     & ``

f `P(``PI<`@`$Q             i      U~   |          
                J        h             K  @         J        J     s w   0(        `/ ``

f 	`		PPD<`@`$Q             R      g   F                              J     ,        J                 !f ` `C@`!Q             =      g-   F                              J     ,        J                 !f ` `C@`!Q             =   h  Y1UH                 "         J   s   h          J       C                o   	     	       K  >        J        J    s w   0(                 K  s                              K  S        J   J   s            J	     w      0(                 J    s "   &`
P'`
`/`-`M`  `	f `		PPD4`@	`DK
`
P,` `CF `	f ` P	`PI0`@	`DK`
!P#Vh         c   P            e   L  )t  	                A           s       J                    ;   	         
   h      i          h            ,               r               K  F         J           h      i         0(     6         {               K  O         J	        s        h      i    !     0(  #      #    
      %     %       K  U   '      J   J      s      -   h      i    .     0(  0      0      K  s   2     2       K  A   4           6   h      i    7     0(  9   h    :      !   ;      J	       s >      ?   h      i       @   h    A    `P
`/`  
` @F`-`-`  `	f `	`IF4`@`  `	f `P `IF	4`@`  `	f ` )P&/`IF4`@`
PL `	f ``IF0`@	`EF` +P # QL            X          0  a            g          N  S      3   ^                                                K  s         J   J       s &` `
P,` %P#Q  d           	               /         J   J   h    i    s          &   &     h      	       K          J       J         ]         )           &   &J      s            J     w      0(  T      `` %P,`/ ``
f 	`.` `*`  P `PIK`@	`$Q         [         Oj                          h                K  R         J      s          J     w 	     0(         `* `	f `P`PI.`@`$Q             d   p  Q`            	                       J      s         J    K   h               K     	      J      s           6             s         J     w      0(  s      ``P,` (`* `	f `P(` `*`P`PI.`@`$Qp         K         H5                                                   K  s                J      s         J    K    s &` `
P,``P,` P#Q   vw                             h              K  ^         J   J     s               J     w 
      0(          ``

f ` )P`*`PI<`@`$Q             p      |b                             h              K  ^         J   J     s               J     w 
      0(          ``

f ` %P`*`PI<`@`$Q             p      d                            J        h             K  r         J     s    	      J     s            J     w      0(        `/ ``

f `P P `PI<`@`$Q                T   ZNuT                               J   J       s  ` 	P#QT   jVT                                J   J       s  ` 	P#QX   +|$X   !                            J   J       s  ` 	P#QX   NX   !                            J   J       s  ` 	P#QX   R`X   #                            J   J         s  ` P#QX   6oX   #                            J   J         s  ` P#Q   '   <                           J         J      J       s   s  `/`	P(	P#Q   S                                       ?               h      i          h               s J   h    m   s  ` ` @F`P
PCQ   2%   W                  
           '   ,          '   +            J    w 
      ` 
 `

P)	`#Q  %G.  l                R        J         h                                            J      h      h         J     w          K  m        J	   J
   @         J     J	     w   J     J	   w      0(      J   l   s            s            K  I   "     J       %     J     w '     0(  )     )    J   l   s   j  ,     K      /     N0     K   2         Ks    5   5       K   7         Ks    :   :        J   J         J   s       J   	  @       K     B   
  B   
  	  O   D     J     
  K   H     J     w J   
  0(
  L     0(  pN      J     w    J     w    ` `EF` `.` `.``
`*`P$ `	f ` `		P$`	PI.`@`
P-	`P' `	f `		`PI0`@`
P ` `.` P ` P ` P( ``f  `f/`	 `PI"`@D`@`	P$`	P$`$Q                      R  [            ^               ,                              h              K          J      8        J   $        J   J   l   s                  J     w       0(   a       ``

f@` + P `*	`PI<`@`$Q,               P  ?7@                            J             J    s      J     w   h      	       K  E        J           J     w      0(        J     w    `/`
$P(`P$ ``

f ` `PI<`@`	P$`$QP         T   W      cWL   r                 	         h              K  E        J           J     w       0(   	       ``

f ` `PI<`@`$Q             W      1   r                 	         h              K  E        J           J     w       0(   	       ``

f ` `PI<`@`$Q             W      81!   r                 	         h              K  E        J           J     w       0(   	       ``

f ` `PI<`@`$Q             W   4   r4   	                             
`Q4   9'4   	                             
`QD   VaD                              J    s  
`
PQD   YtD                              J    s  
`
PQD   !ni^D                              J    s  
`
PQ`   `   *                              &   &J       &   &s  
` 
PQx   wBx   >                  
            J   s  &   &J       J   s  &   &s  
`
P 
P
P&QH  	V8            	                    J   s        J       J      w   h      	       K  E        J           J     w      0(       J      w    `
P`/`P$
 ``
f ` `PIC`@`	P$`$QH         Q   W      ;g   a                                         J                  s           K 	`/``J`
 P Q  }  #  	                          J      s    h          J   l   m   w h         J          J     	       d              KJ	   s         J
       J     s w   0(       !        J     s            )` P`+`,PD`
`/
 ``f/` PP(`		PPD>`@
` P Q         t   s   T   *+qT                                J     KJ   s  w  `PP$Pd   gGYd   )                              J             s s &`"
PPQT   @T                                  s J   w     `P
P$`#Q   l   Q                          J   9   m   s                       J      s     `
PH` +P(QL  nL                           J          J             J           s J   s                 "c           KJ      %           h        Ki    N        KJ     w              N      ` ``P

P(` `.` ` `PN`@`#Q`   xh`   &                            J      J     s  s  `PP#Q   Wb   :                  	                 s J      s s J   h    m   s  `
PPP
-%E2PCQ   k   V                            J   J    J   J   s  K*        J      J    s w       ` 'P.`
PP)	`#Q  J  V         
       "            s     J      s               ,             s J      J   s      h         J                       K           J	       &               J
             ,        J      J     s w       0(  H"      `	P'`PH	` `
P

PCF
 ``
`f/`.`  $ 	`*`PPIN`@`$Q               x   &x   7                               s      J     s J      w    `	P'`PP$`#Qx   &x   7                               s      J     s J      w    `	P'`PP$`#Qd   1d   '                               s J   s  J   m   s  `	P
P
PCQ   .9   s                           J      ^        J   J      h      i       i      i   J     J   J	   s  s     ` # 1 PP(Qh   IJBh   -                               s     J   s  J   w     `	P'`
P
P$`#Q  Ta  *                !             s      J          9      s   J         J   s L      N                  J   s           J    J      w      J	   
   s        J
               J
   L
         J     J      s      `	P	 PG`-`PI	`.` `P-`PI	`P `@`PP#QT   5%PT                                  s J   w     `P

P$`#QT   5%PT                                  s J   w     `P

P$`#Q                                    s     J           J      \        J   s         :      9         J      N   J     s        `P'	` `
P(`	,`*	` 	`PCF
`%Q   ;   E                 
             s     J   J   s        J   J      K  s  `P'`P(` (P#QP   ]rP                                  s    L      `P.`#QH   o0H                                  s J       `	P.QP  wY0                         $      s     J   w    J   d        J   J   s     A      h      i       i   	   i   J
     J   s            J   w                        `P!`
P$` #P 	 'P 	`
P  `#QP  @                         h   3h   -                               s     J   w    L      `P'`
P$`*`#QT   -T                                  s     L      `P'`*`#Q   ^   ~                           J   J   s                     '         J   J   J     s 
      J   J   J	     s  `P 	` .PC6 	` )PCQT   %T   ,                           J           J             ` Q4   =4   
                           J    `(Qx   Lx   F                               J                           K  s &` # P#Q   >   P                           J          *        J     J      Ks          &`-` %P Q0  8            
                 J                  h              e        J     K    J   +   	      J     J     s w      0(        &`-	`	`A	F
 ``
f/` ` `PPI.`@`$Q0         8   t      /   L                            J     s J      s         J           J      @`PP Q$   59$                                   ,+   ^                
             L            s L       L         J   s  L      J   w  &`-`
P)`M`P)`P$Pp   p   5                                  J   J      s    J   *w &` PP$P(  H (                             J   s          J                       J      *   
         J   s        s        4        J     J      w      L      &`P(` %  	PP.	`.`	P$`@PX   621X   %                              J   J      J   s &` 	P#QP   qslP                                  J      J   s &`	P#Q$   59$                                   b                                     s L       L         J   s  L      J   J   J   s              J	   w  "         J
      J   w    &`
P)`M`P)	` P `PN`	P)P   a7-   a                	           J   s       J      4        J     J      w      L   	   &`P(	`	/`	P$`@P   Z   A                	              J      J   s J      J   J      s w &`	P
 PP$P0  qJG0                              J           J   J   s                     >         J           J   J	      s w >         J     
      J   J	      s w       &	` `P ` PP$` ` PP$`JPX   621X   %                              J   J      J   s &` 	P#QP   qslP                                  J      J   s &`	P#Q\   10\   +                               J           J      s  `	 P#Q|   %|   Q                  	         J           J      (        J           J   	    ` Q|   zp|   Q                           J   B        J      J   J            J   J   
   &    `  Q|   zp|   Q                           J   B        J      J   J            J   J   
   &    `  Q      R                           J   +        J   w    J   w          L     L       	` `
P$`
P `*`OP   gP                             J     s          J   A         J   ,         J   J   s   J   s              J             `P(f  P
P ` `$Q             r     j[Q                             J            h    L        J   _         J   J   h     i     i    i    i   w   J      w o        J   ]         J   J   h     i     i    i    i   w   J       & w    &	` ` 	` ` 	
P$`

P.` ` 	
P$`
PI	P    }:f                              J                   J   J             U         J   J        J      Kw    J      KN   0(         L   &	` `AF
 `` f/` P$`@B`@`,P          ;   d                                        s                  -         J   J      	     J   
                   J	        w  `P'`@	` `N`	
P$P  Kl                         $      s                  -         J   J      	     J   
                  J   &        J      w P        J	   >        J	   
    & w                  `P'`@	` `N	` `

P.`!	`
P @P  |                            I                                   J   @         J   J   &         J   J            L         J   @         J   J	   &         J   J	            L
   &`,`,P   1S                     	                    J            &.       J            &.    J          h     i       i    ``&!6 ` ` `,`-`	)Q             b      1S                     	                    J            &.       J            &.    J          h     i       i    ``&!6 ` ` `,`-`	)Q             b     	x                                      J            &.       J            &.    J       {        J            f         J        s     	           
                        h     i       i    ``&!6 ` ` `,`-` `*`P(` $`J`-`	)Q               0  N                             J           J           J                   J        	        J      ?         J        s                     J    	` `H	F	` `C	Ff , `P 	`C	@`*Q0         A   n   @  L@                              J   "         J       s        L       L         J     s L       J   K `          J   K  J   &=          J   K #          J   K  J   &   &	` `)	PCF`-`-`$PI`   /Qd  _N0vd                 &          J     s          K&  J   'L         K&  J   'L       J     s L     J     J   K r        J     J   K  J   &I        J     J   K )         J     J   K  J	   &&   &`PH` ` `$PI`	     /Q   N	8                                             2         J   K J   &   J   ' J   +        2         J   K J   &   J   ' J   +   &	``AF	` `	*	IF	` `	*	)V,   `                  "                        J            &.       J            &.    J      J   7         J        s 	                 J     S          
   J           J         T           J            '.       J            '.       J     j!   h     i       i    ``F`(!6 ` `@	`	 `	P *`J`@`(!6 ` 	` 	`@`@`	)Q,                              [N  P        
       R            J   9   <   <   <   <   <   <	     K      9
      s          s      J     s        s  h   i    i          J       s    9         J    s      J     s            J   @   $     /K   J   J	   '.N  /K   J   J   '.N2      J   5   4    J     K  K'   J	   &   &L   <      J   5   >    J     K  K'   J   &   &L   F      J   &   H    J     J      &L   L      J   &   N    J     J      &L   R   &`%&&&&&&@PH`P'`PH`P'` `F	`P `P(`PM	`
 ` `@ ` ` ` ` ` ` ` ` P(  {(           
       2             s     J   J                   J   w     J     s       K     K    J       J	         
      J   J            s 'L       
      J   J            s 'L       J   J   L       J   J   L     J      L     J        &L     J        &L     J        &L     J        &L    `P'	` &`AF`	PD`P(`+`+`-`M`! P*`! P*` `@` ` ` ` ` P  `  @                '             s     J   J                   J   w    J      L         J   J            s   J	            '         J   J
            s   J            '    J         &L     J        &L
     J     J   L     J     J   L    `P'	` &`AF`	PD` ` P ` P@	` ` ` ` PL  N,s<                                       J            &.       J            &.    J      J   6         J        s 	                 J       U   h     i       i    ``&!6 ` ` ` `P -`J`,`M`	)QL               3  `\      P  `    `@  (  $    G H "    `~       `  `  `   
     `  p	  `
  `f    %      `~  &    `f  h  3  k        '    o  (  )  {  5  *  }    `(    `(    `o  "    @  `
   0     ` /    p  `
     2  0    ` /    p  `4    `  `      `  0  6  @    `        `"  8  -  9  4  :  T  ;  :  <  =    `@    `  `C  D  E  F    `H  I  ,  D  G    `G  K    `E  C     `   x  !  `   6   V  @    W     x  L  #  `"  `T  V    p$  `T  %  `&  @  W  &  `    P     P'  `    P   (  `  y       b     *  `     )  `y       b     e  $  p,  `   +  `c  e  &  p-  `6   j  k    l  /  `r  .  `      _  l  n  @   o     )  pr  1  `  =  h   /  @  5  N   r  (  0  `\      P  @  &  o    @+  p2  `     3  `W  @  x  z  {  4  `   5  `  -  @        6  `        7  `T    P/    P    P  P_    8  `T  	  P-  :  `x  M    {  4  9  `T  
  P4  p"      P  '    P  ;  `%  <  `X         =  `    P@    P     P  >  `       (  )  ?  `    %  @  `  A  `  B  `@    C  `   D  `  P  E  `    P    P    P  F  `    P&    P<    P>  H  `  G  `  A  pJ  `          L  `\  x  L  K  `  T    D  pN  `M  `  F  pO  `  P  `y  @  (  W  e  R  `   K    Q  `   I  pT  `   K    S  `   K  pV  `(     K  U  `   M  pX  `  W  `   O  pZ  `(  Y  `   Q  p\  `    (     K  [  `   S  p^  `  ]  `   U  p`  `@  (  _  `  W  pb  `a  `   Y  pd  `
   c  ` W  e  [  pf  `   K  e  `   ]  ph  `   K  g  `   _  pj  `   K  (  i  `   a  pl  `(  k  `   c  pn  `(  m  `   e  pp  `  @B    q  `  o  `e  g  p  h  p  B  r  `e  t  `  s  `   K     h    0  e  k  pu  `y  @  v  `  y  %  >  w  `y  @  (  x  `  y  @  (  y  `@  z  `@  {  `|  `@  ~  `}  `  u  p  `0  N   r      `o  w  p  `    `   y  p  `@    `y      `@    `    (    `o  ~  p  `0    `@    `[  e  o  %  5  *  ]    `o    (    `     p[  5  *  ]    `@  (  N   r    `    o  "    @  `   x    `x  B  N   r       p     `6            4     p5  &    `o    B  (  x  )    `    4     p{  5  *  }    `   (  =       `    x  B    `  x    `  B    `x  B    ` o    p  `@  N   r  (    `      `e  o  %  5  )    `  e    p5  *      `      `x    `  p    x      `      (  x  B    `         `    5    `         `    `    `      `      `>  ?    p  p  p  `      `    (    `      `h  
     `  `     p  `      `      `  `  @              o  "    @  i  s    `            `   `<     o  +               ?  &    P  	  
                    p,           `   `       `x  B    `"  @  !      " $ #       &    %    	  
      P@   ( ) g  (  h  @        p+   `      `   	           , - .        ` / % \      P1       `   `  2   `  `/ 3     `  `     4        `   ` 6              `;   `$  @, 9 8                   p,      `8 , 9   4  g  a  $  > ?    ,    `     D  A &  @B 8 <      ` C ,    I    `B    D G       
     ` A 4 E  I  ,  D  G    `  7 8 <   B   `    $  M N O (  P   `S T   I   `$     V *  y  X Y @  R   (  H "    `     [ \ ]     (  @H "    _ `   o  a b     `
   0     `  p  `$    d e   `$  H c g h   `$    e d   `$       d   `$  i j   `g    `     $  a  l     p  `g    `$       l a  '  m n i o p    p  `            =  %    `$  <  [    +  @ >   R      p>    `$  \ (  H "    `$  r i   ` $  V *     H "    `$  v \ w   `$  v \ w 0  y   `$  r {   `$  r w   `$  z   0  y   `~   $    `$  i s ~    `$  u t ~    `$  ~   z    `$  ~   y    ` $  /  ~    `  Q   `$       (  H  D   r     `$      `$      `H    `$  R @    y  X Y   `$  H       `$  H      `$  H          `  
        `  
        `$  v w \   P  r  j   `$  l      `$  i   `$         `$    |              `$      `$         |    `$          `$   d e ,  @             -  @ `$  H                 `$                `$        H  c   `$            `      H      `$     |                P     d e     a  `$              P  P )  	 `j 
 `v  `   `g   `$       [                a   l        n       p6    p  p   p `$         `  `$    `      `   r   `o  "  2  @   "        `H   $     ` H _ a  `  H _ ` 6  @o  "   `H "    b  `7  @     P  	  
 /    	    
 
 
 
 
 
  Q      A                  !   # " $ H     8  @         `	 p
 p p     H _ ` o  "   9  @+      @  :  @N   r           a    `(  `g   `$     a  ) ( *  `[       + , '  m   - p   p `       )  l   n   `  0      `   i 3  `    p,  ! `  n    6 # `   3 v " `      p,  $ `  n    6 & `     % `    p,  ' `  ;    ) `   i 3 w ( `    p,  * `$     , `@  + `   R      P   p  - `   R . `     0  5     / `       5     0 ` 5     1 `\  J > 2 `       !  P  J @ ~ A    B C D E "  P  (  h           F    5  
  3 `J ~ A G B H C #  P    (  h           5  4 `  G I C 5 `I     6 `J 7 `K J %  >  8 `*     S   T   U 9 `  ~ G [   : `~ G ]        ; `~ A G $  P    h      (  (    @  )       x 5  y z < `~ G ] | } = `~ G ] |  > `~ G ] |  ? `~ G ] |  @ `1  ~ G ]  A `1  ~ G ]  B `~ G ]   C `      %  P[   ]  &  P-  w  6     H  @2 a  b  D `     E `  '  P       F `(  G ` H ` I ` n  @  q  \  J `@   (  H "  ~   K `~  0  V *  L `~  n  \ [ !  (  M ` (  N `~  0  H y O `w \ P `{ \ Q `  ~  L 0  V *  [ (  R `$  ~    W i L H  O  S `~   T `~  L    R @    (  U `H  (  V `V *  ~ [ H  (  W `V *  ~ ] X `~   (  Y `~   (  Z `~    (  [ `~ ] | \ `~ ] | ] `~ ] | ^ `~ ] | _ `~ ] | 1  ` `~ ] | 1  a `~ ]   c `(  b ` o  U pd `@      ~   i     (    2  Pw   3  P-  ]   e `[ !  v l    4  P(  f `~  I   (   g ` (  h ` (  i ` (  j `k `l `  m `  n `  o `     p `-      q `~ I    (   r `~  *  t `(  \  s `5  ,  Y  5  Pf p~  @  \  0  I  u `$   w ` r  $   N   r  (  v `o  O  @j p    x `   z ` H  [   (  "  y ` $  V *  o  m p{ `$  V    e  H "  @  "  r  (  | `$       } `$        `"           [   ~ `$      r p `$     `$  o  +  Q  @   s  "           `$    `$     `$   r   T  @        `$  [    H   `$     B   `$  B      `$     [          "   ` `$     `$    `"       H     ` B   `B   `"      `    `@    (    `H "   B  j   ` `D  $     C    F   `H  I  ,  D   ` i   x  C      ` H      `      ` `$     C    [      F   `  C      `        F  ,   `"          ,    ` H      `      `$      `   `        `         `  @    `    i [    ` 
 (      `  @   
    `$                `$                 ` `             `  i  `    `   [  H      `    i H      `   ! "       `  !  "       `%    " &  !  `      H        [    i  `o  "  ^  @) * + ,   _  @$   ' H          a         `$               1  2  3  4 a  `$           2   1 a 4  3   `      H       `  p  p  pg p      @      @      (   	  
                @                             P    p    pK      @  p  !  o    p"    @  p%    p    p:  	  pD  
  p+  p      p,    p1  w    @  p3    p5    p6    p4    pu    p>    @  p?  B    @  p     pF    pJ    pI  x  	  @  pL  
  @M    @  pT    pX    pY    pZ     p\  !  p_  "  pa  #  pc  %  pg  '  ph  (  pm  *  ps  ,  py  -  p.  p/  p|  0  p  1  p  2  p  3  p5  p6  p  7  p  8  p  9  p  :  p  ;  p  <  p  =  p    @>  p?  p@  pV      @     j  I  `      P    @B  pC  p    @  z        @E  p   G  p  H  p  J  p	   L  p  N  p  P  p  R  p  T  pV  p  X  po  Z  p  \  p  ^  p  `  p  b  p  d  p  f  p  i  pj  pd  l  p  m  p  @e             r  n  p   o  p      @p  p  q  p  r  p  s  p  t  pF   v  p  x  p  z  p{  p|  p  }  p    p  p  p  p  p0      p  @  p    p  p    @  p  p  p  p    p    p  p  p  p  p    @  p  p  p   p    @  p      @    p  p    p4    p      @  p    p    p    @  p      @	 !  @   p  p    p   p   p,   p   p/   p  p1   p 7 #  @  p  p; @ %  @  p  p    p  pC   p  pI   pQ   pH '  @  p)  @  pb   *  @  pc   pf   pg   ph   p  p?   p    p  pr   ps   pt   pu   px   pz   py   p|   p    p   p   p   py    p   p  p   p   p   p   p   p   p   p   p   p   p   p  p   p   p   p   p   p   p   p   p   p   p _ .  @     p  p  p  p  p/  @0  @ 1  @ p  p  p   p   p4   3  @ p a 4  @` 5  @ p p & ;  @d  p' <  @ p p, . / =  @ p-  p+ 4 5 >  @ p p7 8 ?  @ p p9 : @  @ p p A  @ p p p    p   ! p" p  ~ B  @# p$ p> % p@ & pI ' p( p) pC  @D  @B E  @M L N W P O R Q * p[ V R W  Y X + pZ , p\ F  @[ G  @l k n m p o q r  s  u t - pv . p{ / p~ 0 p 1 p 2 p 3 p 4 p 5 p| ] G I  @    6 p7 p      J  @(  P)  P*  P+  P,  P-  P.  P/  P0  P1  PA K  @8 p9 p : p ; p   < p = p> p? p@ pA p B p C pD pE pF p G pH pI p L  @J pK pL pM pN pO pP pQ pR pS pT p V pW pX pY pZ p[ pM  @\ p=  ] p_ ^ pa _ pc ` pe a pg b pi c p d p e p  N  @h p i p P  @k p l p n p o p p p q p s p t pR  @u p v pS  @w px p y pz p { p | p} p  U  @~ p   p  p  p p  p  p   p V  @ p p p W  @ pX  @ p p Y  @ p p  p  pZ  @ p[  @ p \  @              p    p  p  p  p p  p  p  p p  ]  @  p  p  p  p  p  p  p   p$  p'  p p/  p5  pX%
  ?                                 K                            7             8             %        #              4      :        6      D        8      +        @      9       <      :       I      ;       D      <       M      3        O      5        P      6        S      4        X              \      =       h      ?        k               p      F        v      J        y      I        |      L           
   T              X              >             Y              Z              \              _              a           	   c              ?             g              @             h              m              A          
   s           
   B             y              5              6              |                         
                         
     %             C                                              $  
           .             0             2             5             7             :     h        B     m        L     D       J     E       O              Y             U     F       _              ^     G       d             n             j     H       u     	         q     I       |             x     J                         K                         L                         M                         N                         O            o             P                         Q                         R                         S                         T                         U                         V                         W            W            y          
   d             X                         %             Y            Y                                                                F              Z                         [                         \       
                                                         ]            +                          %        (             $     ^                     /     _       4             E  
           =     `       :     a       V  	           O     ^       _     b       d             i     :        l     D        r             o     c       v             {                  %        ~     d                                                                  e                                                                             f            f            f                                      4                          g                                      h                                    (                i                     "               j       =     ,       @            \     /       `             e     1       m            w              u     k            ;                                    	   J          
   C            I              $          	   l            m            m            n            b            o            c            f            g            h                         ?            p                         q       2     %        *     d       ?     r       E     s       I     t       Q     u       V     x       ]     z       a     y       e     |       k             o            u            {                 y                         Q                                                                                                                                 	                                                                         	                                              "  
          ,  
          6            =  	   r       F     r       ]     s       p      t       h     u       j     u       l     u       n     u            s                                                                                        v            w            "                      =          "     {       &              $     |       <  
   ,       F     -       N     +       J     }       R     -       [     +       W     }       `     -       h     +       e     }       l     -       u     +       p     }       y              ~             |     ~                                                                               >            @            I                                      %             [            Z            \            v            {            ~                                           %            +            1     |       E     Z       I     \       P     0        R            T            V              ]  	          f     L       l     W       t     O       w     Q       }                          
   [                        R         	               X            Z            \            k            m            o            {            ~                                                                                                |                    
     v            t                                    =             _            a            c       !     e       #     g       &     i       *            2            9            6                         F            Q            I            W            c            [            j            v            |                          
                                                              	                    ?o                                                                 
                                                                                                              	     F        	     I        	            	            	            	              $	            )	            0	     F        ;	            @	            D	              H	            K	            R	            Y	     J        ^	            d	            j	            p	  
          z	            	            	            	            	            	  	          	  	          	  
           	     $       	     '       	     +        	     /       

     5       
  
          H      Ex     Ex                                                               )  }  !  }  #               A  y  9  y  $                  9    9  ,               f  x  ^  x  4                       ?                 N	    N	  S               c	  	  [	  	  Z               	  '
  	  '
  a             O
  
  G
  
  f   #             
  
  
  
  h              %        m   2                }    o                G    G  u               Z  w  R  w  y                       }                h    h                }    u                              !                                      _    _                ~    v                     G    G                 b  (  Z  (                  X    P                  H    @                 /  >  '  >                   8    8     '           Q    I                                                                 2    2                 M    E                                        t    l    
  5          .  8    8               .  2  
  2    .           Q    I                                                  -            i    i  !                c    c  %  @               w    5                *     *   9              >      6      >                #"     #"  D              <"  "  4"  "  R              "  ;#  "  ;#  V              S#  z#  K#  z#  Z             #  %  #  %  ^              #  ~$  #  ~$  _  <           %%  L%  %  L%  g              g%  %  _%  %  k             %  U&  %  U&  o             .l&  M'  d&  M'  t             c'  '  ['  '  |             '  '  '  '                (  o(  '  o(               (  (  {(  (                (  (  (  (                Q)  )  I)  )                )  *  )  *               V*  +  N*  +    4            *  
+  *  
+               ,  ,  x,  ,              
-  -  -  -                I-  -  A-  -    5          i.  ./  a.  ./                .  .  .  .               F/  0  >/  0              10  0  )0  0                k0  0  c0  0              1  1  	1  1                L1  1  D1  1              1  2  1  2                2  q2  2  q2              2  \3  2  \3                2  C3  2  C3              r3  4  j3  4                3   4  3   4              -4  -5  %4  -5                o4  5  g4  5              C5  5  ;5  5  	              {5  5  s5  5              6  6  6  6                6  6  |6  6    +          6  |7  6  |7                $7  e7  7  e7              7  #8  7  #8  #              7  8  7  8  %            58  9  -8  9  *              h8  8  `8  8  ,            *9  :  "9  :  4              ]9  9  U9  9  6            $:  :  :  :  >              h:  :  `:  :  @            
;  ;  ;  ;  G              C;  ~;  ;;  ~;  I            ;  V<  ;  V<  O              ;  <<  ;  <<  Q            k<  |=  c<  |=  X              <  <  <  <  Y              <  g=  <  g=  [             =  =  =  =  a             =  >  =  >  e               >  >  >  >  k             >  ?  >  ?  p              5?  z?  -?  z?  t               U@  QA  M@  QA                A  B  A  B               C  	D  C  	D               D  KD  D  KD                _D  {D  WD  {D                D  D  D  D               D  #E  D  #E                 D  E  D  E               9E  E  1E  E                 aE  E  YE  E    $          E  uF  E  uF                 ;F  oF  3F  oF                F  
G  F  
G                G  pG  G  pG               G  G  }G  G               G  H  G  H                G  H  G  H    $           H  H  H  H                H  
I  H  
I                 I  dI  I  dI               yI  HJ  qI  HJ                 I  J  I  J                J  J  J  J               !K  L  K  L    $            L  EM  L  EM  	            wM  6O  oM  6O              M  O  M  O    ,            N  N  N  N    <          KO  UP  CO  UP  #              O  $P  O  $P  %  /           P  4Q  xP  4Q  -  &           Q  R  Q  R  5             R  R  R  R  A              R  R  R  R  E             S  S  S  S  I              >S  S  6S  S  J  *           S  <U  S  <U  P              XU  U  PU  U  `             U  !V  U  !V  d               U  	V  U  	V  e  *           6V  \V  .V  \V  j               mV  V  bV  V  o             V  W  V  W  u              W  9W  W  9W  v             W  X  W  X  z  %           eY  Y  ]Y  Y               Y  iZ  Y  iZ               Z  [  wZ  [                ([  t[   [  t[               [  y\  [  y\                 [  [  [  [                 [  #\  [  #\                 3\  e\  +\  e\                \  ]  \  ]               ]  u]  ]  u]               ]  ]  ]  ]              ]  ^  ]  ^                -^  ^  %^  ^                V_  }_  N_  }_                 _  _  _  _                 _  _  _  _                `  a  `  a               b  c  b  c              0c  h  (c  h               f  f  f  f                h  i  h  i  $             i  n  i  n  *               n  ,n  m  ,n  F  !           n  o  n  o  M              ?o  >s  7o  >s  R              Vs  s  Ns  s  s             s  at  s  at  y             .|t  u  tt  u                .u  u  &u  u              Tv  Hx  Lv  Hx               w  x  w  x    (           dx  Pz  \x  Pz                z  |  z  |               |  x|  |  x|                |  +}  |  +}                H}  w~  @}  w~               ~  ~  ~  ~                 ~  #  ~  #                u    m      *                      -                      2            Z    R                  l    l  )                h    h  *  1                     1                j    j  5              }    u    ;                        @              5    -    E                    K              K  b  C  b  N               y    y  R              D  [  <  [  ]                     a              #        d  9            -    %    l                d    d  u              ~    v    y                      }                        !                                      c    c                z    r                                        H                      H                      H  ;    ;                HN    F                            "             A    9      #              b    b                z    r                    
    
                #  ^    ^                y    q                    ]    ]                {    s                  #                        E    E                 a    Y                    
                        4  l  ,  l                  9    9                P    H                          $                      0                      4                |    |  B                      I              	        `                9    9  p              T  i  L  i  }                ^  |  ^                d  h  \  h    &              T    T    &            ~    v      (          |    t      $                      +                                   $  H    H    '                                   )    !      (            B    :                                          \    \                q    i                           
             9    1                  u    m    (             6  9  .  9  -              	        F                      M              1        W                                 :  1  2  1                  '    '                Y    Q      &                                                      C    ;                 <    4                   Q    Q                 ?    ?    ,             G    G               c    [                                      n    f                   d    d                 R    R                 D    D              X    P                            8             )    )               ;    3                   U    U               l    d                    f    f              .  g  {  g                        0                       I                     O               /    /  S              E    =    W               f  	  ^  	  d                      l              #        p                Y    Y                {    s      !               c    c    !                }      !              L    L    #            n    f      !              9    9    !            [    S      !                                    U    U                q  
  i  
                                      ,    $                    .   .                                 $ W  W 	               O  O 	              e  ]  	              t  t (	               N	  N	 0	              q	 	 i	 	 7	  !            
 
 
 
 =	  %           
  
  D	                  W	                 o	               |  | t	               V  V 	              k  c  	                 	              * 
 " 
 	              &    	                  	              =  5  	  !                	  !            5  -  	  !                	  !            @  8  	  !             !  ! 	  !            C  ;  	  !              	              {  s  	  .            M  $ E  $ 	              % ?& % ?& 	              U& ' M& ' 	              ' `( ' `( 
              {( ) s( ) 
              6) ) .) ) 
              ) * ) * 
              -* H* %* H* 
              \* * T* * 
              * * * * 
              * * * * 
              * :+ * :+ 
              N+ + F+ + 
              + , + , 
              - - , - (
            - / - / /
              . . . . 1
  D            / -0 / -0 =
               L0 ~0 D0 ~0 A
             0 2 0 2 F
              0 m2 0 m2 G
  ,            2 .3 2 .3 Z
             H3 M4 @3 M4 ^
              3 B4 3 B4 `
              e4 66 ]4 66 h
              L6 6 D6 6 x
              6 7 6 7 ~
             =7 8 57 8 
              t7 8 l7 8 
  /            98 8 18 8 
              8 : 8 : 
              : 0; : 0; 
              E; ; =; ; 
              ; < ; < 
              < v= < v= 
              = = = = 
              = > = > 
              '> :? > :? 
              P? ? H? ? 
              ? .@ ? .@ 
              CA 7B ;A 7B 
              SB B KB B 
              B B B B 
             B TC B TC              lC C dC C              D E C E               "E E E E               ,F 1F $F 1F   "            mF 5G eF 5G               TG G LG G )              G H G H -              tI I lI I :              .J _J &J _J A               J J J J H  "            K #L K #L J             @L L 8L L U              L QM L QM ]  "            pM N hM N a             dO O \O O r              (P YP  P YP y               Q Q Q Q               R R R R               R )S R )S               @S S 8S S               S T S T               /U V 'U V              RV W JV W              X X W X                Y .Z 	Y .Z               JZ \ BZ \              ] _ ] _                2_ ` *_ `                3` a +` a 
              6a b .a b               b d b d #             hd e `d e /             f g f g <  )           h Gi h Gi J              Zi k Ri k T              k p k p m              p s p s               s u s u               v +x v +x   '          5.4Y      uggGg?   q    O^partitionKey=%28https%2Ckela.fi%29,:https://asiointi.kela.fi/palvelutuottajarekisteri/theme/script/prototype.js necko:classified 1 strongly-framed 1 security-info FnhllAKWRHGAlo+ESXykKAAAAAAAAAAAwAAAAAAAAEaphjojH6pBabDSgSnsfLHeAAAAAgAAAAAAAAAAAAAAAAAAAAEAOQFmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAcAMIIG/DCCBeSgAwIBAgIQTPnt8wj0Y3XPXfCcYCQiLzANBgkqhkiG9w0BAQsFADCBujELMAkGA1UEBhMCVVMxFjAUBgNVBAoTDUVudHJ1c3QsIEluYy4xKDAmBgNVBAsTH1NlZSB3d3cuZW50cnVzdC5uZXQvbGVnYWwtdGVybXMxOTA3BgNVBAsTMChjKSAyMDE0IEVudHJ1c3QsIEluYy4gLSBmb3IgYXV0aG9yaXplZCB1c2Ugb25seTEuMCwGA1UEAxMlRW50cnVzdCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAtIEwxTTAeFw0yNDEwMDIwNDA4MzBaFw0yNTExMDEwNDA4MjlaMIGdMQswCQYDVQQGEwJGSTERMA8GA1UEBxMISGVsc2lua2kxEzARBgsrBgEEAYI3PAIBAxMCRkkxGzAZBgNVBAoMEkthbnNhbmVsw6RrZWxhaXRvczEaMBgGA1UEDxMRR292ZXJubWVudCBFbnRpdHkxEjAQBgNVBAUTCTAyNDYyNDYtMDEZMBcGA1UEAxMQYXNpb2ludGkua2VsYS5maTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALnihtKO1xFNW21K+PIC4sgqnDAOKcDID5kFAjthjiplkjwBh49sZfDhOwgKTe+uWvZ0AqNHACL0D2oTb/5naZhuvH7KPpwXRnHHj+lpv4Edpv90lWdTQD5EjlrSSZ19nrnYlvSY7LqzhqhwKLI+d5Rc9S8PkI8SDZqCquOU5QuknPqST1pu4MayO/aXwGM7YkTdUeaNFO/8o/KaOeaaKjYXOf+JVJpGvC9ijwZ3RYPoBD+cSaG7cjai6TOZPrX2FrALBIaYfIPhj2pQMULwhL0ysBKWCFi1Ouxmi+ghkui745gE55rGg1wU8mcRyDb1qHQqVYJq0kOYIbMJoSmns08CAwEAAaOCAxcwggMTMAwGA1UdEwEB/wQCMAAwHQYDVR0OBBYEFNOrhEybaursv+CaOKAQm3HcsgjtMB8GA1UdIwQYMBaAFMP30LUqMK2vDZEhcDlU3byJcMc6MA4GA1UdDwEB/wQEAwIFoDATBgNVHSUEDDAKBggrBgEFBQcDATAxBgNVHREEKjAoghBhc2lvaW50aS5rZWxhLmZpghR3d3cuYXNpb2ludGkua2VsYS5maTBoBggrBgEFBQcBAQRcMFowIwYIKwYBBQUHMAGGF2h0dHA6Ly9vY3NwLmVudHJ1c3QubmV0MDMGCCsGAQUFBzAChidodHRwOi8vYWlhLmVudHJ1c3QubmV0L2wxbS1jaGFpbjI1Ni5jZXIwMwYDVR0fBCwwKjAooCagJIYiaHR0cDovL2NybC5lbnRydXN0Lm5ldC9sZXZlbDFtLmNybDBLBgNVHSAERDBCMAcGBWeBDAEBMDcGCmCGSAGG+mwKAQIwKTAnBggrBgEFBQcCARYbaHR0cHM6Ly93d3cuZW50cnVzdC5uZXQvcnBhMIIBfQYKKwYBBAHWeQIEAgSCAW0EggFpAWcAdgAN4fIwK9MNwUBiEgnqVS78R3R8sdfpMO8OQh60fk6qNAAAAZJLak42AAAEAwBHMEUCIFdPB1iBq3zu/MXmaAd8xjviTwPjTfs6zUn/QgViZh9sAiEAgRVV1ZkdTgRV1D1pEwvArr8bmjuO2JVfCFgoXD+JweEAdQAS8U40vVNyTIQGGcOPP3oT+Oe1YoeInG0wBYTr5YYmOgAAAZJLak4fAAAEAwBGMEQCIDOg/VlS8BlsTkS1Sv5wiALJZdH004OpDiXyMC3HI4FDAiBcSYQ7Rsv9Hpeu0+MkyCXC8c16Ck+PUyASpUrGWJH/7wB2AObSMWNAd4zBEEEG13G5zsHSQPaWhIb7uocyHf0eN45QAAABkktqTksAAAQDAEcwRQIhAIqgOZJyGk3koFiJyCykxWGuKID3KAhyrual9VB5wK8JAiBJ3/b/nh70vDFO1JVWCMS7NI2ZScIeFgFq/s+G0Jq0IjANBgkqhkiG9w0BAQsFAAOCAQEAInVnVAw4tMmxSDeuCCxmPRuCB8OgyTg7wuG7Kxzm2F0s9O4+YaN1l81vl6/4AdiW9sV+uOaZHjet0PjO6gOXvRh1m/tnsJi4OV8JPJpwPBJawhQj6hkGXToLsN53H/ZFGj4xOcun7hAGa4H/wrywN/C0nUC4JwdH6lbAiciT6CkU2HoBiv4mJcufn9tRjIBI0KdfeXybQks0iQLSJyPhQsfWsd0CeW+2LxNCp4qNfg8UBBSXJVmjKgtZjfo/7VfCBTZhI1V10HXB2MyYNp855l5X/5mSGsSYDOj7wu6gxy0voJS/NNaEGgJK6DNJyD2lH47N+rdY24GpTSWptXi5JsAwAAMAAAAAAQEBAAAAAAAABFAyNTYAAAAQUlNBLVBLQ1MxLVNIQTI1NgADZgoyJpFcT/u7IImFpjLfBb3Dl5pUIkzVhYlpa26W6oMAAAAAAAAHADCCBvwwggXkoAMCAQICEEz57fMI9GN1z13wnGAkIi8wDQYJKoZIhvcNAQELBQAwgboxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1FbnRydXN0LCBJbmMuMSgwJgYDVQQLEx9TZWUgd3d3LmVudHJ1c3QubmV0L2xlZ2FsLXRlcm1zMTkwNwYDVQQLEzAoYykgMjAxNCBFbnRydXN0LCBJbmMuIC0gZm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxLjAsBgNVBAMTJUVudHJ1c3QgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBMMU0wHhcNMjQxMDAyMDQwODMwWhcNMjUxMTAxMDQwODI5WjCBnTELMAkGA1UEBhMCRkkxETAPBgNVBAcTCEhlbHNpbmtpMRMwEQYLKwYBBAGCNzwCAQMTAkZJMRswGQYDVQQKDBJLYW5zYW5lbMOka2VsYWl0b3MxGjAYBgNVBA8TEUdvdmVybm1lbnQgRW50aXR5MRIwEAYDVQQFEwkwMjQ2MjQ2LTAxGTAXBgNVBAMTEGFzaW9pbnRpLmtlbGEuZmkwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC54obSjtcRTVttSvjyAuLIKpwwDinAyA+ZBQI7YY4qZZI8AYePbGXw4TsICk3vrlr2dAKjRwAi9A9qE2/+Z2mYbrx+yj6cF0Zxx4/pab+BHab/dJVnU0A+RI5a0kmdfZ652Jb0mOy6s4aocCiyPneUXPUvD5CPEg2agqrjlOULpJz6kk9abuDGsjv2l8BjO2JE3VHmjRTv/KPymjnmmio2Fzn/iVSaRrwvYo8Gd0WD6AQ/nEmhu3I2oukzmT619hawCwSGmHyD4Y9qUDFC8IS9MrASlghYtTrsZovoIZLou+OYBOeaxoNcFPJnEcg29ah0KlWCatJDmCGzCaEpp7NPAgMBAAGjggMXMIIDEzAMBgNVHRMBAf8EAjAAMB0GA1UdDgQWBBTTq4RMm2rq7L/gmjigEJtx3LII7TAfBgNVHSMEGDAWgBTD99C1KjCtrw2RIXA5VN28iXDHOjAOBgNVHQ8BAf8EBAMCBaAwEwYDVR0lBAwwCgYIKwYBBQUHAwEwMQYDVR0RBCowKIIQYXNpb2ludGkua2VsYS5maYIUd3d3LmFzaW9pbnRpLmtlbGEuZmkwaAYIKwYBBQUHAQEEXDBaMCMGCCsGAQUFBzABhhdodHRwOi8vb2NzcC5lbnRydXN0Lm5ldDAzBggrBgEFBQcwAoYnaHR0cDovL2FpYS5lbnRydXN0Lm5ldC9sMW0tY2hhaW4yNTYuY2VyMDMGA1UdHwQsMCowKKAmoCSGImh0dHA6Ly9jcmwuZW50cnVzdC5uZXQvbGV2ZWwxbS5jcmwwSwYDVR0gBEQwQjAHBgVngQwBATA3BgpghkgBhvpsCgECMCkwJwYIKwYBBQUHAgEWG2h0dHBzOi8vd3d3LmVudHJ1c3QubmV0L3JwYTCCAX0GCisGAQQB1nkCBAIEggFtBIIBaQFnAHYADeHyMCvTDcFAYhIJ6lUu/Ed0fLHX6TDvDkIetH5OqjQAAAGSS2pONgAABAMARzBFAiBXTwdYgat87vzF5mgHfMY74k8D4037Os1J/0IFYmYfbAIhAIEVVdWZHU4EVdQ9aRMLwK6/G5o7jtiVXwhYKFw/icHhAHUAEvFONL1TckyEBhnDjz96E/jntWKHiJxtMAWE6+WGJjoAAAGSS2pOHwAABAMARjBEAiAzoP1ZUvAZbE5EtUr+cIgCyWXR9NODqQ4l8jAtxyOBQwIgXEmEO0bL/R6XrtPjJMglwvHNegpPj1MgEqVKxliR/+8AdgDm0jFjQHeMwRBBBtdxuc7B0kD2loSG+7qHMh39HjeOUAAAAZJLak5LAAAEAwBHMEUCIQCKoDmSchpN5KBYicgspMVhriiA9ygIcq7mpfVQecCvCQIgSd/2/54e9LwxTtSVVgjEuzSNmUnCHhYBav7PhtCatCIwDQYJKoZIhvcNAQELBQADggEBACJ1Z1QMOLTJsUg3rggsZj0bggfDoMk4O8Lhuysc5thdLPTuPmGjdZfNb5ev+AHYlvbFfrjmmR43rdD4zuoDl70YdZv7Z7CYuDlfCTyacDwSWsIUI+oZBl06C7Dedx/2RRo+MTnLp+4QBmuB/8K8sDfwtJ1AuCcHR+pWwInIk+gpFNh6AYr+JiXLn5/bUYyASNCnX3l8m0JLNIkC0icj4ULH1rHdAnlvti8TQqeKjX4PFAQUlyVZoyoLWY36P+1XwgU2YSNVddB1wdjMmDafOeZeV/+ZkhrEmAzo+8LuoMctL6CUvzTWhBoCSugzScg9pR+Ozfq3WNuBqU0lqbV4uSZmCjImkVxP+7sgiYWmMt8FvcOXmlQiTNWFiWlrbpbqgwAAAAAAAAUxMIIFLTCCBBWgAwIBAgIMYaHn0gAAAABR02amMA0GCSqGSIb3DQEBCwUAMIG+MQswCQYDVQQGEwJVUzEWMBQGA1UEChMNRW50cnVzdCwgSW5jLjEoMCYGA1UECxMfU2VlIHd3dy5lbnRydXN0Lm5ldC9sZWdhbC10ZXJtczE5MDcGA1UECxMwKGMpIDIwMDkgRW50cnVzdCwgSW5jLiAtIGZvciBhdXRob3JpemVkIHVzZSBvbmx5MTIwMAYDVQQDEylFbnRydXN0IFJvb3QgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBHMjAeFw0xNDEyMTUxNTI1MDNaFw0zMDEwMTUxNTU1MDNaMIG6MQswCQYDVQQGEwJVUzEWMBQGA1UEChMNRW50cnVzdCwgSW5jLjEoMCYGA1UECxMfU2VlIHd3dy5lbnRydXN0Lm5ldC9sZWdhbC10ZXJtczE5MDcGA1UECxMwKGMpIDIwMTQgRW50cnVzdCwgSW5jLiAtIGZvciBhdXRob3JpemVkIHVzZSBvbmx5MS4wLAYDVQQDEyVFbnRydXN0IENlcnRpZmljYXRpb24gQXV0aG9yaXR5IC0gTDFNMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0IHBOSPCsdHs91fdVSQ2kSAiSPf8ylIKsKs/M7WwhAf23056sPuYIj0BrFb7cW2y7rmgD1J3q5iTvjOK64dex6qwymmPQwhqPyK/MzlG1ZTy4kwFItlngJHxBEoOm3yiydJs/TwJhL39axSagR3nioPvYRZ1R5gTOw2QFpi/iuInMlOZmcP7lhw192LtjL1JcdJDQ6Gh4yEqI3CodT2ybEYGYW8YZ+QpfrI8wcVfCR5uRE7sIZlYFUj0VUgqtzS0BeN8SYwAWN46lsw53GEzVc4qLj/RmWLoquY0djGqr3kplnjLgRSvadr7BLlZg0SqCU+01CwBnZuUMWstoc/B5QIDAQABo4IBKzCCAScwDgYDVR0PAQH/BAQDAgEGMB0GA1UdJQQWMBQGCCsGAQUFBwMCBggrBgEFBQcDATASBgNVHRMBAf8ECDAGAQH/AgEAMDMGCCsGAQUFBwEBBCcwJTAjBggrBgEFBQcwAYYXaHR0cDovL29jc3AuZW50cnVzdC5uZXQwMAYDVR0fBCkwJzAloCOgIYYfaHR0cDovL2NybC5lbnRydXN0Lm5ldC9nMmNhLmNybDA7BgNVHSAENDAyMDAGBFUdIAAwKDAmBggrBgEFBQcCARYaaHR0cDovL3d3dy5lbnRydXN0Lm5ldC9ycGEwHQYDVR0OBBYEFMP30LUqMK2vDZEhcDlU3byJcMc6MB8GA1UdIwQYMBaAFGpyJnrQHu995ztpUdRsjZ+QEmarMA0GCSqGSIb3DQEBCwUAA4IBAQC0h8eEIhopwKR47PVPG7SEl2937tTPWa+oQ5YvHVjepvMVWy7ZQ5xMQrkXFxGttLFBx2YMIoYFp7Qi+8VoaIqIMthx1hGOjlJ+Qgld2dnADizvRGsf2yS89byxqsGK5Wbb0CTz34mmi/5e0FC6m3UAyQhKS3Q/WFOv9rihbISYJnz8/DVRZZgeO2x28JkPxLkJ1YXYJKd/KsLak0tkuHB8VCnTglTVz6WUwzOeTTRn4Dh2ZgCN0C/GqwmqcvrOLzWJ/MDtBgO334wlV/H77yiI2YIowAQPlIFpI+CRKMVe1QzX1CA778n4wI+nQc1XRG5sZ2L+hN/nYNjvv9QiHg3nZgoyJpFcT/u7IImFpjLfBb3Dl5pUIkzVhYlpa26W6oMAAAAAAAAEQjCCBD4wggMmoAMCAQICBEpTjCgwDQYJKoZIhvcNAQELBQAwgb4xCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1FbnRydXN0LCBJbmMuMSgwJgYDVQQLEx9TZWUgd3d3LmVudHJ1c3QubmV0L2xlZ2FsLXRlcm1zMTkwNwYDVQQLEzAoYykgMjAwOSBFbnRydXN0LCBJbmMuIC0gZm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxMjAwBgNVBAMTKUVudHJ1c3QgUm9vdCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAtIEcyMB4XDTA5MDcwNzE3MjU1NFoXDTMwMTIwNzE3NTU1NFowgb4xCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1FbnRydXN0LCBJbmMuMSgwJgYDVQQLEx9TZWUgd3d3LmVudHJ1c3QubmV0L2xlZ2FsLXRlcm1zMTkwNwYDVQQLEzAoYykgMjAwOSBFbnRydXN0LCBJbmMuIC0gZm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxMjAwBgNVBAMTKUVudHJ1c3QgUm9vdCBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0eSAtIEcyMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAuoS2ctueDGvimekwAad26jK4lUEaydphTlhyz/72gnm/c2EGCqUn2LNf00VOHHLWTjLycooP94MZ0GqAgABFHrDH55q/ElcnHKNoLwqHvWprDl5l8xx31dSFjXAhtLMy54ui1YY5ArG40kfO5MlJxDun3vtUfVe+8OhuwnmyOgtV4lCYFjITXC94VsHClLPyWuQnmp8k18bs0JslguPMwsRFxYyXegZrKhGfqQpuSDtv29QRGUL3jwe/9VNfnD70FyzmaaxOMkxid+q36OW7NLwZi66cUee3frVTsTMi5W3PcDwa+uKbZ7aD9I2lr2JMTeBYrGQ0EgP4to2UYySkcQIDAQABo0IwQDAOBgNVHQ8BAf8EBAMCAQYwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUanImetAe733nO2lR1GyNn5ASZqswDQYJKoZIhvcNAQELBQADggEBAHmfHZbGtnk/Io2H04cDBGBqa5ouWYlzEaxD0fUT/405K8DyvU9wjKkv6hfEC1Se1BuWmDM8qK1iogB2q1lpbgYdfsS5RI2YrxLUYdsKGUZH8+v3Y8FABUCl0rf0tZo2v6mIdogEVQQrnId/Gjc8fi2lGtjUiV7Kvaw9bNhtr9Xzdg/NO4g4Ip1sk5rEPb+CG2U/pg9dqvzlshXKta3GvD3QhOjqBnKwTTkyeL8+EZwLpJ2aIfPwmwsweNvB3IdD/rxjmsrFwhzJx43/OxJYCOa2Pex6LE77g5bODDxph1RzpHPCk/9REKwVVAHY/AWxiaF/dIOaSdfcTnuKSG+LRfYAAAABAAAAAAABAAAAAEp0bHNmbGFnczB4MDAwMDAwMDA6YXNpb2ludGkua2VsYS5maTo0NDNecGFydGl0aW9uS2V5PSUyOGh0dHBzJTJDa2VsYS5maSUyOQAA request-method GET response-head HTTP/1.1 200 OK
content-type: application/javascript
content-length: 96317
date: Wed, 15 Jan 2025 11:56:53 GMT
last-modified: Mon, 09 Dec 2024 06:16:32 GMT
content-language: en-US
 original-response-headers date: Sun, 22 Dec 2024 15:52:12 GMT
content-type: application/javascript
last-modified: Mon, 09 Dec 2024 06:16:32 GMT
content-length: 96317
content-language: en-US
 ctid 2 uncompressed-len 0 net-response-time-onstart 128 net-response-time-onstop 264 alt-data 1;96317,javascript/moz-script-bytecode-20241209150345-8l alt-data-from-child 1  